var yw=Object.defineProperty;var vw=(t,e,n)=>e in t?yw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var F=(t,e,n)=>vw(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var zt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Nm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function xw(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var jm={exports:{}},Il={},Rm={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mo=Symbol.for("react.element"),ww=Symbol.for("react.portal"),bw=Symbol.for("react.fragment"),_w=Symbol.for("react.strict_mode"),kw=Symbol.for("react.profiler"),Sw=Symbol.for("react.provider"),Tw=Symbol.for("react.context"),Ew=Symbol.for("react.forward_ref"),Pw=Symbol.for("react.suspense"),Cw=Symbol.for("react.memo"),Mw=Symbol.for("react.lazy"),kf=Symbol.iterator;function Dw(t){return t===null||typeof t!="object"?null:(t=kf&&t[kf]||t["@@iterator"],typeof t=="function"?t:null)}var Im={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Lm=Object.assign,zm={};function Xs(t,e,n){this.props=t,this.context=e,this.refs=zm,this.updater=n||Im}Xs.prototype.isReactComponent={};Xs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Xs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Fm(){}Fm.prototype=Xs.prototype;function Od(t,e,n){this.props=t,this.context=e,this.refs=zm,this.updater=n||Im}var Nd=Od.prototype=new Fm;Nd.constructor=Od;Lm(Nd,Xs.prototype);Nd.isPureReactComponent=!0;var Sf=Array.isArray,$m=Object.prototype.hasOwnProperty,jd={current:null},Bm={key:!0,ref:!0,__self:!0,__source:!0};function Wm(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)$m.call(e,r)&&!Bm.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Mo,type:t,key:i,ref:o,props:s,_owner:jd.current}}function Aw(t,e){return{$$typeof:Mo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Rd(t){return typeof t=="object"&&t!==null&&t.$$typeof===Mo}function Ow(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Tf=/\/+/g;function vc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Ow(""+t.key):e.toString(36)}function La(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Mo:case ww:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+vc(o,0):r,Sf(s)?(n="",t!=null&&(n=t.replace(Tf,"$&/")+"/"),La(s,e,n,"",function(c){return c})):s!=null&&(Rd(s)&&(s=Aw(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Tf,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Sf(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+vc(i,a);o+=La(i,e,n,l,s)}else if(l=Dw(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+vc(i,a++),o+=La(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ea(t,e,n){if(t==null)return t;var r=[],s=0;return La(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Nw(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var lt={current:null},za={transition:null},jw={ReactCurrentDispatcher:lt,ReactCurrentBatchConfig:za,ReactCurrentOwner:jd};function Hm(){throw Error("act(...) is not supported in production builds of React.")}re.Children={map:ea,forEach:function(t,e,n){ea(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ea(t,function(){e++}),e},toArray:function(t){return ea(t,function(e){return e})||[]},only:function(t){if(!Rd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};re.Component=Xs;re.Fragment=bw;re.Profiler=kw;re.PureComponent=Od;re.StrictMode=_w;re.Suspense=Pw;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jw;re.act=Hm;re.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Lm({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=jd.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)$m.call(e,l)&&!Bm.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Mo,type:t.type,key:s,ref:i,props:r,_owner:o}};re.createContext=function(t){return t={$$typeof:Tw,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Sw,_context:t},t.Consumer=t};re.createElement=Wm;re.createFactory=function(t){var e=Wm.bind(null,t);return e.type=t,e};re.createRef=function(){return{current:null}};re.forwardRef=function(t){return{$$typeof:Ew,render:t}};re.isValidElement=Rd;re.lazy=function(t){return{$$typeof:Mw,_payload:{_status:-1,_result:t},_init:Nw}};re.memo=function(t,e){return{$$typeof:Cw,type:t,compare:e===void 0?null:e}};re.startTransition=function(t){var e=za.transition;za.transition={};try{t()}finally{za.transition=e}};re.unstable_act=Hm;re.useCallback=function(t,e){return lt.current.useCallback(t,e)};re.useContext=function(t){return lt.current.useContext(t)};re.useDebugValue=function(){};re.useDeferredValue=function(t){return lt.current.useDeferredValue(t)};re.useEffect=function(t,e){return lt.current.useEffect(t,e)};re.useId=function(){return lt.current.useId()};re.useImperativeHandle=function(t,e,n){return lt.current.useImperativeHandle(t,e,n)};re.useInsertionEffect=function(t,e){return lt.current.useInsertionEffect(t,e)};re.useLayoutEffect=function(t,e){return lt.current.useLayoutEffect(t,e)};re.useMemo=function(t,e){return lt.current.useMemo(t,e)};re.useReducer=function(t,e,n){return lt.current.useReducer(t,e,n)};re.useRef=function(t){return lt.current.useRef(t)};re.useState=function(t){return lt.current.useState(t)};re.useSyncExternalStore=function(t,e,n){return lt.current.useSyncExternalStore(t,e,n)};re.useTransition=function(){return lt.current.useTransition()};re.version="18.3.1";Rm.exports=re;var ie=Rm.exports;const Y=Nm(ie);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rw=ie,Iw=Symbol.for("react.element"),Lw=Symbol.for("react.fragment"),zw=Object.prototype.hasOwnProperty,Fw=Rw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$w={key:!0,ref:!0,__self:!0,__source:!0};function Um(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)zw.call(e,r)&&!$w.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Iw,type:t,key:i,ref:o,props:s,_owner:Fw.current}}Il.Fragment=Lw;Il.jsx=Um;Il.jsxs=Um;jm.exports=Il;var g=jm.exports,Vm={exports:{}},Et={},Ym={exports:{}},qm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,$){var U=D.length;D.push($);e:for(;0<U;){var V=U-1>>>1,K=D[V];if(0<s(K,$))D[V]=$,D[U]=K,U=V;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var $=D[0],U=D.pop();if(U!==$){D[0]=U;e:for(var V=0,K=D.length,de=K>>>1;V<de;){var se=2*(V+1)-1,We=D[se],be=se+1,ce=D[be];if(0>s(We,U))be<K&&0>s(ce,We)?(D[V]=ce,D[be]=U,V=be):(D[V]=We,D[se]=U,V=se);else if(be<K&&0>s(ce,U))D[V]=ce,D[be]=U,V=be;else break e}}return $}function s(D,$){var U=D.sortIndex-$.sortIndex;return U!==0?U:D.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,f=!1,p=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(D){for(var $=n(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=D)r(c),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(c)}}function k(D){if(v=!1,w(D),!p)if(n(l)!==null)p=!0,z(S);else{var $=n(c);$!==null&&N(k,$.startTime-D)}}function S(D,$){p=!1,v&&(v=!1,y(P),P=-1),f=!0;var U=h;try{for(w($),d=n(l);d!==null&&(!(d.expirationTime>$)||D&&!I());){var V=d.callback;if(typeof V=="function"){d.callback=null,h=d.priorityLevel;var K=V(d.expirationTime<=$);$=t.unstable_now(),typeof K=="function"?d.callback=K:d===n(l)&&r(l),w($)}else r(l);d=n(l)}if(d!==null)var de=!0;else{var se=n(c);se!==null&&N(k,se.startTime-$),de=!1}return de}finally{d=null,h=U,f=!1}}var E=!1,C=null,P=-1,R=5,B=-1;function I(){return!(t.unstable_now()-B<R)}function O(){if(C!==null){var D=t.unstable_now();B=D;var $=!0;try{$=C(!0,D)}finally{$?L():(E=!1,C=null)}}else E=!1}var L;if(typeof m=="function")L=function(){m(O)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,A=M.port2;M.port1.onmessage=O,L=function(){A.postMessage(null)}}else L=function(){_(O,0)};function z(D){C=D,E||(E=!0,L())}function N(D,$){P=_(function(){D(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,z(S))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var U=h;h=$;try{return D()}finally{h=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,$){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var U=h;h=D;try{return $()}finally{h=U}},t.unstable_scheduleCallback=function(D,$,U){var V=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?V+U:V):U=V,D){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=U+K,D={id:u++,callback:$,priorityLevel:D,startTime:U,expirationTime:K,sortIndex:-1},U>V?(D.sortIndex=U,e(c,D),n(l)===null&&D===n(c)&&(v?(y(P),P=-1):v=!0,N(k,U-V))):(D.sortIndex=K,e(l,D),p||f||(p=!0,z(S))),D},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(D){var $=h;return function(){var U=h;h=$;try{return D.apply(this,arguments)}finally{h=U}}}})(qm);Ym.exports=qm;var Bw=Ym.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ww=ie,Tt=Bw;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Gm=new Set,no={};function Zr(t,e){Ls(t,e),Ls(t+"Capture",e)}function Ls(t,e){for(no[t]=e,t=0;t<e.length;t++)Gm.add(e[t])}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hu=Object.prototype.hasOwnProperty,Hw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ef={},Pf={};function Uw(t){return hu.call(Pf,t)?!0:hu.call(Ef,t)?!1:Hw.test(t)?Pf[t]=!0:(Ef[t]=!0,!1)}function Vw(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Yw(t,e,n,r){if(e===null||typeof e>"u"||Vw(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ct(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ke[t]=new ct(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ke[e]=new ct(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ke[t]=new ct(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ke[t]=new ct(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ke[t]=new ct(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ke[t]=new ct(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ke[t]=new ct(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ke[t]=new ct(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ke[t]=new ct(t,5,!1,t.toLowerCase(),null,!1,!1)});var Id=/[\-:]([a-z])/g;function Ld(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Id,Ld);Ke[e]=new ct(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Id,Ld);Ke[e]=new ct(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Id,Ld);Ke[e]=new ct(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ke[t]=new ct(t,1,!1,t.toLowerCase(),null,!1,!1)});Ke.xlinkHref=new ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ke[t]=new ct(t,1,!1,t.toLowerCase(),null,!0,!0)});function zd(t,e,n,r){var s=Ke.hasOwnProperty(e)?Ke[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Yw(e,n,s,r)&&(n=null),r||s===null?Uw(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var zn=Ww.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ta=Symbol.for("react.element"),ys=Symbol.for("react.portal"),vs=Symbol.for("react.fragment"),Fd=Symbol.for("react.strict_mode"),fu=Symbol.for("react.profiler"),Km=Symbol.for("react.provider"),Xm=Symbol.for("react.context"),$d=Symbol.for("react.forward_ref"),gu=Symbol.for("react.suspense"),pu=Symbol.for("react.suspense_list"),Bd=Symbol.for("react.memo"),qn=Symbol.for("react.lazy"),Qm=Symbol.for("react.offscreen"),Cf=Symbol.iterator;function ui(t){return t===null||typeof t!="object"?null:(t=Cf&&t[Cf]||t["@@iterator"],typeof t=="function"?t:null)}var Ee=Object.assign,xc;function Pi(t){if(xc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);xc=e&&e[1]||""}return`
`+xc+t}var wc=!1;function bc(t,e){if(!t||wc)return"";wc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{wc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Pi(t):""}function qw(t){switch(t.tag){case 5:return Pi(t.type);case 16:return Pi("Lazy");case 13:return Pi("Suspense");case 19:return Pi("SuspenseList");case 0:case 2:case 15:return t=bc(t.type,!1),t;case 11:return t=bc(t.type.render,!1),t;case 1:return t=bc(t.type,!0),t;default:return""}}function mu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case vs:return"Fragment";case ys:return"Portal";case fu:return"Profiler";case Fd:return"StrictMode";case gu:return"Suspense";case pu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Xm:return(t.displayName||"Context")+".Consumer";case Km:return(t._context.displayName||"Context")+".Provider";case $d:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Bd:return e=t.displayName||null,e!==null?e:mu(t.type)||"Memo";case qn:e=t._payload,t=t._init;try{return mu(t(e))}catch{}}return null}function Gw(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mu(e);case 8:return e===Fd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Zm(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Kw(t){var e=Zm(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function na(t){t._valueTracker||(t._valueTracker=Kw(t))}function Jm(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Zm(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function el(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function yu(t,e){var n=e.checked;return Ee({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Mf(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=fr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function e0(t,e){e=e.checked,e!=null&&zd(t,"checked",e,!1)}function vu(t,e){e0(t,e);var n=fr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?xu(t,e.type,n):e.hasOwnProperty("defaultValue")&&xu(t,e.type,fr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Df(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function xu(t,e,n){(e!=="number"||el(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ci=Array.isArray;function Ms(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+fr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function wu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return Ee({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Af(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(Ci(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:fr(n)}}function t0(t,e){var n=fr(e.value),r=fr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Of(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function n0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?n0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ra,r0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ra=ra||document.createElement("div"),ra.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ra.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ro(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Li={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xw=["Webkit","ms","Moz","O"];Object.keys(Li).forEach(function(t){Xw.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Li[e]=Li[t]})});function s0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Li.hasOwnProperty(t)&&Li[t]?(""+e).trim():e+"px"}function i0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=s0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Qw=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _u(t,e){if(e){if(Qw[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function ku(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Su=null;function Wd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Tu=null,Ds=null,As=null;function Nf(t){if(t=Oo(t)){if(typeof Tu!="function")throw Error(H(280));var e=t.stateNode;e&&(e=Bl(e),Tu(t.stateNode,t.type,e))}}function o0(t){Ds?As?As.push(t):As=[t]:Ds=t}function a0(){if(Ds){var t=Ds,e=As;if(As=Ds=null,Nf(t),e)for(t=0;t<e.length;t++)Nf(e[t])}}function l0(t,e){return t(e)}function c0(){}var _c=!1;function u0(t,e,n){if(_c)return t(e,n);_c=!0;try{return l0(t,e,n)}finally{_c=!1,(Ds!==null||As!==null)&&(c0(),a0())}}function so(t,e){var n=t.stateNode;if(n===null)return null;var r=Bl(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var Eu=!1;if(Nn)try{var di={};Object.defineProperty(di,"passive",{get:function(){Eu=!0}}),window.addEventListener("test",di,di),window.removeEventListener("test",di,di)}catch{Eu=!1}function Zw(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var zi=!1,tl=null,nl=!1,Pu=null,Jw={onError:function(t){zi=!0,tl=t}};function eb(t,e,n,r,s,i,o,a,l){zi=!1,tl=null,Zw.apply(Jw,arguments)}function tb(t,e,n,r,s,i,o,a,l){if(eb.apply(this,arguments),zi){if(zi){var c=tl;zi=!1,tl=null}else throw Error(H(198));nl||(nl=!0,Pu=c)}}function Jr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function d0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function jf(t){if(Jr(t)!==t)throw Error(H(188))}function nb(t){var e=t.alternate;if(!e){if(e=Jr(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return jf(s),t;if(i===r)return jf(s),e;i=i.sibling}throw Error(H(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function h0(t){return t=nb(t),t!==null?f0(t):null}function f0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=f0(t);if(e!==null)return e;t=t.sibling}return null}var g0=Tt.unstable_scheduleCallback,Rf=Tt.unstable_cancelCallback,rb=Tt.unstable_shouldYield,sb=Tt.unstable_requestPaint,Ae=Tt.unstable_now,ib=Tt.unstable_getCurrentPriorityLevel,Hd=Tt.unstable_ImmediatePriority,p0=Tt.unstable_UserBlockingPriority,rl=Tt.unstable_NormalPriority,ob=Tt.unstable_LowPriority,m0=Tt.unstable_IdlePriority,Ll=null,pn=null;function ab(t){if(pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(Ll,t,void 0,(t.current.flags&128)===128)}catch{}}var Zt=Math.clz32?Math.clz32:ub,lb=Math.log,cb=Math.LN2;function ub(t){return t>>>=0,t===0?32:31-(lb(t)/cb|0)|0}var sa=64,ia=4194304;function Mi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function sl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Mi(a):(i&=o,i!==0&&(r=Mi(i)))}else o=n&~s,o!==0?r=Mi(o):i!==0&&(r=Mi(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Zt(e),s=1<<n,r|=t[n],e&=~s;return r}function db(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hb(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Zt(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=db(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Cu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function y0(){var t=sa;return sa<<=1,!(sa&4194240)&&(sa=64),t}function kc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Do(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Zt(e),t[e]=n}function fb(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Zt(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Ud(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Zt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ge=0;function v0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var x0,Vd,w0,b0,_0,Mu=!1,oa=[],rr=null,sr=null,ir=null,io=new Map,oo=new Map,Kn=[],gb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function If(t,e){switch(t){case"focusin":case"focusout":rr=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":ir=null;break;case"pointerover":case"pointerout":io.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":oo.delete(e.pointerId)}}function hi(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Oo(e),e!==null&&Vd(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function pb(t,e,n,r,s){switch(e){case"focusin":return rr=hi(rr,t,e,n,r,s),!0;case"dragenter":return sr=hi(sr,t,e,n,r,s),!0;case"mouseover":return ir=hi(ir,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return io.set(i,hi(io.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,oo.set(i,hi(oo.get(i)||null,t,e,n,r,s)),!0}return!1}function k0(t){var e=jr(t.target);if(e!==null){var n=Jr(e);if(n!==null){if(e=n.tag,e===13){if(e=d0(n),e!==null){t.blockedOn=e,_0(t.priority,function(){w0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fa(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Du(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Su=r,n.target.dispatchEvent(r),Su=null}else return e=Oo(n),e!==null&&Vd(e),t.blockedOn=n,!1;e.shift()}return!0}function Lf(t,e,n){Fa(t)&&n.delete(e)}function mb(){Mu=!1,rr!==null&&Fa(rr)&&(rr=null),sr!==null&&Fa(sr)&&(sr=null),ir!==null&&Fa(ir)&&(ir=null),io.forEach(Lf),oo.forEach(Lf)}function fi(t,e){t.blockedOn===e&&(t.blockedOn=null,Mu||(Mu=!0,Tt.unstable_scheduleCallback(Tt.unstable_NormalPriority,mb)))}function ao(t){function e(s){return fi(s,t)}if(0<oa.length){fi(oa[0],t);for(var n=1;n<oa.length;n++){var r=oa[n];r.blockedOn===t&&(r.blockedOn=null)}}for(rr!==null&&fi(rr,t),sr!==null&&fi(sr,t),ir!==null&&fi(ir,t),io.forEach(e),oo.forEach(e),n=0;n<Kn.length;n++)r=Kn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Kn.length&&(n=Kn[0],n.blockedOn===null);)k0(n),n.blockedOn===null&&Kn.shift()}var Os=zn.ReactCurrentBatchConfig,il=!0;function yb(t,e,n,r){var s=ge,i=Os.transition;Os.transition=null;try{ge=1,Yd(t,e,n,r)}finally{ge=s,Os.transition=i}}function vb(t,e,n,r){var s=ge,i=Os.transition;Os.transition=null;try{ge=4,Yd(t,e,n,r)}finally{ge=s,Os.transition=i}}function Yd(t,e,n,r){if(il){var s=Du(t,e,n,r);if(s===null)Nc(t,e,r,ol,n),If(t,r);else if(pb(s,t,e,n,r))r.stopPropagation();else if(If(t,r),e&4&&-1<gb.indexOf(t)){for(;s!==null;){var i=Oo(s);if(i!==null&&x0(i),i=Du(t,e,n,r),i===null&&Nc(t,e,r,ol,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Nc(t,e,r,null,n)}}var ol=null;function Du(t,e,n,r){if(ol=null,t=Wd(r),t=jr(t),t!==null)if(e=Jr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=d0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ol=t,null}function S0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ib()){case Hd:return 1;case p0:return 4;case rl:case ob:return 16;case m0:return 536870912;default:return 16}default:return 16}}var Zn=null,qd=null,$a=null;function T0(){if($a)return $a;var t,e=qd,n=e.length,r,s="value"in Zn?Zn.value:Zn.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return $a=s.slice(t,1<r?1-r:void 0)}function Ba(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function aa(){return!0}function zf(){return!1}function Pt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?aa:zf,this.isPropagationStopped=zf,this}return Ee(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=aa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=aa)},persist:function(){},isPersistent:aa}),e}var Qs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gd=Pt(Qs),Ao=Ee({},Qs,{view:0,detail:0}),xb=Pt(Ao),Sc,Tc,gi,zl=Ee({},Ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gi&&(gi&&t.type==="mousemove"?(Sc=t.screenX-gi.screenX,Tc=t.screenY-gi.screenY):Tc=Sc=0,gi=t),Sc)},movementY:function(t){return"movementY"in t?t.movementY:Tc}}),Ff=Pt(zl),wb=Ee({},zl,{dataTransfer:0}),bb=Pt(wb),_b=Ee({},Ao,{relatedTarget:0}),Ec=Pt(_b),kb=Ee({},Qs,{animationName:0,elapsedTime:0,pseudoElement:0}),Sb=Pt(kb),Tb=Ee({},Qs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Eb=Pt(Tb),Pb=Ee({},Qs,{data:0}),$f=Pt(Pb),Cb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Db={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ab(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Db[t])?!!e[t]:!1}function Kd(){return Ab}var Ob=Ee({},Ao,{key:function(t){if(t.key){var e=Cb[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ba(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Mb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kd,charCode:function(t){return t.type==="keypress"?Ba(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ba(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Nb=Pt(Ob),jb=Ee({},zl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bf=Pt(jb),Rb=Ee({},Ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kd}),Ib=Pt(Rb),Lb=Ee({},Qs,{propertyName:0,elapsedTime:0,pseudoElement:0}),zb=Pt(Lb),Fb=Ee({},zl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$b=Pt(Fb),Bb=[9,13,27,32],Xd=Nn&&"CompositionEvent"in window,Fi=null;Nn&&"documentMode"in document&&(Fi=document.documentMode);var Wb=Nn&&"TextEvent"in window&&!Fi,E0=Nn&&(!Xd||Fi&&8<Fi&&11>=Fi),Wf=" ",Hf=!1;function P0(t,e){switch(t){case"keyup":return Bb.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function C0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xs=!1;function Hb(t,e){switch(t){case"compositionend":return C0(e);case"keypress":return e.which!==32?null:(Hf=!0,Wf);case"textInput":return t=e.data,t===Wf&&Hf?null:t;default:return null}}function Ub(t,e){if(xs)return t==="compositionend"||!Xd&&P0(t,e)?(t=T0(),$a=qd=Zn=null,xs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return E0&&e.locale!=="ko"?null:e.data;default:return null}}var Vb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Vb[t.type]:e==="textarea"}function M0(t,e,n,r){o0(r),e=al(e,"onChange"),0<e.length&&(n=new Gd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var $i=null,lo=null;function Yb(t){$0(t,0)}function Fl(t){var e=_s(t);if(Jm(e))return t}function qb(t,e){if(t==="change")return e}var D0=!1;if(Nn){var Pc;if(Nn){var Cc="oninput"in document;if(!Cc){var Vf=document.createElement("div");Vf.setAttribute("oninput","return;"),Cc=typeof Vf.oninput=="function"}Pc=Cc}else Pc=!1;D0=Pc&&(!document.documentMode||9<document.documentMode)}function Yf(){$i&&($i.detachEvent("onpropertychange",A0),lo=$i=null)}function A0(t){if(t.propertyName==="value"&&Fl(lo)){var e=[];M0(e,lo,t,Wd(t)),u0(Yb,e)}}function Gb(t,e,n){t==="focusin"?(Yf(),$i=e,lo=n,$i.attachEvent("onpropertychange",A0)):t==="focusout"&&Yf()}function Kb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fl(lo)}function Xb(t,e){if(t==="click")return Fl(e)}function Qb(t,e){if(t==="input"||t==="change")return Fl(e)}function Zb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var en=typeof Object.is=="function"?Object.is:Zb;function co(t,e){if(en(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!hu.call(e,s)||!en(t[s],e[s]))return!1}return!0}function qf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Gf(t,e){var n=qf(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=qf(n)}}function O0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?O0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function N0(){for(var t=window,e=el();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=el(t.document)}return e}function Qd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Jb(t){var e=N0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&O0(n.ownerDocument.documentElement,n)){if(r!==null&&Qd(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Gf(n,i);var o=Gf(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var e_=Nn&&"documentMode"in document&&11>=document.documentMode,ws=null,Au=null,Bi=null,Ou=!1;function Kf(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ou||ws==null||ws!==el(r)||(r=ws,"selectionStart"in r&&Qd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Bi&&co(Bi,r)||(Bi=r,r=al(Au,"onSelect"),0<r.length&&(e=new Gd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ws)))}function la(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var bs={animationend:la("Animation","AnimationEnd"),animationiteration:la("Animation","AnimationIteration"),animationstart:la("Animation","AnimationStart"),transitionend:la("Transition","TransitionEnd")},Mc={},j0={};Nn&&(j0=document.createElement("div").style,"AnimationEvent"in window||(delete bs.animationend.animation,delete bs.animationiteration.animation,delete bs.animationstart.animation),"TransitionEvent"in window||delete bs.transitionend.transition);function $l(t){if(Mc[t])return Mc[t];if(!bs[t])return t;var e=bs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in j0)return Mc[t]=e[n];return t}var R0=$l("animationend"),I0=$l("animationiteration"),L0=$l("animationstart"),z0=$l("transitionend"),F0=new Map,Xf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yr(t,e){F0.set(t,e),Zr(e,[t])}for(var Dc=0;Dc<Xf.length;Dc++){var Ac=Xf[Dc],t_=Ac.toLowerCase(),n_=Ac[0].toUpperCase()+Ac.slice(1);yr(t_,"on"+n_)}yr(R0,"onAnimationEnd");yr(I0,"onAnimationIteration");yr(L0,"onAnimationStart");yr("dblclick","onDoubleClick");yr("focusin","onFocus");yr("focusout","onBlur");yr(z0,"onTransitionEnd");Ls("onMouseEnter",["mouseout","mouseover"]);Ls("onMouseLeave",["mouseout","mouseover"]);Ls("onPointerEnter",["pointerout","pointerover"]);Ls("onPointerLeave",["pointerout","pointerover"]);Zr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Di="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),r_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Di));function Qf(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,tb(r,e,void 0,t),t.currentTarget=null}function $0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Qf(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Qf(s,a,c),i=l}}}if(nl)throw t=Pu,nl=!1,Pu=null,t}function ye(t,e){var n=e[Lu];n===void 0&&(n=e[Lu]=new Set);var r=t+"__bubble";n.has(r)||(B0(e,t,2,!1),n.add(r))}function Oc(t,e,n){var r=0;e&&(r|=4),B0(n,t,r,e)}var ca="_reactListening"+Math.random().toString(36).slice(2);function uo(t){if(!t[ca]){t[ca]=!0,Gm.forEach(function(n){n!=="selectionchange"&&(r_.has(n)||Oc(n,!1,t),Oc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ca]||(e[ca]=!0,Oc("selectionchange",!1,e))}}function B0(t,e,n,r){switch(S0(e)){case 1:var s=yb;break;case 4:s=vb;break;default:s=Yd}n=s.bind(null,e,n,t),s=void 0,!Eu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Nc(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=jr(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}u0(function(){var c=i,u=Wd(n),d=[];e:{var h=F0.get(t);if(h!==void 0){var f=Gd,p=t;switch(t){case"keypress":if(Ba(n)===0)break e;case"keydown":case"keyup":f=Nb;break;case"focusin":p="focus",f=Ec;break;case"focusout":p="blur",f=Ec;break;case"beforeblur":case"afterblur":f=Ec;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Ff;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=bb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Ib;break;case R0:case I0:case L0:f=Sb;break;case z0:f=zb;break;case"scroll":f=xb;break;case"wheel":f=$b;break;case"copy":case"cut":case"paste":f=Eb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Bf}var v=(e&4)!==0,_=!v&&t==="scroll",y=v?h!==null?h+"Capture":null:h;v=[];for(var m=c,w;m!==null;){w=m;var k=w.stateNode;if(w.tag===5&&k!==null&&(w=k,y!==null&&(k=so(m,y),k!=null&&v.push(ho(m,k,w)))),_)break;m=m.return}0<v.length&&(h=new f(h,p,null,n,u),d.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==Su&&(p=n.relatedTarget||n.fromElement)&&(jr(p)||p[jn]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=c,p=p?jr(p):null,p!==null&&(_=Jr(p),p!==_||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=c),f!==p)){if(v=Ff,k="onMouseLeave",y="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(v=Bf,k="onPointerLeave",y="onPointerEnter",m="pointer"),_=f==null?h:_s(f),w=p==null?h:_s(p),h=new v(k,m+"leave",f,n,u),h.target=_,h.relatedTarget=w,k=null,jr(u)===c&&(v=new v(y,m+"enter",p,n,u),v.target=w,v.relatedTarget=_,k=v),_=k,f&&p)t:{for(v=f,y=p,m=0,w=v;w;w=os(w))m++;for(w=0,k=y;k;k=os(k))w++;for(;0<m-w;)v=os(v),m--;for(;0<w-m;)y=os(y),w--;for(;m--;){if(v===y||y!==null&&v===y.alternate)break t;v=os(v),y=os(y)}v=null}else v=null;f!==null&&Zf(d,h,f,v,!1),p!==null&&_!==null&&Zf(d,_,p,v,!0)}}e:{if(h=c?_s(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var S=qb;else if(Uf(h))if(D0)S=Qb;else{S=Kb;var E=Gb}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=Xb);if(S&&(S=S(t,c))){M0(d,S,n,u);break e}E&&E(t,h,c),t==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&xu(h,"number",h.value)}switch(E=c?_s(c):window,t){case"focusin":(Uf(E)||E.contentEditable==="true")&&(ws=E,Au=c,Bi=null);break;case"focusout":Bi=Au=ws=null;break;case"mousedown":Ou=!0;break;case"contextmenu":case"mouseup":case"dragend":Ou=!1,Kf(d,n,u);break;case"selectionchange":if(e_)break;case"keydown":case"keyup":Kf(d,n,u)}var C;if(Xd)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else xs?P0(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(E0&&n.locale!=="ko"&&(xs||P!=="onCompositionStart"?P==="onCompositionEnd"&&xs&&(C=T0()):(Zn=u,qd="value"in Zn?Zn.value:Zn.textContent,xs=!0)),E=al(c,P),0<E.length&&(P=new $f(P,t,null,n,u),d.push({event:P,listeners:E}),C?P.data=C:(C=C0(n),C!==null&&(P.data=C)))),(C=Wb?Hb(t,n):Ub(t,n))&&(c=al(c,"onBeforeInput"),0<c.length&&(u=new $f("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=C))}$0(d,e)})}function ho(t,e,n){return{instance:t,listener:e,currentTarget:n}}function al(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=so(t,n),i!=null&&r.unshift(ho(t,i,s)),i=so(t,e),i!=null&&r.push(ho(t,i,s))),t=t.return}return r}function os(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Zf(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=so(n,i),l!=null&&o.unshift(ho(n,l,a))):s||(l=so(n,i),l!=null&&o.push(ho(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var s_=/\r\n?/g,i_=/\u0000|\uFFFD/g;function Jf(t){return(typeof t=="string"?t:""+t).replace(s_,`
`).replace(i_,"")}function ua(t,e,n){if(e=Jf(e),Jf(t)!==e&&n)throw Error(H(425))}function ll(){}var Nu=null,ju=null;function Ru(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Iu=typeof setTimeout=="function"?setTimeout:void 0,o_=typeof clearTimeout=="function"?clearTimeout:void 0,eg=typeof Promise=="function"?Promise:void 0,a_=typeof queueMicrotask=="function"?queueMicrotask:typeof eg<"u"?function(t){return eg.resolve(null).then(t).catch(l_)}:Iu;function l_(t){setTimeout(function(){throw t})}function jc(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),ao(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ao(e)}function or(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function tg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Zs=Math.random().toString(36).slice(2),hn="__reactFiber$"+Zs,fo="__reactProps$"+Zs,jn="__reactContainer$"+Zs,Lu="__reactEvents$"+Zs,c_="__reactListeners$"+Zs,u_="__reactHandles$"+Zs;function jr(t){var e=t[hn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[jn]||n[hn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=tg(t);t!==null;){if(n=t[hn])return n;t=tg(t)}return e}t=n,n=t.parentNode}return null}function Oo(t){return t=t[hn]||t[jn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function _s(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function Bl(t){return t[fo]||null}var zu=[],ks=-1;function vr(t){return{current:t}}function ve(t){0>ks||(t.current=zu[ks],zu[ks]=null,ks--)}function me(t,e){ks++,zu[ks]=t.current,t.current=e}var gr={},rt=vr(gr),vt=vr(!1),Hr=gr;function zs(t,e){var n=t.type.contextTypes;if(!n)return gr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function xt(t){return t=t.childContextTypes,t!=null}function cl(){ve(vt),ve(rt)}function ng(t,e,n){if(rt.current!==gr)throw Error(H(168));me(rt,e),me(vt,n)}function W0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(H(108,Gw(t)||"Unknown",s));return Ee({},n,r)}function ul(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||gr,Hr=rt.current,me(rt,t),me(vt,vt.current),!0}function rg(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=W0(t,e,Hr),r.__reactInternalMemoizedMergedChildContext=t,ve(vt),ve(rt),me(rt,t)):ve(vt),me(vt,n)}var En=null,Wl=!1,Rc=!1;function H0(t){En===null?En=[t]:En.push(t)}function d_(t){Wl=!0,H0(t)}function xr(){if(!Rc&&En!==null){Rc=!0;var t=0,e=ge;try{var n=En;for(ge=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}En=null,Wl=!1}catch(s){throw En!==null&&(En=En.slice(t+1)),g0(Hd,xr),s}finally{ge=e,Rc=!1}}return null}var Ss=[],Ts=0,dl=null,hl=0,At=[],Ot=0,Ur=null,Cn=1,Mn="";function Cr(t,e){Ss[Ts++]=hl,Ss[Ts++]=dl,dl=t,hl=e}function U0(t,e,n){At[Ot++]=Cn,At[Ot++]=Mn,At[Ot++]=Ur,Ur=t;var r=Cn;t=Mn;var s=32-Zt(r)-1;r&=~(1<<s),n+=1;var i=32-Zt(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Cn=1<<32-Zt(e)+s|n<<s|r,Mn=i+t}else Cn=1<<i|n<<s|r,Mn=t}function Zd(t){t.return!==null&&(Cr(t,1),U0(t,1,0))}function Jd(t){for(;t===dl;)dl=Ss[--Ts],Ss[Ts]=null,hl=Ss[--Ts],Ss[Ts]=null;for(;t===Ur;)Ur=At[--Ot],At[Ot]=null,Mn=At[--Ot],At[Ot]=null,Cn=At[--Ot],At[Ot]=null}var St=null,kt=null,we=!1,Qt=null;function V0(t,e){var n=jt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function sg(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,St=t,kt=or(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,St=t,kt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ur!==null?{id:Cn,overflow:Mn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=jt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,St=t,kt=null,!0):!1;default:return!1}}function Fu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $u(t){if(we){var e=kt;if(e){var n=e;if(!sg(t,e)){if(Fu(t))throw Error(H(418));e=or(n.nextSibling);var r=St;e&&sg(t,e)?V0(r,n):(t.flags=t.flags&-4097|2,we=!1,St=t)}}else{if(Fu(t))throw Error(H(418));t.flags=t.flags&-4097|2,we=!1,St=t}}}function ig(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;St=t}function da(t){if(t!==St)return!1;if(!we)return ig(t),we=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ru(t.type,t.memoizedProps)),e&&(e=kt)){if(Fu(t))throw Y0(),Error(H(418));for(;e;)V0(t,e),e=or(e.nextSibling)}if(ig(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){kt=or(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}kt=null}}else kt=St?or(t.stateNode.nextSibling):null;return!0}function Y0(){for(var t=kt;t;)t=or(t.nextSibling)}function Fs(){kt=St=null,we=!1}function eh(t){Qt===null?Qt=[t]:Qt.push(t)}var h_=zn.ReactCurrentBatchConfig;function pi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function ha(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function og(t){var e=t._init;return e(t._payload)}function q0(t){function e(y,m){if(t){var w=y.deletions;w===null?(y.deletions=[m],y.flags|=16):w.push(m)}}function n(y,m){if(!t)return null;for(;m!==null;)e(y,m),m=m.sibling;return null}function r(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function s(y,m){return y=ur(y,m),y.index=0,y.sibling=null,y}function i(y,m,w){return y.index=w,t?(w=y.alternate,w!==null?(w=w.index,w<m?(y.flags|=2,m):w):(y.flags|=2,m)):(y.flags|=1048576,m)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,m,w,k){return m===null||m.tag!==6?(m=Wc(w,y.mode,k),m.return=y,m):(m=s(m,w),m.return=y,m)}function l(y,m,w,k){var S=w.type;return S===vs?u(y,m,w.props.children,k,w.key):m!==null&&(m.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===qn&&og(S)===m.type)?(k=s(m,w.props),k.ref=pi(y,m,w),k.return=y,k):(k=Ga(w.type,w.key,w.props,null,y.mode,k),k.ref=pi(y,m,w),k.return=y,k)}function c(y,m,w,k){return m===null||m.tag!==4||m.stateNode.containerInfo!==w.containerInfo||m.stateNode.implementation!==w.implementation?(m=Hc(w,y.mode,k),m.return=y,m):(m=s(m,w.children||[]),m.return=y,m)}function u(y,m,w,k,S){return m===null||m.tag!==7?(m=Fr(w,y.mode,k,S),m.return=y,m):(m=s(m,w),m.return=y,m)}function d(y,m,w){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Wc(""+m,y.mode,w),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ta:return w=Ga(m.type,m.key,m.props,null,y.mode,w),w.ref=pi(y,null,m),w.return=y,w;case ys:return m=Hc(m,y.mode,w),m.return=y,m;case qn:var k=m._init;return d(y,k(m._payload),w)}if(Ci(m)||ui(m))return m=Fr(m,y.mode,w,null),m.return=y,m;ha(y,m)}return null}function h(y,m,w,k){var S=m!==null?m.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:a(y,m,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ta:return w.key===S?l(y,m,w,k):null;case ys:return w.key===S?c(y,m,w,k):null;case qn:return S=w._init,h(y,m,S(w._payload),k)}if(Ci(w)||ui(w))return S!==null?null:u(y,m,w,k,null);ha(y,w)}return null}function f(y,m,w,k,S){if(typeof k=="string"&&k!==""||typeof k=="number")return y=y.get(w)||null,a(m,y,""+k,S);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ta:return y=y.get(k.key===null?w:k.key)||null,l(m,y,k,S);case ys:return y=y.get(k.key===null?w:k.key)||null,c(m,y,k,S);case qn:var E=k._init;return f(y,m,w,E(k._payload),S)}if(Ci(k)||ui(k))return y=y.get(w)||null,u(m,y,k,S,null);ha(m,k)}return null}function p(y,m,w,k){for(var S=null,E=null,C=m,P=m=0,R=null;C!==null&&P<w.length;P++){C.index>P?(R=C,C=null):R=C.sibling;var B=h(y,C,w[P],k);if(B===null){C===null&&(C=R);break}t&&C&&B.alternate===null&&e(y,C),m=i(B,m,P),E===null?S=B:E.sibling=B,E=B,C=R}if(P===w.length)return n(y,C),we&&Cr(y,P),S;if(C===null){for(;P<w.length;P++)C=d(y,w[P],k),C!==null&&(m=i(C,m,P),E===null?S=C:E.sibling=C,E=C);return we&&Cr(y,P),S}for(C=r(y,C);P<w.length;P++)R=f(C,y,P,w[P],k),R!==null&&(t&&R.alternate!==null&&C.delete(R.key===null?P:R.key),m=i(R,m,P),E===null?S=R:E.sibling=R,E=R);return t&&C.forEach(function(I){return e(y,I)}),we&&Cr(y,P),S}function v(y,m,w,k){var S=ui(w);if(typeof S!="function")throw Error(H(150));if(w=S.call(w),w==null)throw Error(H(151));for(var E=S=null,C=m,P=m=0,R=null,B=w.next();C!==null&&!B.done;P++,B=w.next()){C.index>P?(R=C,C=null):R=C.sibling;var I=h(y,C,B.value,k);if(I===null){C===null&&(C=R);break}t&&C&&I.alternate===null&&e(y,C),m=i(I,m,P),E===null?S=I:E.sibling=I,E=I,C=R}if(B.done)return n(y,C),we&&Cr(y,P),S;if(C===null){for(;!B.done;P++,B=w.next())B=d(y,B.value,k),B!==null&&(m=i(B,m,P),E===null?S=B:E.sibling=B,E=B);return we&&Cr(y,P),S}for(C=r(y,C);!B.done;P++,B=w.next())B=f(C,y,P,B.value,k),B!==null&&(t&&B.alternate!==null&&C.delete(B.key===null?P:B.key),m=i(B,m,P),E===null?S=B:E.sibling=B,E=B);return t&&C.forEach(function(O){return e(y,O)}),we&&Cr(y,P),S}function _(y,m,w,k){if(typeof w=="object"&&w!==null&&w.type===vs&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case ta:e:{for(var S=w.key,E=m;E!==null;){if(E.key===S){if(S=w.type,S===vs){if(E.tag===7){n(y,E.sibling),m=s(E,w.props.children),m.return=y,y=m;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===qn&&og(S)===E.type){n(y,E.sibling),m=s(E,w.props),m.ref=pi(y,E,w),m.return=y,y=m;break e}n(y,E);break}else e(y,E);E=E.sibling}w.type===vs?(m=Fr(w.props.children,y.mode,k,w.key),m.return=y,y=m):(k=Ga(w.type,w.key,w.props,null,y.mode,k),k.ref=pi(y,m,w),k.return=y,y=k)}return o(y);case ys:e:{for(E=w.key;m!==null;){if(m.key===E)if(m.tag===4&&m.stateNode.containerInfo===w.containerInfo&&m.stateNode.implementation===w.implementation){n(y,m.sibling),m=s(m,w.children||[]),m.return=y,y=m;break e}else{n(y,m);break}else e(y,m);m=m.sibling}m=Hc(w,y.mode,k),m.return=y,y=m}return o(y);case qn:return E=w._init,_(y,m,E(w._payload),k)}if(Ci(w))return p(y,m,w,k);if(ui(w))return v(y,m,w,k);ha(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,m!==null&&m.tag===6?(n(y,m.sibling),m=s(m,w),m.return=y,y=m):(n(y,m),m=Wc(w,y.mode,k),m.return=y,y=m),o(y)):n(y,m)}return _}var $s=q0(!0),G0=q0(!1),fl=vr(null),gl=null,Es=null,th=null;function nh(){th=Es=gl=null}function rh(t){var e=fl.current;ve(fl),t._currentValue=e}function Bu(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ns(t,e){gl=t,th=Es=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(yt=!0),t.firstContext=null)}function Ft(t){var e=t._currentValue;if(th!==t)if(t={context:t,memoizedValue:e,next:null},Es===null){if(gl===null)throw Error(H(308));Es=t,gl.dependencies={lanes:0,firstContext:t}}else Es=Es.next=t;return e}var Rr=null;function sh(t){Rr===null?Rr=[t]:Rr.push(t)}function K0(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,sh(e)):(n.next=s.next,s.next=n),e.interleaved=n,Rn(t,r)}function Rn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Gn=!1;function ih(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function X0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function On(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ar(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,oe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Rn(t,n)}return s=r.interleaved,s===null?(e.next=e,sh(r)):(e.next=s.next,s.next=e),r.interleaved=e,Rn(t,n)}function Wa(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ud(t,n)}}function ag(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function pl(t,e,n,r){var s=t.updateQueue;Gn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,u=c=l=null,a=i;do{var h=a.lane,f=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,v=a;switch(h=e,f=n,v.tag){case 1:if(p=v.payload,typeof p=="function"){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=v.payload,h=typeof p=="function"?p.call(f,d,h):p,h==null)break e;d=Ee({},d,h);break e;case 2:Gn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Yr|=o,t.lanes=o,t.memoizedState=d}}function lg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(H(191,s));s.call(r)}}}var No={},mn=vr(No),go=vr(No),po=vr(No);function Ir(t){if(t===No)throw Error(H(174));return t}function oh(t,e){switch(me(po,e),me(go,t),me(mn,No),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:bu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=bu(e,t)}ve(mn),me(mn,e)}function Bs(){ve(mn),ve(go),ve(po)}function Q0(t){Ir(po.current);var e=Ir(mn.current),n=bu(e,t.type);e!==n&&(me(go,t),me(mn,n))}function ah(t){go.current===t&&(ve(mn),ve(go))}var _e=vr(0);function ml(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ic=[];function lh(){for(var t=0;t<Ic.length;t++)Ic[t]._workInProgressVersionPrimary=null;Ic.length=0}var Ha=zn.ReactCurrentDispatcher,Lc=zn.ReactCurrentBatchConfig,Vr=0,Se=null,ze=null,Ue=null,yl=!1,Wi=!1,mo=0,f_=0;function Qe(){throw Error(H(321))}function ch(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!en(t[n],e[n]))return!1;return!0}function uh(t,e,n,r,s,i){if(Vr=i,Se=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ha.current=t===null||t.memoizedState===null?y_:v_,t=n(r,s),Wi){i=0;do{if(Wi=!1,mo=0,25<=i)throw Error(H(301));i+=1,Ue=ze=null,e.updateQueue=null,Ha.current=x_,t=n(r,s)}while(Wi)}if(Ha.current=vl,e=ze!==null&&ze.next!==null,Vr=0,Ue=ze=Se=null,yl=!1,e)throw Error(H(300));return t}function dh(){var t=mo!==0;return mo=0,t}function cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?Se.memoizedState=Ue=t:Ue=Ue.next=t,Ue}function $t(){if(ze===null){var t=Se.alternate;t=t!==null?t.memoizedState:null}else t=ze.next;var e=Ue===null?Se.memoizedState:Ue.next;if(e!==null)Ue=e,ze=t;else{if(t===null)throw Error(H(310));ze=t,t={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},Ue===null?Se.memoizedState=Ue=t:Ue=Ue.next=t}return Ue}function yo(t,e){return typeof e=="function"?e(t):e}function zc(t){var e=$t(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=ze,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((Vr&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Se.lanes|=u,Yr|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,en(r,e.memoizedState)||(yt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Se.lanes|=i,Yr|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Fc(t){var e=$t(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);en(i,e.memoizedState)||(yt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Z0(){}function J0(t,e){var n=Se,r=$t(),s=e(),i=!en(r.memoizedState,s);if(i&&(r.memoizedState=s,yt=!0),r=r.queue,hh(ny.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Ue!==null&&Ue.memoizedState.tag&1){if(n.flags|=2048,vo(9,ty.bind(null,n,r,s,e),void 0,null),Ve===null)throw Error(H(349));Vr&30||ey(n,e,s)}return s}function ey(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Se.updateQueue,e===null?(e={lastEffect:null,stores:null},Se.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ty(t,e,n,r){e.value=n,e.getSnapshot=r,ry(e)&&sy(t)}function ny(t,e,n){return n(function(){ry(e)&&sy(t)})}function ry(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!en(t,n)}catch{return!0}}function sy(t){var e=Rn(t,1);e!==null&&Jt(e,t,1,-1)}function cg(t){var e=cn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yo,lastRenderedState:t},e.queue=t,t=t.dispatch=m_.bind(null,Se,t),[e.memoizedState,t]}function vo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Se.updateQueue,e===null?(e={lastEffect:null,stores:null},Se.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function iy(){return $t().memoizedState}function Ua(t,e,n,r){var s=cn();Se.flags|=t,s.memoizedState=vo(1|e,n,void 0,r===void 0?null:r)}function Hl(t,e,n,r){var s=$t();r=r===void 0?null:r;var i=void 0;if(ze!==null){var o=ze.memoizedState;if(i=o.destroy,r!==null&&ch(r,o.deps)){s.memoizedState=vo(e,n,i,r);return}}Se.flags|=t,s.memoizedState=vo(1|e,n,i,r)}function ug(t,e){return Ua(8390656,8,t,e)}function hh(t,e){return Hl(2048,8,t,e)}function oy(t,e){return Hl(4,2,t,e)}function ay(t,e){return Hl(4,4,t,e)}function ly(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function cy(t,e,n){return n=n!=null?n.concat([t]):null,Hl(4,4,ly.bind(null,e,t),n)}function fh(){}function uy(t,e){var n=$t();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ch(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function dy(t,e){var n=$t();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ch(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function hy(t,e,n){return Vr&21?(en(n,e)||(n=y0(),Se.lanes|=n,Yr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,yt=!0),t.memoizedState=n)}function g_(t,e){var n=ge;ge=n!==0&&4>n?n:4,t(!0);var r=Lc.transition;Lc.transition={};try{t(!1),e()}finally{ge=n,Lc.transition=r}}function fy(){return $t().memoizedState}function p_(t,e,n){var r=cr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},gy(t))py(e,n);else if(n=K0(t,e,n,r),n!==null){var s=at();Jt(n,t,r,s),my(n,e,r)}}function m_(t,e,n){var r=cr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(gy(t))py(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,en(a,o)){var l=e.interleaved;l===null?(s.next=s,sh(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=K0(t,e,s,r),n!==null&&(s=at(),Jt(n,t,r,s),my(n,e,r))}}function gy(t){var e=t.alternate;return t===Se||e!==null&&e===Se}function py(t,e){Wi=yl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function my(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ud(t,n)}}var vl={readContext:Ft,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useInsertionEffect:Qe,useLayoutEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useMutableSource:Qe,useSyncExternalStore:Qe,useId:Qe,unstable_isNewReconciler:!1},y_={readContext:Ft,useCallback:function(t,e){return cn().memoizedState=[t,e===void 0?null:e],t},useContext:Ft,useEffect:ug,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ua(4194308,4,ly.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ua(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ua(4,2,t,e)},useMemo:function(t,e){var n=cn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=cn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=p_.bind(null,Se,t),[r.memoizedState,t]},useRef:function(t){var e=cn();return t={current:t},e.memoizedState=t},useState:cg,useDebugValue:fh,useDeferredValue:function(t){return cn().memoizedState=t},useTransition:function(){var t=cg(!1),e=t[0];return t=g_.bind(null,t[1]),cn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Se,s=cn();if(we){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),Ve===null)throw Error(H(349));Vr&30||ey(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,ug(ny.bind(null,r,i,t),[t]),r.flags|=2048,vo(9,ty.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=cn(),e=Ve.identifierPrefix;if(we){var n=Mn,r=Cn;n=(r&~(1<<32-Zt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=mo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=f_++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},v_={readContext:Ft,useCallback:uy,useContext:Ft,useEffect:hh,useImperativeHandle:cy,useInsertionEffect:oy,useLayoutEffect:ay,useMemo:dy,useReducer:zc,useRef:iy,useState:function(){return zc(yo)},useDebugValue:fh,useDeferredValue:function(t){var e=$t();return hy(e,ze.memoizedState,t)},useTransition:function(){var t=zc(yo)[0],e=$t().memoizedState;return[t,e]},useMutableSource:Z0,useSyncExternalStore:J0,useId:fy,unstable_isNewReconciler:!1},x_={readContext:Ft,useCallback:uy,useContext:Ft,useEffect:hh,useImperativeHandle:cy,useInsertionEffect:oy,useLayoutEffect:ay,useMemo:dy,useReducer:Fc,useRef:iy,useState:function(){return Fc(yo)},useDebugValue:fh,useDeferredValue:function(t){var e=$t();return ze===null?e.memoizedState=t:hy(e,ze.memoizedState,t)},useTransition:function(){var t=Fc(yo)[0],e=$t().memoizedState;return[t,e]},useMutableSource:Z0,useSyncExternalStore:J0,useId:fy,unstable_isNewReconciler:!1};function qt(t,e){if(t&&t.defaultProps){e=Ee({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Wu(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ee({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ul={isMounted:function(t){return(t=t._reactInternals)?Jr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=at(),s=cr(t),i=On(r,s);i.payload=e,n!=null&&(i.callback=n),e=ar(t,i,s),e!==null&&(Jt(e,t,s,r),Wa(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=at(),s=cr(t),i=On(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ar(t,i,s),e!==null&&(Jt(e,t,s,r),Wa(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=at(),r=cr(t),s=On(n,r);s.tag=2,e!=null&&(s.callback=e),e=ar(t,s,r),e!==null&&(Jt(e,t,r,n),Wa(e,t,r))}};function dg(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!co(n,r)||!co(s,i):!0}function yy(t,e,n){var r=!1,s=gr,i=e.contextType;return typeof i=="object"&&i!==null?i=Ft(i):(s=xt(e)?Hr:rt.current,r=e.contextTypes,i=(r=r!=null)?zs(t,s):gr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ul,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function hg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ul.enqueueReplaceState(e,e.state,null)}function Hu(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},ih(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ft(i):(i=xt(e)?Hr:rt.current,s.context=zs(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Wu(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ul.enqueueReplaceState(s,s.state,null),pl(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ws(t,e){try{var n="",r=e;do n+=qw(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function $c(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Uu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var w_=typeof WeakMap=="function"?WeakMap:Map;function vy(t,e,n){n=On(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){wl||(wl=!0,ed=r),Uu(t,e)},n}function xy(t,e,n){n=On(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Uu(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Uu(t,e),typeof r!="function"&&(lr===null?lr=new Set([this]):lr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function fg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new w_;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=j_.bind(null,t,e,n),e.then(t,t))}function gg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function pg(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=On(-1,1),e.tag=2,ar(n,e,1))),n.lanes|=1),t)}var b_=zn.ReactCurrentOwner,yt=!1;function ot(t,e,n,r){e.child=t===null?G0(e,null,n,r):$s(e,t.child,n,r)}function mg(t,e,n,r,s){n=n.render;var i=e.ref;return Ns(e,s),r=uh(t,e,n,r,i,s),n=dh(),t!==null&&!yt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,In(t,e,s)):(we&&n&&Zd(e),e.flags|=1,ot(t,e,r,s),e.child)}function yg(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!bh(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,wy(t,e,i,r,s)):(t=Ga(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:co,n(o,r)&&t.ref===e.ref)return In(t,e,s)}return e.flags|=1,t=ur(i,r),t.ref=e.ref,t.return=e,e.child=t}function wy(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(co(i,r)&&t.ref===e.ref)if(yt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(yt=!0);else return e.lanes=t.lanes,In(t,e,s)}return Vu(t,e,n,r,s)}function by(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},me(Cs,_t),_t|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,me(Cs,_t),_t|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,me(Cs,_t),_t|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,me(Cs,_t),_t|=r;return ot(t,e,s,n),e.child}function _y(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Vu(t,e,n,r,s){var i=xt(n)?Hr:rt.current;return i=zs(e,i),Ns(e,s),n=uh(t,e,n,r,i,s),r=dh(),t!==null&&!yt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,In(t,e,s)):(we&&r&&Zd(e),e.flags|=1,ot(t,e,n,s),e.child)}function vg(t,e,n,r,s){if(xt(n)){var i=!0;ul(e)}else i=!1;if(Ns(e,s),e.stateNode===null)Va(t,e),yy(e,n,r),Hu(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ft(c):(c=xt(n)?Hr:rt.current,c=zs(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&hg(e,o,r,c),Gn=!1;var h=e.memoizedState;o.state=h,pl(e,r,o,s),l=e.memoizedState,a!==r||h!==l||vt.current||Gn?(typeof u=="function"&&(Wu(e,n,u,r),l=e.memoizedState),(a=Gn||dg(e,n,a,r,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,X0(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:qt(e.type,a),o.props=c,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ft(l):(l=xt(n)?Hr:rt.current,l=zs(e,l));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&hg(e,o,r,l),Gn=!1,h=e.memoizedState,o.state=h,pl(e,r,o,s);var p=e.memoizedState;a!==d||h!==p||vt.current||Gn?(typeof f=="function"&&(Wu(e,n,f,r),p=e.memoizedState),(c=Gn||dg(e,n,c,r,h,p,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Yu(t,e,n,r,i,s)}function Yu(t,e,n,r,s,i){_y(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&rg(e,n,!1),In(t,e,i);r=e.stateNode,b_.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=$s(e,t.child,null,i),e.child=$s(e,null,a,i)):ot(t,e,a,i),e.memoizedState=r.state,s&&rg(e,n,!0),e.child}function ky(t){var e=t.stateNode;e.pendingContext?ng(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ng(t,e.context,!1),oh(t,e.containerInfo)}function xg(t,e,n,r,s){return Fs(),eh(s),e.flags|=256,ot(t,e,n,r),e.child}var qu={dehydrated:null,treeContext:null,retryLane:0};function Gu(t){return{baseLanes:t,cachePool:null,transitions:null}}function Sy(t,e,n){var r=e.pendingProps,s=_e.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),me(_e,s&1),t===null)return $u(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ql(o,r,0,null),t=Fr(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Gu(n),e.memoizedState=qu,t):gh(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return __(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ur(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ur(a,i):(i=Fr(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Gu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=qu,r}return i=t.child,t=i.sibling,r=ur(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function gh(t,e){return e=ql({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function fa(t,e,n,r){return r!==null&&eh(r),$s(e,t.child,null,n),t=gh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function __(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=$c(Error(H(422))),fa(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=ql({mode:"visible",children:r.children},s,0,null),i=Fr(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&$s(e,t.child,null,o),e.child.memoizedState=Gu(o),e.memoizedState=qu,i);if(!(e.mode&1))return fa(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(H(419)),r=$c(i,r,void 0),fa(t,e,o,r)}if(a=(o&t.childLanes)!==0,yt||a){if(r=Ve,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Rn(t,s),Jt(r,t,s,-1))}return wh(),r=$c(Error(H(421))),fa(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=R_.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,kt=or(s.nextSibling),St=e,we=!0,Qt=null,t!==null&&(At[Ot++]=Cn,At[Ot++]=Mn,At[Ot++]=Ur,Cn=t.id,Mn=t.overflow,Ur=e),e=gh(e,r.children),e.flags|=4096,e)}function wg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Bu(t.return,e,n)}function Bc(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Ty(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(ot(t,e,r.children,n),r=_e.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wg(t,n,e);else if(t.tag===19)wg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(me(_e,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&ml(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Bc(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ml(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Bc(e,!0,n,null,i);break;case"together":Bc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Va(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function In(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Yr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=ur(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ur(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function k_(t,e,n){switch(e.tag){case 3:ky(e),Fs();break;case 5:Q0(e);break;case 1:xt(e.type)&&ul(e);break;case 4:oh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;me(fl,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(me(_e,_e.current&1),e.flags|=128,null):n&e.child.childLanes?Sy(t,e,n):(me(_e,_e.current&1),t=In(t,e,n),t!==null?t.sibling:null);me(_e,_e.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Ty(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),me(_e,_e.current),r)break;return null;case 22:case 23:return e.lanes=0,by(t,e,n)}return In(t,e,n)}var Ey,Ku,Py,Cy;Ey=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ku=function(){};Py=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ir(mn.current);var i=null;switch(n){case"input":s=yu(t,s),r=yu(t,r),i=[];break;case"select":s=Ee({},s,{value:void 0}),r=Ee({},r,{value:void 0}),i=[];break;case"textarea":s=wu(t,s),r=wu(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ll)}_u(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(no.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(no.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ye("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Cy=function(t,e,n,r){n!==r&&(e.flags|=4)};function mi(t,e){if(!we)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ze(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function S_(t,e,n){var r=e.pendingProps;switch(Jd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(e),null;case 1:return xt(e.type)&&cl(),Ze(e),null;case 3:return r=e.stateNode,Bs(),ve(vt),ve(rt),lh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(da(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qt!==null&&(rd(Qt),Qt=null))),Ku(t,e),Ze(e),null;case 5:ah(e);var s=Ir(po.current);if(n=e.type,t!==null&&e.stateNode!=null)Py(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return Ze(e),null}if(t=Ir(mn.current),da(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[hn]=e,r[fo]=i,t=(e.mode&1)!==0,n){case"dialog":ye("cancel",r),ye("close",r);break;case"iframe":case"object":case"embed":ye("load",r);break;case"video":case"audio":for(s=0;s<Di.length;s++)ye(Di[s],r);break;case"source":ye("error",r);break;case"img":case"image":case"link":ye("error",r),ye("load",r);break;case"details":ye("toggle",r);break;case"input":Mf(r,i),ye("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ye("invalid",r);break;case"textarea":Af(r,i),ye("invalid",r)}_u(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&ua(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ua(r.textContent,a,t),s=["children",""+a]):no.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ye("scroll",r)}switch(n){case"input":na(r),Df(r,i,!0);break;case"textarea":na(r),Of(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ll)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=n0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[hn]=e,t[fo]=r,Ey(t,e,!1,!1),e.stateNode=t;e:{switch(o=ku(n,r),n){case"dialog":ye("cancel",t),ye("close",t),s=r;break;case"iframe":case"object":case"embed":ye("load",t),s=r;break;case"video":case"audio":for(s=0;s<Di.length;s++)ye(Di[s],t);s=r;break;case"source":ye("error",t),s=r;break;case"img":case"image":case"link":ye("error",t),ye("load",t),s=r;break;case"details":ye("toggle",t),s=r;break;case"input":Mf(t,r),s=yu(t,r),ye("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ee({},r,{value:void 0}),ye("invalid",t);break;case"textarea":Af(t,r),s=wu(t,r),ye("invalid",t);break;default:s=r}_u(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?i0(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&r0(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ro(t,l):typeof l=="number"&&ro(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(no.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ye("scroll",t):l!=null&&zd(t,i,l,o))}switch(n){case"input":na(t),Df(t,r,!1);break;case"textarea":na(t),Of(t);break;case"option":r.value!=null&&t.setAttribute("value",""+fr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ms(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ms(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ll)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ze(e),null;case 6:if(t&&e.stateNode!=null)Cy(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=Ir(po.current),Ir(mn.current),da(e)){if(r=e.stateNode,n=e.memoizedProps,r[hn]=e,(i=r.nodeValue!==n)&&(t=St,t!==null))switch(t.tag){case 3:ua(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ua(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[hn]=e,e.stateNode=r}return Ze(e),null;case 13:if(ve(_e),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(we&&kt!==null&&e.mode&1&&!(e.flags&128))Y0(),Fs(),e.flags|=98560,i=!1;else if(i=da(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(H(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(H(317));i[hn]=e}else Fs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ze(e),i=!1}else Qt!==null&&(rd(Qt),Qt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||_e.current&1?$e===0&&($e=3):wh())),e.updateQueue!==null&&(e.flags|=4),Ze(e),null);case 4:return Bs(),Ku(t,e),t===null&&uo(e.stateNode.containerInfo),Ze(e),null;case 10:return rh(e.type._context),Ze(e),null;case 17:return xt(e.type)&&cl(),Ze(e),null;case 19:if(ve(_e),i=e.memoizedState,i===null)return Ze(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)mi(i,!1);else{if($e!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ml(t),o!==null){for(e.flags|=128,mi(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return me(_e,_e.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ae()>Hs&&(e.flags|=128,r=!0,mi(i,!1),e.lanes=4194304)}else{if(!r)if(t=ml(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),mi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!we)return Ze(e),null}else 2*Ae()-i.renderingStartTime>Hs&&n!==1073741824&&(e.flags|=128,r=!0,mi(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ae(),e.sibling=null,n=_e.current,me(_e,r?n&1|2:n&1),e):(Ze(e),null);case 22:case 23:return xh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?_t&1073741824&&(Ze(e),e.subtreeFlags&6&&(e.flags|=8192)):Ze(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function T_(t,e){switch(Jd(e),e.tag){case 1:return xt(e.type)&&cl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Bs(),ve(vt),ve(rt),lh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ah(e),null;case 13:if(ve(_e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));Fs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ve(_e),null;case 4:return Bs(),null;case 10:return rh(e.type._context),null;case 22:case 23:return xh(),null;case 24:return null;default:return null}}var ga=!1,et=!1,E_=typeof WeakSet=="function"?WeakSet:Set,G=null;function Ps(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Pe(t,e,r)}else n.current=null}function Xu(t,e,n){try{n()}catch(r){Pe(t,e,r)}}var bg=!1;function P_(t,e){if(Nu=il,t=N0(),Qd(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var f;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++c===s&&(a=o),h===i&&++u===r&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ju={focusedElem:t,selectionRange:n},il=!1,G=e;G!==null;)if(e=G,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,G=t;else for(;G!==null;){e=G;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var v=p.memoizedProps,_=p.memoizedState,y=e.stateNode,m=y.getSnapshotBeforeUpdate(e.elementType===e.type?v:qt(e.type,v),_);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(k){Pe(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,G=t;break}G=e.return}return p=bg,bg=!1,p}function Hi(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Xu(e,n,i)}s=s.next}while(s!==r)}}function Vl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Qu(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function My(t){var e=t.alternate;e!==null&&(t.alternate=null,My(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[hn],delete e[fo],delete e[Lu],delete e[c_],delete e[u_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Dy(t){return t.tag===5||t.tag===3||t.tag===4}function _g(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Dy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ll));else if(r!==4&&(t=t.child,t!==null))for(Zu(t,e,n),t=t.sibling;t!==null;)Zu(t,e,n),t=t.sibling}function Ju(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ju(t,e,n),t=t.sibling;t!==null;)Ju(t,e,n),t=t.sibling}var qe=null,Gt=!1;function Wn(t,e,n){for(n=n.child;n!==null;)Ay(t,e,n),n=n.sibling}function Ay(t,e,n){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(Ll,n)}catch{}switch(n.tag){case 5:et||Ps(n,e);case 6:var r=qe,s=Gt;qe=null,Wn(t,e,n),qe=r,Gt=s,qe!==null&&(Gt?(t=qe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):qe.removeChild(n.stateNode));break;case 18:qe!==null&&(Gt?(t=qe,n=n.stateNode,t.nodeType===8?jc(t.parentNode,n):t.nodeType===1&&jc(t,n),ao(t)):jc(qe,n.stateNode));break;case 4:r=qe,s=Gt,qe=n.stateNode.containerInfo,Gt=!0,Wn(t,e,n),qe=r,Gt=s;break;case 0:case 11:case 14:case 15:if(!et&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Xu(n,e,o),s=s.next}while(s!==r)}Wn(t,e,n);break;case 1:if(!et&&(Ps(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Pe(n,e,a)}Wn(t,e,n);break;case 21:Wn(t,e,n);break;case 22:n.mode&1?(et=(r=et)||n.memoizedState!==null,Wn(t,e,n),et=r):Wn(t,e,n);break;default:Wn(t,e,n)}}function kg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new E_),e.forEach(function(r){var s=I_.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Vt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:qe=a.stateNode,Gt=!1;break e;case 3:qe=a.stateNode.containerInfo,Gt=!0;break e;case 4:qe=a.stateNode.containerInfo,Gt=!0;break e}a=a.return}if(qe===null)throw Error(H(160));Ay(i,o,s),qe=null,Gt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Pe(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Oy(e,t),e=e.sibling}function Oy(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Vt(e,t),on(t),r&4){try{Hi(3,t,t.return),Vl(3,t)}catch(v){Pe(t,t.return,v)}try{Hi(5,t,t.return)}catch(v){Pe(t,t.return,v)}}break;case 1:Vt(e,t),on(t),r&512&&n!==null&&Ps(n,n.return);break;case 5:if(Vt(e,t),on(t),r&512&&n!==null&&Ps(n,n.return),t.flags&32){var s=t.stateNode;try{ro(s,"")}catch(v){Pe(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&e0(s,i),ku(a,o);var c=ku(a,i);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?i0(s,d):u==="dangerouslySetInnerHTML"?r0(s,d):u==="children"?ro(s,d):zd(s,u,d,c)}switch(a){case"input":vu(s,i);break;case"textarea":t0(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?Ms(s,!!i.multiple,f,!1):h!==!!i.multiple&&(i.defaultValue!=null?Ms(s,!!i.multiple,i.defaultValue,!0):Ms(s,!!i.multiple,i.multiple?[]:"",!1))}s[fo]=i}catch(v){Pe(t,t.return,v)}}break;case 6:if(Vt(e,t),on(t),r&4){if(t.stateNode===null)throw Error(H(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){Pe(t,t.return,v)}}break;case 3:if(Vt(e,t),on(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ao(e.containerInfo)}catch(v){Pe(t,t.return,v)}break;case 4:Vt(e,t),on(t);break;case 13:Vt(e,t),on(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(yh=Ae())),r&4&&kg(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(et=(c=et)||u,Vt(e,t),et=c):Vt(e,t),on(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(G=t,u=t.child;u!==null;){for(d=G=u;G!==null;){switch(h=G,f=h.child,h.tag){case 0:case 11:case 14:case 15:Hi(4,h,h.return);break;case 1:Ps(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(v){Pe(r,n,v)}}break;case 5:Ps(h,h.return);break;case 22:if(h.memoizedState!==null){Tg(d);continue}}f!==null?(f.return=h,G=f):Tg(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=s0("display",o))}catch(v){Pe(t,t.return,v)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){Pe(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Vt(e,t),on(t),r&4&&kg(t);break;case 21:break;default:Vt(e,t),on(t)}}function on(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Dy(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ro(s,""),r.flags&=-33);var i=_g(t);Ju(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=_g(t);Zu(t,a,o);break;default:throw Error(H(161))}}catch(l){Pe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function C_(t,e,n){G=t,Ny(t)}function Ny(t,e,n){for(var r=(t.mode&1)!==0;G!==null;){var s=G,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ga;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||et;a=ga;var c=et;if(ga=o,(et=l)&&!c)for(G=s;G!==null;)o=G,l=o.child,o.tag===22&&o.memoizedState!==null?Eg(s):l!==null?(l.return=o,G=l):Eg(s);for(;i!==null;)G=i,Ny(i),i=i.sibling;G=s,ga=a,et=c}Sg(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,G=i):Sg(t)}}function Sg(t){for(;G!==null;){var e=G;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:et||Vl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!et)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:qt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&lg(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}lg(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&ao(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}et||e.flags&512&&Qu(e)}catch(h){Pe(e,e.return,h)}}if(e===t){G=null;break}if(n=e.sibling,n!==null){n.return=e.return,G=n;break}G=e.return}}function Tg(t){for(;G!==null;){var e=G;if(e===t){G=null;break}var n=e.sibling;if(n!==null){n.return=e.return,G=n;break}G=e.return}}function Eg(t){for(;G!==null;){var e=G;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Vl(4,e)}catch(l){Pe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Pe(e,s,l)}}var i=e.return;try{Qu(e)}catch(l){Pe(e,i,l)}break;case 5:var o=e.return;try{Qu(e)}catch(l){Pe(e,o,l)}}}catch(l){Pe(e,e.return,l)}if(e===t){G=null;break}var a=e.sibling;if(a!==null){a.return=e.return,G=a;break}G=e.return}}var M_=Math.ceil,xl=zn.ReactCurrentDispatcher,ph=zn.ReactCurrentOwner,It=zn.ReactCurrentBatchConfig,oe=0,Ve=null,Re=null,Ge=0,_t=0,Cs=vr(0),$e=0,xo=null,Yr=0,Yl=0,mh=0,Ui=null,ht=null,yh=0,Hs=1/0,Sn=null,wl=!1,ed=null,lr=null,pa=!1,Jn=null,bl=0,Vi=0,td=null,Ya=-1,qa=0;function at(){return oe&6?Ae():Ya!==-1?Ya:Ya=Ae()}function cr(t){return t.mode&1?oe&2&&Ge!==0?Ge&-Ge:h_.transition!==null?(qa===0&&(qa=y0()),qa):(t=ge,t!==0||(t=window.event,t=t===void 0?16:S0(t.type)),t):1}function Jt(t,e,n,r){if(50<Vi)throw Vi=0,td=null,Error(H(185));Do(t,n,r),(!(oe&2)||t!==Ve)&&(t===Ve&&(!(oe&2)&&(Yl|=n),$e===4&&Xn(t,Ge)),wt(t,r),n===1&&oe===0&&!(e.mode&1)&&(Hs=Ae()+500,Wl&&xr()))}function wt(t,e){var n=t.callbackNode;hb(t,e);var r=sl(t,t===Ve?Ge:0);if(r===0)n!==null&&Rf(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Rf(n),e===1)t.tag===0?d_(Pg.bind(null,t)):H0(Pg.bind(null,t)),a_(function(){!(oe&6)&&xr()}),n=null;else{switch(v0(r)){case 1:n=Hd;break;case 4:n=p0;break;case 16:n=rl;break;case 536870912:n=m0;break;default:n=rl}n=By(n,jy.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function jy(t,e){if(Ya=-1,qa=0,oe&6)throw Error(H(327));var n=t.callbackNode;if(js()&&t.callbackNode!==n)return null;var r=sl(t,t===Ve?Ge:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=_l(t,r);else{e=r;var s=oe;oe|=2;var i=Iy();(Ve!==t||Ge!==e)&&(Sn=null,Hs=Ae()+500,zr(t,e));do try{O_();break}catch(a){Ry(t,a)}while(!0);nh(),xl.current=i,oe=s,Re!==null?e=0:(Ve=null,Ge=0,e=$e)}if(e!==0){if(e===2&&(s=Cu(t),s!==0&&(r=s,e=nd(t,s))),e===1)throw n=xo,zr(t,0),Xn(t,r),wt(t,Ae()),n;if(e===6)Xn(t,r);else{if(s=t.current.alternate,!(r&30)&&!D_(s)&&(e=_l(t,r),e===2&&(i=Cu(t),i!==0&&(r=i,e=nd(t,i))),e===1))throw n=xo,zr(t,0),Xn(t,r),wt(t,Ae()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:Mr(t,ht,Sn);break;case 3:if(Xn(t,r),(r&130023424)===r&&(e=yh+500-Ae(),10<e)){if(sl(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){at(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Iu(Mr.bind(null,t,ht,Sn),e);break}Mr(t,ht,Sn);break;case 4:if(Xn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Zt(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Ae()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*M_(r/1960))-r,10<r){t.timeoutHandle=Iu(Mr.bind(null,t,ht,Sn),r);break}Mr(t,ht,Sn);break;case 5:Mr(t,ht,Sn);break;default:throw Error(H(329))}}}return wt(t,Ae()),t.callbackNode===n?jy.bind(null,t):null}function nd(t,e){var n=Ui;return t.current.memoizedState.isDehydrated&&(zr(t,e).flags|=256),t=_l(t,e),t!==2&&(e=ht,ht=n,e!==null&&rd(e)),t}function rd(t){ht===null?ht=t:ht.push.apply(ht,t)}function D_(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!en(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Xn(t,e){for(e&=~mh,e&=~Yl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Zt(e),r=1<<n;t[n]=-1,e&=~r}}function Pg(t){if(oe&6)throw Error(H(327));js();var e=sl(t,0);if(!(e&1))return wt(t,Ae()),null;var n=_l(t,e);if(t.tag!==0&&n===2){var r=Cu(t);r!==0&&(e=r,n=nd(t,r))}if(n===1)throw n=xo,zr(t,0),Xn(t,e),wt(t,Ae()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Mr(t,ht,Sn),wt(t,Ae()),null}function vh(t,e){var n=oe;oe|=1;try{return t(e)}finally{oe=n,oe===0&&(Hs=Ae()+500,Wl&&xr())}}function qr(t){Jn!==null&&Jn.tag===0&&!(oe&6)&&js();var e=oe;oe|=1;var n=It.transition,r=ge;try{if(It.transition=null,ge=1,t)return t()}finally{ge=r,It.transition=n,oe=e,!(oe&6)&&xr()}}function xh(){_t=Cs.current,ve(Cs)}function zr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,o_(n)),Re!==null)for(n=Re.return;n!==null;){var r=n;switch(Jd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&cl();break;case 3:Bs(),ve(vt),ve(rt),lh();break;case 5:ah(r);break;case 4:Bs();break;case 13:ve(_e);break;case 19:ve(_e);break;case 10:rh(r.type._context);break;case 22:case 23:xh()}n=n.return}if(Ve=t,Re=t=ur(t.current,null),Ge=_t=e,$e=0,xo=null,mh=Yl=Yr=0,ht=Ui=null,Rr!==null){for(e=0;e<Rr.length;e++)if(n=Rr[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Rr=null}return t}function Ry(t,e){do{var n=Re;try{if(nh(),Ha.current=vl,yl){for(var r=Se.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}yl=!1}if(Vr=0,Ue=ze=Se=null,Wi=!1,mo=0,ph.current=null,n===null||n.return===null){$e=1,xo=e,Re=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Ge,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=gg(o);if(f!==null){f.flags&=-257,pg(f,o,a,i,e),f.mode&1&&fg(i,c,e),e=f,l=c;var p=e.updateQueue;if(p===null){var v=new Set;v.add(l),e.updateQueue=v}else p.add(l);break e}else{if(!(e&1)){fg(i,c,e),wh();break e}l=Error(H(426))}}else if(we&&a.mode&1){var _=gg(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),pg(_,o,a,i,e),eh(Ws(l,a));break e}}i=l=Ws(l,a),$e!==4&&($e=2),Ui===null?Ui=[i]:Ui.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=vy(i,l,e);ag(i,y);break e;case 1:a=l;var m=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(lr===null||!lr.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=xy(i,a,e);ag(i,k);break e}}i=i.return}while(i!==null)}zy(n)}catch(S){e=S,Re===n&&n!==null&&(Re=n=n.return);continue}break}while(!0)}function Iy(){var t=xl.current;return xl.current=vl,t===null?vl:t}function wh(){($e===0||$e===3||$e===2)&&($e=4),Ve===null||!(Yr&268435455)&&!(Yl&268435455)||Xn(Ve,Ge)}function _l(t,e){var n=oe;oe|=2;var r=Iy();(Ve!==t||Ge!==e)&&(Sn=null,zr(t,e));do try{A_();break}catch(s){Ry(t,s)}while(!0);if(nh(),oe=n,xl.current=r,Re!==null)throw Error(H(261));return Ve=null,Ge=0,$e}function A_(){for(;Re!==null;)Ly(Re)}function O_(){for(;Re!==null&&!rb();)Ly(Re)}function Ly(t){var e=$y(t.alternate,t,_t);t.memoizedProps=t.pendingProps,e===null?zy(t):Re=e,ph.current=null}function zy(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=T_(n,e),n!==null){n.flags&=32767,Re=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{$e=6,Re=null;return}}else if(n=S_(n,e,_t),n!==null){Re=n;return}if(e=e.sibling,e!==null){Re=e;return}Re=e=t}while(e!==null);$e===0&&($e=5)}function Mr(t,e,n){var r=ge,s=It.transition;try{It.transition=null,ge=1,N_(t,e,n,r)}finally{It.transition=s,ge=r}return null}function N_(t,e,n,r){do js();while(Jn!==null);if(oe&6)throw Error(H(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(fb(t,i),t===Ve&&(Re=Ve=null,Ge=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||pa||(pa=!0,By(rl,function(){return js(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=It.transition,It.transition=null;var o=ge;ge=1;var a=oe;oe|=4,ph.current=null,P_(t,n),Oy(n,t),Jb(ju),il=!!Nu,ju=Nu=null,t.current=n,C_(n),sb(),oe=a,ge=o,It.transition=i}else t.current=n;if(pa&&(pa=!1,Jn=t,bl=s),i=t.pendingLanes,i===0&&(lr=null),ab(n.stateNode),wt(t,Ae()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(wl)throw wl=!1,t=ed,ed=null,t;return bl&1&&t.tag!==0&&js(),i=t.pendingLanes,i&1?t===td?Vi++:(Vi=0,td=t):Vi=0,xr(),null}function js(){if(Jn!==null){var t=v0(bl),e=It.transition,n=ge;try{if(It.transition=null,ge=16>t?16:t,Jn===null)var r=!1;else{if(t=Jn,Jn=null,bl=0,oe&6)throw Error(H(331));var s=oe;for(oe|=4,G=t.current;G!==null;){var i=G,o=i.child;if(G.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(G=c;G!==null;){var u=G;switch(u.tag){case 0:case 11:case 15:Hi(8,u,i)}var d=u.child;if(d!==null)d.return=u,G=d;else for(;G!==null;){u=G;var h=u.sibling,f=u.return;if(My(u),u===c){G=null;break}if(h!==null){h.return=f,G=h;break}G=f}}}var p=i.alternate;if(p!==null){var v=p.child;if(v!==null){p.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}G=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,G=o;else e:for(;G!==null;){if(i=G,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Hi(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,G=y;break e}G=i.return}}var m=t.current;for(G=m;G!==null;){o=G;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,G=w;else e:for(o=m;G!==null;){if(a=G,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Vl(9,a)}}catch(S){Pe(a,a.return,S)}if(a===o){G=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,G=k;break e}G=a.return}}if(oe=s,xr(),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(Ll,t)}catch{}r=!0}return r}finally{ge=n,It.transition=e}}return!1}function Cg(t,e,n){e=Ws(n,e),e=vy(t,e,1),t=ar(t,e,1),e=at(),t!==null&&(Do(t,1,e),wt(t,e))}function Pe(t,e,n){if(t.tag===3)Cg(t,t,n);else for(;e!==null;){if(e.tag===3){Cg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(lr===null||!lr.has(r))){t=Ws(n,t),t=xy(e,t,1),e=ar(e,t,1),t=at(),e!==null&&(Do(e,1,t),wt(e,t));break}}e=e.return}}function j_(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=at(),t.pingedLanes|=t.suspendedLanes&n,Ve===t&&(Ge&n)===n&&($e===4||$e===3&&(Ge&130023424)===Ge&&500>Ae()-yh?zr(t,0):mh|=n),wt(t,e)}function Fy(t,e){e===0&&(t.mode&1?(e=ia,ia<<=1,!(ia&130023424)&&(ia=4194304)):e=1);var n=at();t=Rn(t,e),t!==null&&(Do(t,e,n),wt(t,n))}function R_(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Fy(t,n)}function I_(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),Fy(t,n)}var $y;$y=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||vt.current)yt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return yt=!1,k_(t,e,n);yt=!!(t.flags&131072)}else yt=!1,we&&e.flags&1048576&&U0(e,hl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Va(t,e),t=e.pendingProps;var s=zs(e,rt.current);Ns(e,n),s=uh(null,e,r,t,s,n);var i=dh();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xt(r)?(i=!0,ul(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ih(e),s.updater=Ul,e.stateNode=s,s._reactInternals=e,Hu(e,r,t,n),e=Yu(null,e,r,!0,i,n)):(e.tag=0,we&&i&&Zd(e),ot(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Va(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=z_(r),t=qt(r,t),s){case 0:e=Vu(null,e,r,t,n);break e;case 1:e=vg(null,e,r,t,n);break e;case 11:e=mg(null,e,r,t,n);break e;case 14:e=yg(null,e,r,qt(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:qt(r,s),Vu(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:qt(r,s),vg(t,e,r,s,n);case 3:e:{if(ky(e),t===null)throw Error(H(387));r=e.pendingProps,i=e.memoizedState,s=i.element,X0(t,e),pl(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Ws(Error(H(423)),e),e=xg(t,e,r,n,s);break e}else if(r!==s){s=Ws(Error(H(424)),e),e=xg(t,e,r,n,s);break e}else for(kt=or(e.stateNode.containerInfo.firstChild),St=e,we=!0,Qt=null,n=G0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fs(),r===s){e=In(t,e,n);break e}ot(t,e,r,n)}e=e.child}return e;case 5:return Q0(e),t===null&&$u(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Ru(r,s)?o=null:i!==null&&Ru(r,i)&&(e.flags|=32),_y(t,e),ot(t,e,o,n),e.child;case 6:return t===null&&$u(e),null;case 13:return Sy(t,e,n);case 4:return oh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=$s(e,null,r,n):ot(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:qt(r,s),mg(t,e,r,s,n);case 7:return ot(t,e,e.pendingProps,n),e.child;case 8:return ot(t,e,e.pendingProps.children,n),e.child;case 12:return ot(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,me(fl,r._currentValue),r._currentValue=o,i!==null)if(en(i.value,o)){if(i.children===s.children&&!vt.current){e=In(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=On(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Bu(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(H(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Bu(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ot(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ns(e,n),s=Ft(s),r=r(s),e.flags|=1,ot(t,e,r,n),e.child;case 14:return r=e.type,s=qt(r,e.pendingProps),s=qt(r.type,s),yg(t,e,r,s,n);case 15:return wy(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:qt(r,s),Va(t,e),e.tag=1,xt(r)?(t=!0,ul(e)):t=!1,Ns(e,n),yy(e,r,s),Hu(e,r,s,n),Yu(null,e,r,!0,t,n);case 19:return Ty(t,e,n);case 22:return by(t,e,n)}throw Error(H(156,e.tag))};function By(t,e){return g0(t,e)}function L_(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(t,e,n,r){return new L_(t,e,n,r)}function bh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function z_(t){if(typeof t=="function")return bh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===$d)return 11;if(t===Bd)return 14}return 2}function ur(t,e){var n=t.alternate;return n===null?(n=jt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ga(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")bh(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case vs:return Fr(n.children,s,i,e);case Fd:o=8,s|=8;break;case fu:return t=jt(12,n,e,s|2),t.elementType=fu,t.lanes=i,t;case gu:return t=jt(13,n,e,s),t.elementType=gu,t.lanes=i,t;case pu:return t=jt(19,n,e,s),t.elementType=pu,t.lanes=i,t;case Qm:return ql(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Km:o=10;break e;case Xm:o=9;break e;case $d:o=11;break e;case Bd:o=14;break e;case qn:o=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=jt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Fr(t,e,n,r){return t=jt(7,t,r,e),t.lanes=n,t}function ql(t,e,n,r){return t=jt(22,t,r,e),t.elementType=Qm,t.lanes=n,t.stateNode={isHidden:!1},t}function Wc(t,e,n){return t=jt(6,t,null,e),t.lanes=n,t}function Hc(t,e,n){return e=jt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function F_(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kc(0),this.expirationTimes=kc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kc(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function _h(t,e,n,r,s,i,o,a,l){return t=new F_(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=jt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ih(i),t}function $_(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ys,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Wy(t){if(!t)return gr;t=t._reactInternals;e:{if(Jr(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(xt(n))return W0(t,n,e)}return e}function Hy(t,e,n,r,s,i,o,a,l){return t=_h(n,r,!0,t,s,i,o,a,l),t.context=Wy(null),n=t.current,r=at(),s=cr(n),i=On(r,s),i.callback=e??null,ar(n,i,s),t.current.lanes=s,Do(t,s,r),wt(t,r),t}function Gl(t,e,n,r){var s=e.current,i=at(),o=cr(s);return n=Wy(n),e.context===null?e.context=n:e.pendingContext=n,e=On(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ar(s,e,o),t!==null&&(Jt(t,s,o,i),Wa(t,s,o)),o}function kl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Mg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function kh(t,e){Mg(t,e),(t=t.alternate)&&Mg(t,e)}function B_(){return null}var Uy=typeof reportError=="function"?reportError:function(t){console.error(t)};function Sh(t){this._internalRoot=t}Kl.prototype.render=Sh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));Gl(t,e,null,null)};Kl.prototype.unmount=Sh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;qr(function(){Gl(null,t,null,null)}),e[jn]=null}};function Kl(t){this._internalRoot=t}Kl.prototype.unstable_scheduleHydration=function(t){if(t){var e=b0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Kn.length&&e!==0&&e<Kn[n].priority;n++);Kn.splice(n,0,t),n===0&&k0(t)}};function Th(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Xl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Dg(){}function W_(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=kl(o);i.call(c)}}var o=Hy(e,r,t,0,null,!1,!1,"",Dg);return t._reactRootContainer=o,t[jn]=o.current,uo(t.nodeType===8?t.parentNode:t),qr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=kl(l);a.call(c)}}var l=_h(t,0,!1,null,null,!1,!1,"",Dg);return t._reactRootContainer=l,t[jn]=l.current,uo(t.nodeType===8?t.parentNode:t),qr(function(){Gl(e,l,n,r)}),l}function Ql(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=kl(o);a.call(l)}}Gl(e,o,t,s)}else o=W_(n,e,t,s,r);return kl(o)}x0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Mi(e.pendingLanes);n!==0&&(Ud(e,n|1),wt(e,Ae()),!(oe&6)&&(Hs=Ae()+500,xr()))}break;case 13:qr(function(){var r=Rn(t,1);if(r!==null){var s=at();Jt(r,t,1,s)}}),kh(t,1)}};Vd=function(t){if(t.tag===13){var e=Rn(t,134217728);if(e!==null){var n=at();Jt(e,t,134217728,n)}kh(t,134217728)}};w0=function(t){if(t.tag===13){var e=cr(t),n=Rn(t,e);if(n!==null){var r=at();Jt(n,t,e,r)}kh(t,e)}};b0=function(){return ge};_0=function(t,e){var n=ge;try{return ge=t,e()}finally{ge=n}};Tu=function(t,e,n){switch(e){case"input":if(vu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Bl(r);if(!s)throw Error(H(90));Jm(r),vu(r,s)}}}break;case"textarea":t0(t,n);break;case"select":e=n.value,e!=null&&Ms(t,!!n.multiple,e,!1)}};l0=vh;c0=qr;var H_={usingClientEntryPoint:!1,Events:[Oo,_s,Bl,o0,a0,vh]},yi={findFiberByHostInstance:jr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},U_={bundleType:yi.bundleType,version:yi.version,rendererPackageName:yi.rendererPackageName,rendererConfig:yi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=h0(t),t===null?null:t.stateNode},findFiberByHostInstance:yi.findFiberByHostInstance||B_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ma=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ma.isDisabled&&ma.supportsFiber)try{Ll=ma.inject(U_),pn=ma}catch{}}Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H_;Et.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Th(e))throw Error(H(200));return $_(t,e,null,n)};Et.createRoot=function(t,e){if(!Th(t))throw Error(H(299));var n=!1,r="",s=Uy;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=_h(t,1,!1,null,null,n,!1,r,s),t[jn]=e.current,uo(t.nodeType===8?t.parentNode:t),new Sh(e)};Et.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=h0(e),t=t===null?null:t.stateNode,t};Et.flushSync=function(t){return qr(t)};Et.hydrate=function(t,e,n){if(!Xl(e))throw Error(H(200));return Ql(null,t,e,!0,n)};Et.hydrateRoot=function(t,e,n){if(!Th(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Uy;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Hy(e,null,t,1,n??null,s,!1,i,o),t[jn]=e.current,uo(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Kl(e)};Et.render=function(t,e,n){if(!Xl(e))throw Error(H(200));return Ql(null,t,e,!1,n)};Et.unmountComponentAtNode=function(t){if(!Xl(t))throw Error(H(40));return t._reactRootContainer?(qr(function(){Ql(null,null,t,!1,function(){t._reactRootContainer=null,t[jn]=null})}),!0):!1};Et.unstable_batchedUpdates=vh;Et.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Xl(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return Ql(t,e,n,!1,r)};Et.version="18.3.1-next-f1338f8080-20240426";function Vy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Vy)}catch(t){console.error(t)}}Vy(),Vm.exports=Et;var V_=Vm.exports,Yy,Ag=V_;Yy=Ag.createRoot,Ag.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Y_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Xe=(t,e)=>{const n=ie.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...c},u)=>ie.createElement("svg",{ref:u,...Y_,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${q_(t)}`,a].join(" "),...c},[...e.map(([d,h])=>ie.createElement(d,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=Xe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=Xe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=Xe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=Xe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=Xe("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=Xe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=Xe("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=Xe("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=Xe("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=Xe("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=Xe("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=Xe("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=Xe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=Xe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=Xe("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=Xe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=Xe("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),s1={"header.title":{en:"HeatMonitor Pro",de:"HeatMonitor Pro",fr:"HeatMonitor Pro"},"nav.dashboard":{en:"Dashboard",de:"Dashboard",fr:"Tableau de bord"},"nav.analytics":{en:"Analytics",de:"Analytik",fr:"Analytique"},"nav.files":{en:"Files",de:"Dateien",fr:"Fichiers"},"nav.settings":{en:"Settings",de:"Einstellungen",fr:"Paramtres"},"dashboard.title":{en:"Heating System Dashboard",de:"Heizungsanlagen-Dashboard",fr:"Tableau de bord du systme de chauffage"},"dashboard.subtitle":{en:"Monitor your gas and solar heating performance",de:"berwachen Sie die Leistung Ihrer Gas- und Solarheizung",fr:"Surveillez les performances de votre chauffage au gaz et solaire"},"dashboard.lastUpdated":{en:"Last updated",de:"Zuletzt aktualisiert",fr:"Dernire mise  jour"},"dashboard.historicalData":{en:"Historical Data Analysis",de:"Historische Datenanalyse",fr:"Analyse des donnes historiques"},"dashboard.analyzingPoints":{en:"Analyzing",de:"Analysiere",fr:"Analyse de"},"dashboard.dataPoints":{en:"data points",de:"Datenpunkte",fr:"points de donnes"},"dashboard.dataRange":{en:"Data Range",de:"Datenbereich",fr:"Plage de donnes"},"dashboard.noData":{en:"No Data Available",de:"Keine Daten verfgbar",fr:"Aucune donne disponible"},"dashboard.uploadCsv":{en:"Upload a CSV file to start monitoring your heating system",de:"Laden Sie eine CSV-Datei hoch, um Ihr Heizsystem zu berwachen",fr:"Tlchargez un fichier CSV pour commencer  surveiller votre systme de chauffage"},"metrics.avgCollectorTemp":{en:"Avg Collector Temp",de:"Durchschn. Kollektor-Temp.",fr:"Temp. moy. collecteur"},"metrics.outsideTemp":{en:"Max Outside Temperature",de:"Max. Auentemperatur",fr:"Temp. ext. maximale"},"metrics.maxDhwTemp":{en:"Max DHW Temp",de:"Max. Warmwasser-Temp.",fr:"Temp. max. ECS"},"metrics.waterPressure":{en:"Water Pressure",de:"Wasserdruck",fr:"Pression d'eau"},"metrics.solarActiveHours":{en:"Solar Active Hours",de:"Solar-Aktivstunden",fr:"Heures d'activit solaire"},"metrics.gasActiveHours":{en:"Gas Active Hours",de:"Gas-Aktivstunden",fr:"Heures d'activit gaz"},"chart.temperatureTrends":{en:"Historical Temperature Trends",de:"Historische Temperaturtrends",fr:"Tendances historiques de temprature"},"chart.systemStatus":{en:"Latest Data Point Status",de:"Status des letzten Datenpunkts",fr:"Statut du dernier point de donnes"},"chart.hourlyEfficiency":{en:"Hourly System Efficiency",de:"Stndliche Systemeffizienz",fr:"Efficacit horaire du systme"},"chart.waterPressure":{en:"Water Pressure Monitoring",de:"Wasserdruckberwachung",fr:"Surveillance de la pression d'eau"},"chart.solarActivity":{en:"Solar Water Heating Activity",de:"Solar-Warmwasserheizungsaktivitt",fr:"Activit de chauffage solaire de l'eau"},"chart.solarPowerAnalysis":{en:"Solar Power Analysis",de:"Solarleistungsanalyse",fr:"Analyse de la puissance solaire"},"chart.gasPowerAnalysis":{en:"Gas Power Analysis",de:"Gasleistungsanalyse",fr:"Analyse de la puissance gaz"},"chart.combinedPowerAnalysis":{en:"Combined Solar & Gas Power Analysis",de:"Kombinierte Solar- & Gasleistungsanalyse",fr:"Analyse combine puissance solaire & gaz"},"chart.powerAxis":{en:"Power (kW)",de:"Leistung (kW)",fr:"Puissance (kW)"},"chart.combinedPowerNote":{en:"Direct comparison of solar and gas power consumption patterns",de:"Direkter Vergleich der Solar- und Gasleistungsverbrauchsmuster",fr:"Comparaison directe des modles de consommation solaire et gaz"},"chart.combinedPowerCalculationNote":{en:"Solar and gas power calculations combined for comprehensive energy analysis",de:"Solar- und Gasleistungsberechnungen kombiniert fr umfassende Energieanalyse",fr:"Calculs de puissance solaire et gaz combins pour une analyse nergtique complte"},"chart.combinedBackgroundNote":{en:"Orange background: solar active, Red background: gas active (can overlap)",de:"Oranger Hintergrund: Solar aktiv, Roter Hintergrund: Gas aktiv (knnen sich berlappen)",fr:"Arrire-plan orange: solaire actif, Arrire-plan rouge: gaz actif (peuvent se chevaucher)"},"button.resetZoom":{en:"Reset Zoom",de:"Zoom zurcksetzen",fr:"Rinitialiser le zoom"},"button.markPeriod":{en:"Mark Period",de:"Zeitraum markieren",fr:"Marquer la priode"},"button.clearMarkers":{en:"Clear Markers",de:"Markierungen lschen",fr:"Effacer les marqueurs"},"button.clickToMark":{en:"Click to Mark",de:"Klicken zum Markieren",fr:"Cliquer pour marquer"},"upload.addHistoricalData":{en:"Add Historical Data",de:"Historische Daten hinzufgen",fr:"Ajouter des donnes historiques"},"upload.dropCsvHere":{en:"Drop CSV file here",de:"CSV-Datei hier ablegen",fr:"Dposer le fichier CSV ici"},"upload.clickToBrowse":{en:"Drop your heating system CSV file here or click to browse",de:"Legen Sie Ihre Heizungsanlagen-CSV-Datei hier ab oder klicken Sie zum Durchsuchen",fr:"Dposez votre fichier CSV du systme de chauffage ici ou cliquez pour parcourir"},"upload.processingCsv":{en:"Processing CSV...",de:"CSV wird verarbeitet...",fr:"Traitement du CSV..."},"upload.csvFormat":{en:"CSV Format Expected",de:"CSV-Format erwartet",fr:"Format CSV attendu"},"upload.additionalDataDescription":{en:"Upload additional CSV files to expand your historical analysis. Data will be combined and sorted chronologically.",de:"Laden Sie zustzliche CSV-Dateien hoch, um Ihre historische Analyse zu erweitern. Die Daten werden kombiniert und chronologisch sortiert.",fr:"Tlchargez des fichiers CSV supplmentaires pour tendre votre analyse historique. Les donnes seront combines et tries chronologiquement."},"status.burnerState":{en:"Burner State",de:"Brennerzustand",fr:"tat du brleur"},"status.solarStatus":{en:"Solar Status",de:"Solar-Status",fr:"Statut solaire"},"status.collectorPump":{en:"Collector Pump",de:"Kollektorpumpe",fr:"Pompe collecteur"},"status.boilerPump":{en:"Boiler Pump",de:"Kesselpumpe",fr:"Pompe chaudire"},"status.dhwPump":{en:"DHW Pump",de:"Warmwasserpumpe",fr:"Pompe ECS"},"status.fanSpeed":{en:"Fan Speed",de:"Lftergeschwindigkeit",fr:"Vitesse du ventilateur"},"status.lastUpdate":{en:"Last Update",de:"Letzte Aktualisierung",fr:"Dernire mise  jour"},"chart.collectorTemp":{en:"Collector Temperature",de:"Kollektortemperatur",fr:"Temprature du collecteur"},"chart.outsideTemp":{en:"Outside Temperature",de:"Auentemperatur",fr:"Temprature extrieure"},"chart.dhwTemp":{en:"DHW Temperature",de:"Warmwassertemperatur",fr:"Temprature ECS"},"chart.flowTemp":{en:"Flow Temperature",de:"Vorlauftemperatur",fr:"Temprature de dpart"},"chart.b31Temp":{en:"B31 Temperature",de:"B31 Temperatur",fr:"Temprature B31"},"chart.collectorTempB6":{en:"Collector Temp (B6)",de:"Kollektor-Temp. (B6)",fr:"Temp. collecteur (B6)"},"chart.temperatureAxis":{en:"Temperature (C)",de:"Temperatur (C)",fr:"Temprature (C)"},"chart.solarEfficiency":{en:"Solar Efficiency (%)",de:"Solar-Effizienz (%)",fr:"Efficacit solaire (%)"},"chart.gasUsage":{en:"Gas Usage (%)",de:"Gasverbrauch (%)",fr:"Utilisation gaz (%)"},"chart.efficiencyAxis":{en:"Efficiency (%)",de:"Effizienz (%)",fr:"Efficacit (%)"},"chart.waterPressureLabel":{en:"Water Pressure (bar)",de:"Wasserdruck (bar)",fr:"Pression d'eau (bar)"},"chart.pressureAxis":{en:"Pressure (bar)",de:"Druck (bar)",fr:"Pression (bar)"},"chart.solarPower":{en:"Solar Power (kW)",de:"Solarleistung (kW)",fr:"Puissance solaire (kW)"},"chart.tempDiffB6B31":{en:"Temperature Diff B6-B31 (C)",de:"Temperaturdifferenz B6-B31 (C)",fr:"Diffrence temp. B6-B31 (C)"},"chart.solarPowerAxis":{en:"Solar Power (kW)",de:"Solarleistung (kW)",fr:"Puissance solaire (kW)"},"chart.gasPowerAxis":{en:"Gas Power (kW)",de:"Gasleistung (kW)",fr:"Puissance gaz (kW)"},"chart.boilerModulationAxis":{en:"Boiler Modulation (%)",de:"Kesselmodulation (%)",fr:"Modulation chaudire (%)"},"chart.temperatureDifferenceAxis":{en:"Temperature Difference (C)",de:"Temperaturdifferenz (C)",fr:"Diffrence de temprature (C)"},"chart.gasPowerCalculationNote":{en:"Gas power calculation: 10 kW  Boiler Modulation (%) when DHW pump is active",de:"Gasleistungsberechnung: 10 kW  Kesselmodulation (%) bei aktiver Warmwasserpumpe",fr:"Calcul puissance gaz: 10 kW  Modulation chaudire (%) quand pompe ECS active"},"chart.powerCalculationNote":{en:"Power calculation based on temperature difference (B6 - B31) when solar is active",de:"Leistungsberechnung basierend auf Temperaturdifferenz (B6 - B31) bei aktiver Solaranlage",fr:"Calcul de puissance bas sur la diffrence de temprature (B6 - B31) quand le solaire est actif"},"chart.zoomInstructions":{en:"Use mouse wheel to zoom, drag to pan, or click Reset Zoom to return to full view",de:"Mausrad zum Zoomen, Ziehen zum Verschieben oder Zoom zurcksetzen fr Vollansicht",fr:"Utilisez la molette pour zoomer, glissez pour dplacer, ou cliquez sur Rinitialiser le zoom"},"chart.zoomMarkingInstructions":{en:"Use mouse wheel to zoom, drag to pan, mark periods for analysis, or reset zoom to return to full view",de:"Mausrad zum Zoomen, Ziehen zum Verschieben, Zeitrume markieren oder Zoom zurcksetzen",fr:"Molette pour zoomer, glisser pour dplacer, marquer des priodes ou rinitialiser le zoom"},"chart.solarActivePercent":{en:"Solar active",de:"Solar aktiv",fr:"Solaire actif"},"chart.dataPoints":{en:"data points",de:"Datenpunkte",fr:"points de donnes"},"chart.markingModeActive":{en:"Marking Mode Active: Click on the chart to set",de:"Markierungsmodus aktiv: Klicken Sie auf das Diagramm, um zu setzen",fr:"Mode marquage actif: Cliquez sur le graphique pour dfinir"},"chart.startMarker":{en:"START marker",de:"START-Markierung",fr:"marqueur DBUT"},"chart.endMarker":{en:"END marker",de:"END-Markierung",fr:"marqueur FIN"},"chart.markedPeriodAnalysis":{en:"Marked Period Analysis",de:"Analyse des markierten Zeitraums",fr:"Analyse de la priode marque"},"chart.start":{en:"Start",de:"Start",fr:"Dbut"},"chart.end":{en:"End",de:"Ende",fr:"Fin"},"chart.duration":{en:"Duration",de:"Dauer",fr:"Dure"},"chart.solarActive":{en:"Solar Active",de:"Solar aktiv",fr:"Solaire actif"},"chart.solarEnergy":{en:"Solar Energy",de:"Solarenergie",fr:"nergie solaire"},"chart.gasEnergy":{en:"Gas Energy",de:"Gasenergie",fr:"nergie gaz"},"chart.gasActive":{en:"Gas Active",de:"Gas aktiv",fr:"Gaz actif"},"chart.avgCollectorTemp":{en:"Avg Collector Temp",de:"Durchschn. Kollektor-Temp.",fr:"Temp. moy. collecteur"},"chart.avgDhwTemp":{en:"Avg DHW Temp",de:"Durchschn. Warmwasser-Temp.",fr:"Temp. moy. ECS"},"chart.avgB31Temp":{en:"Avg B31 Temp",de:"Durchschn. B31-Temp.",fr:"Temp. moy. B31"},"chart.solarActiveBackground":{en:"Solar Active (Background)",de:"Solar aktiv (Hintergrund)",fr:"Solaire actif (Arrire-plan)"},"chart.solarActiveBackgroundDesc":{en:"Orange background when solar heating is active",de:"Oranger Hintergrund bei aktiver Solarheizung",fr:"Arrire-plan orange quand le chauffage solaire est actif"},"chart.collectorTempB6Legend":{en:"Collector Temp (B6)",de:"Kollektor-Temp. (B6)",fr:"Temp. collecteur (B6)"},"chart.collectorTempB6Desc":{en:"Solar collector temperature",de:"Solarkollektortemperatur",fr:"Temprature du collecteur solaire"},"chart.dhwTempLegend":{en:"DHW Temp",de:"Warmwasser-Temp.",fr:"Temp. ECS"},"chart.dhwTempDesc":{en:"Domestic hot water temperature",de:"Warmwassertemperatur",fr:"Temprature de l'eau chaude sanitaire"},"chart.b31TempLegend":{en:"B31 Temp (Boiler)",de:"B31-Temp. (Kessel)",fr:"Temp. B31 (Chaudire)"},"chart.b31TempDesc":{en:"Temperature sensor down in boiler",de:"Temperatursensor unten im Kessel",fr:"Capteur de temprature en bas de la chaudire"},"chart.solarPowerLegend":{en:"Solar Energy",de:"Solarenergie",fr:"nergie solaire"},"chart.solarPowerDesc":{en:"Calculated from B6-B31 temp difference",de:"Berechnet aus B6-B31 Temperaturdifferenz",fr:"Calcul  partir de la diffrence temp. B6-B31"},"chart.gasActiveBackground":{en:"Gas Active (Background)",de:"Gas aktiv (Hintergrund)",fr:"Gaz actif (Arrire-plan)"},"chart.gasActiveBackgroundDesc":{en:"Red background when gas heating is active (DHW pump on)",de:"Roter Hintergrund bei aktiver Gasheizung (Warmwasserpumpe an)",fr:"Arrire-plan rouge quand le chauffage gaz est actif (pompe ECS en marche)"},"chart.gasPowerLegend":{en:"Gas Energy",de:"Gasenergie",fr:"nergie gaz"},"chart.gasPowerDesc":{en:"10 kW  Boiler Modulation when DHW pump active",de:"10 kW  Kesselmodulation bei aktiver Warmwasserpumpe",fr:"10 kW  Modulation chaudire quand pompe ECS active"},"chart.boilerModulationLegend":{en:"Boiler Modulation",de:"Kesselmodulation",fr:"Modulation chaudire"},"chart.boilerModulationDesc":{en:"Boiler modulation percentage",de:"Kesselmodulation in Prozent",fr:"Pourcentage de modulation chaudire"},"chart.gasPower":{en:"Gas Power (kW)",de:"Gasleistung (kW)",fr:"Puissance gaz (kW)"},"chart.boilerModulation":{en:"Boiler Modulation (%)",de:"Kesselmodulation (%)",fr:"Modulation chaudire (%)"},"chart.temperatureDiffLegend":{en:"Temperature Diff",de:"Temperaturdifferenz",fr:"Diffrence temp."},"chart.temperatureDiffDesc":{en:"B6 (collector) - B31 (boiler)",de:"B6 (Kollektor) - B31 (Kessel)",fr:"B6 (collecteur) - B31 (chaudire)"},"chart.totalSolarEnergy":{en:"Total Solar Energy",de:"Gesamte Solarenergie",fr:"nergie solaire totale"},"chart.totalGasEnergy":{en:"Total Gas Energy",de:"Gesamte Gasenergie",fr:"nergie gaz totale"},"chart.totalCombinedEnergy":{en:"Total Combined Energy",de:"Gesamte kombinierte Energie",fr:"nergie totale combine"},"chart.note":{en:"Note",de:"Hinweis",fr:"Note"},"chart.gasPowerFormula":{en:"Gas power: 10 kW  Boiler Modulation (%)  100",de:"Gasleistung: 10 kW  Kesselmodulation (%)  100",fr:"Puissance gaz: 10 kW  Modulation chaudire (%)  100"},"chart.redBackgroundNote":{en:"Red background indicates periods when gas system is actively heating",de:"Roter Hintergrund zeigt Zeiten an, in denen die Gasanlage aktiv heizt",fr:"L'arrire-plan rouge indique les priodes o le systme gaz chauffe activement"},"chart.solarPowerCalculationNote":{en:"Solar power is calculated only when the solar system is active (pump on or charging status)",de:"Solarleistung wird nur berechnet, wenn die Solaranlage aktiv ist (Pumpe an oder Ladestatus)",fr:"La puissance solaire n'est calcule que lorsque le systme solaire est actif (pompe en marche ou tat de charge)"},"chart.solarPowerFormula":{en:"Solar power: Temperature difference (B6-B31)  flow rate (5.5 L/min)  specific heat (4.18 kJ/kgK)  60",de:"Solarleistung: Temperaturdifferenz (B6-B31)  Durchflussrate (5,5 L/min)  spezifische Wrme (4,18 kJ/kgK)  60",fr:"Puissance solaire: Diffrence de temprature (B6-B31)  dbit (5,5 L/min)  chaleur spcifique (4,18 kJ/kgK)  60"},"chart.energyValuesCumulative":{en:"Energy values are cumulative over the data period",de:"Energiewerte sind kumulativ ber den Datenzeitraum",fr:"Les valeurs d'nergie sont cumulatives sur la priode de donnes"},"chart.orangeBackgroundNote":{en:"Orange background indicates periods when solar system is actively heating",de:"Oranger Hintergrund zeigt Zeiten an, in denen die Solaranlage aktiv heizt",fr:"L'arrire-plan orange indique les priodes o le systme solaire chauffe activement"},"chart.marking":{en:"Marking",de:"Markierung",fr:"Marquage"},"chart.markingInstructions":{en:'Click "Mark Period" then click two points on the chart to analyze a specific time period',de:'Klicken Sie auf "Zeitraum markieren" und dann auf zwei Punkte im Diagramm, um einen bestimmten Zeitraum zu analysieren',fr:'Cliquez sur "Marquer la priode" puis cliquez sur deux points du graphique pour analyser une priode spcifique'},"analytics.title":{en:"Energy Analytics Dashboard",de:"Energie-Analytik-Dashboard",fr:"Tableau de bord analytique nergtique"},"analytics.subtitle":{en:"Daily energy calculations and system performance metrics",de:"Tgliche Energieberechnungen und Systemleistungsmetriken",fr:"Calculs nergtiques quotidiens et mtriques de performance du systme"},"analytics.loadingData":{en:"Loading analytics data...",de:"Lade Analysedaten...",fr:"Chargement des donnes analytiques..."},"analytics.errorLoadingData":{en:"Error Loading Data",de:"Fehler beim Laden der Daten",fr:"Erreur de chargement des donnes"},"analytics.retry":{en:"Retry",de:"Wiederholen",fr:"Ressayer"},"analytics.totalSolarEnergy":{en:"Total Solar Energy",de:"Gesamte Solarenergie",fr:"nergie solaire totale"},"analytics.totalGasEnergy":{en:"Total Gas Energy",de:"Gesamte Gasenergie",fr:"nergie gaz totale"},"analytics.totalCombinedEnergy":{en:"Total Combined Energy",de:"Gesamte kombinierte Energie",fr:"nergie totale combine"},"analytics.avgDailyEnergy":{en:"Avg Daily Energy",de:"Durchschn. tgliche Energie",fr:"nergie quotidienne moyenne"},"analytics.ofTotal":{en:"of total",de:"der Gesamtmenge",fr:"du total"},"analytics.daysAnalyzed":{en:"days analyzed",de:"Tage analysiert",fr:"jours analyss"},"analytics.perDay":{en:"per day",de:"pro Tag",fr:"par jour"},"analytics.energyTrendsOverTime":{en:"Energy Trends Over Time",de:"Energietrends im Zeitverlauf",fr:"Tendances nergtiques dans le temps"},"analytics.dailyEnergyBreakdown":{en:"Daily Energy Breakdown",de:"Tgliche Energieaufschlsselung",fr:"Rpartition nergtique quotidienne"},"analytics.totalEnergyDistribution":{en:"Total Energy Distribution",de:"Gesamte Energieverteilung",fr:"Distribution nergtique totale"},"analytics.temperatureTrends":{en:"Temperature Trends",de:"Temperaturtrends",fr:"Tendances de temprature"},"analytics.systemActivityTime":{en:"System Activity Time",de:"Systemaktivittszeit",fr:"Temps d'activit du systme"},"analytics.dailyEnergyCalculations":{en:"Daily Energy Calculations",de:"Tgliche Energieberechnungen",fr:"Calculs nergtiques quotidiens"},"analytics.daysOfData":{en:"days of data",de:"Tage mit Daten",fr:"jours de donnes"},"analytics.date":{en:"Date",de:"Datum",fr:"Date"},"analytics.solarEnergyKwh":{en:"Solar Energy (kWh)",de:"Solarenergie (kWh)",fr:"nergie solaire (kWh)"},"analytics.gasEnergyKwh":{en:"Gas Energy (kWh)",de:"Gasenergie (kWh)",fr:"nergie gaz (kWh)"},"analytics.totalEnergyKwh":{en:"Total Energy (kWh)",de:"Gesamtenergie (kWh)",fr:"nergie totale (kWh)"},"analytics.solarActiveMin":{en:"Solar Active (min)",de:"Solar aktiv (min)",fr:"Solaire actif (min)"},"analytics.gasActiveMin":{en:"Gas Active (min)",de:"Gas aktiv (min)",fr:"Gaz actif (min)"},"analytics.avgCollectorC":{en:"Avg Collector (C)",de:"Durchschn. Kollektor (C)",fr:"Collecteur moy. (C)"},"analytics.avgOutsideC":{en:"Avg Outside (C)",de:"Durchschn. Auen (C)",fr:"Extrieur moy. (C)"},"analytics.noEnergyData":{en:"No Energy Data Available",de:"Keine Energiedaten verfgbar",fr:"Aucune donne nergtique disponible"},"analytics.energyCalculationsWillAppear":{en:"Energy calculations will appear here once data is processed.",de:"Energieberechnungen werden hier angezeigt, sobald die Daten verarbeitet sind.",fr:"Les calculs nergtiques apparatront ici une fois les donnes traites."},"analytics.solarEnergy":{en:"Solar Energy",de:"Solarenergie",fr:"nergie solaire"},"analytics.gasEnergy":{en:"Gas Energy",de:"Gasenergie",fr:"nergie gaz"},"analytics.avgCollectorTemp":{en:"Avg Collector Temp (C)",de:"Durchschn. Kollektor-Temp. (C)",fr:"Temp. moy. collecteur (C)"},"analytics.avgOutsideTemp":{en:"Avg Outside Temp (C)",de:"Durchschn. Auentemp. (C)",fr:"Temp. ext. moyenne (C)"},"analytics.avgDhwTemp":{en:"Avg DHW Temp (C)",de:"Durchschn. Warmwasser-Temp. (C)",fr:"Temp. moy. ECS (C)"},"analytics.solarActiveMinutes":{en:"Solar Active (minutes)",de:"Solar aktiv (Minuten)",fr:"Solaire actif (minutes)"},"analytics.gasActiveMinutes":{en:"Gas Active (minutes)",de:"Gas aktiv (Minuten)",fr:"Gaz actif (minutes)"}},Xy=ie.createContext(void 0),Fn=()=>{const t=ie.useContext(Xy);if(!t)throw new Error("useLanguage must be used within a LanguageProvider");return t},i1=({children:t})=>{const[e,n]=ie.useState("en"),r=s=>{const i=s1[s];return i?i[e]||i.en||s:(console.warn(`Translation missing for key: ${s}`),s)};return g.jsx(Xy.Provider,{value:{language:e,setLanguage:n,t:r},children:t})},o1=()=>{var r,s;const{language:t,setLanguage:e}=Fn(),n=[{code:"en",name:"English",flag:""},{code:"de",name:"Deutsch",flag:""},{code:"fr",name:"Franais",flag:""}];return g.jsxs("div",{className:"relative group",children:[g.jsxs("button",{className:"flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-all duration-200",children:[g.jsx(Z_,{className:"w-4 h-4"}),g.jsx("span",{className:"hidden sm:inline",children:(r=n.find(i=>i.code===t))==null?void 0:r.flag}),g.jsx("span",{className:"hidden md:inline",children:(s=n.find(i=>i.code===t))==null?void 0:s.name})]}),g.jsx("div",{className:"absolute right-0 top-full mt-1 w-40 bg-white rounded-lg shadow-lg border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:n.map(i=>g.jsxs("button",{onClick:()=>e(i.code),className:`
              w-full flex items-center space-x-3 px-4 py-2 text-sm text-left hover:bg-gray-50 transition-colors
              ${t===i.code?"bg-blue-50 text-blue-700":"text-gray-700"}
              ${i.code===n[0].code?"rounded-t-lg":""}
              ${i.code===n[n.length-1].code?"rounded-b-lg":""}
            `,children:[g.jsx("span",{className:"text-lg",children:i.flag}),g.jsx("span",{className:"font-medium",children:i.name}),t===i.code&&g.jsx("span",{className:"ml-auto text-blue-600",children:""})]},i.code))})]})},a1=({onSectionChange:t,activeSection:e})=>{const{t:n}=Fn(),r=[{id:"dashboard",label:n("nav.dashboard"),icon:Og},{id:"analytics",label:n("nav.analytics"),icon:Yi},{id:"files",label:n("nav.files"),icon:X_},{id:"settings",label:n("nav.settings"),icon:t1}];return g.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-50",children:g.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:g.jsxs("div",{className:"flex justify-between items-center h-16",children:[g.jsx("div",{className:"flex items-center space-x-4",children:g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-500 to-red-600 rounded-lg flex items-center justify-center",children:g.jsx(Og,{className:"w-5 h-5 text-white"})}),g.jsx("h1",{className:"text-xl font-bold text-gray-900",children:n("header.title")})]})}),g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsx(o1,{}),g.jsx("nav",{className:"flex space-x-1",children:r.map(s=>g.jsxs("button",{onClick:()=>t(s.id),className:`
                  flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200
                  ${e===s.id?"bg-blue-100 text-blue-700 shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}
                `,children:[g.jsx(s.icon,{className:"w-4 h-4"}),g.jsx("span",{className:"hidden sm:inline",children:s.label})]},s.id))})]})]})})})},l1=({metrics:t})=>{const{t:e}=Fn(),n=[{title:e("metrics.avgCollectorTemp"),value:`${t.avgCollectorTemp.toFixed(1)}C`,icon:Ky,color:"bg-gradient-to-br from-orange-500 to-amber-600",textColor:"text-white"},{title:e("metrics.outsideTemp"),value:`${t.maxOutsideTemp.toFixed(1)}C`,icon:n1,color:"bg-gradient-to-br from-blue-500 to-cyan-600",textColor:"text-white"},{title:e("metrics.maxDhwTemp"),value:`${t.maxDhwTemp.toFixed(1)}C`,icon:K_,color:"bg-gradient-to-br from-red-500 to-pink-600",textColor:"text-white"},{title:e("metrics.waterPressure"),value:`${t.avgWaterPressure.toFixed(2)} bar`,icon:Q_,color:"bg-gradient-to-br from-green-500 to-emerald-600",textColor:"text-white"},{title:e("metrics.solarActiveHours"),value:`${t.solarActiveHours.toFixed(1)}h`,icon:G_,color:"bg-gradient-to-br from-yellow-500 to-orange-600",textColor:"text-white"},{title:e("metrics.gasActiveHours"),value:`${t.gasActiveHours.toFixed(1)}h`,icon:Gy,color:"bg-gradient-to-br from-indigo-500 to-purple-600",textColor:"text-white"}];return g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((r,s)=>g.jsx("div",{className:`${r.color} rounded-xl p-6 shadow-lg transform transition-all duration-200 hover:scale-105 hover:shadow-xl`,children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:`${r.textColor} opacity-90 text-sm font-medium`,children:r.title}),g.jsx("p",{className:`${r.textColor} text-2xl font-bold mt-1`,children:r.value})]}),g.jsx(r.icon,{className:`${r.textColor} w-8 h-8 opacity-80`})]})},s))})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function jo(t){return t+.5|0}const er=(t,e,n)=>Math.max(Math.min(t,n),e);function Ai(t){return er(jo(t*2.55),0,255)}function dr(t){return er(jo(t*255),0,255)}function Pn(t){return er(jo(t/2.55)/100,0,1)}function jg(t){return er(jo(t*100),0,100)}const Dt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},sd=[..."0123456789ABCDEF"],c1=t=>sd[t&15],u1=t=>sd[(t&240)>>4]+sd[t&15],ya=t=>(t&240)>>4===(t&15),d1=t=>ya(t.r)&&ya(t.g)&&ya(t.b)&&ya(t.a);function h1(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Dt[t[1]]*17,g:255&Dt[t[2]]*17,b:255&Dt[t[3]]*17,a:e===5?Dt[t[4]]*17:255}:(e===7||e===9)&&(n={r:Dt[t[1]]<<4|Dt[t[2]],g:Dt[t[3]]<<4|Dt[t[4]],b:Dt[t[5]]<<4|Dt[t[6]],a:e===9?Dt[t[7]]<<4|Dt[t[8]]:255})),n}const f1=(t,e)=>t<255?e(t):"";function g1(t){var e=d1(t)?c1:u1;return t?"#"+e(t.r)+e(t.g)+e(t.b)+f1(t.a,e):void 0}const p1=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Qy(t,e,n){const r=e*Math.min(n,1-n),s=(i,o=(i+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function m1(t,e,n){const r=(s,i=(s+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function y1(t,e,n){const r=Qy(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)r[s]*=1-e-n,r[s]+=e;return r}function v1(t,e,n,r,s){return t===s?(e-n)/r+(e<n?6:0):e===s?(n-t)/r+2:(t-e)/r+4}function Eh(t){const n=t.r/255,r=t.g/255,s=t.b/255,i=Math.max(n,r,s),o=Math.min(n,r,s),a=(i+o)/2;let l,c,u;return i!==o&&(u=i-o,c=a>.5?u/(2-i-o):u/(i+o),l=v1(n,r,s,u,i),l=l*60+.5),[l|0,c||0,a]}function Ph(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(dr)}function Ch(t,e,n){return Ph(Qy,t,e,n)}function x1(t,e,n){return Ph(y1,t,e,n)}function w1(t,e,n){return Ph(m1,t,e,n)}function Zy(t){return(t%360+360)%360}function b1(t){const e=p1.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?Ai(+e[5]):dr(+e[5]));const s=Zy(+e[2]),i=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=x1(s,i,o):e[1]==="hsv"?r=w1(s,i,o):r=Ch(s,i,o),{r:r[0],g:r[1],b:r[2],a:n}}function _1(t,e){var n=Eh(t);n[0]=Zy(n[0]+e),n=Ch(n),t.r=n[0],t.g=n[1],t.b=n[2]}function k1(t){if(!t)return;const e=Eh(t),n=e[0],r=jg(e[1]),s=jg(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${s}%, ${Pn(t.a)})`:`hsl(${n}, ${r}%, ${s}%)`}const Rg={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Ig={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function S1(){const t={},e=Object.keys(Ig),n=Object.keys(Rg);let r,s,i,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],s=0;s<n.length;s++)i=n[s],a=a.replace(i,Rg[i]);i=parseInt(Ig[o],16),t[a]=[i>>16&255,i>>8&255,i&255]}return t}let va;function T1(t){va||(va=S1(),va.transparent=[0,0,0,0]);const e=va[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const E1=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function P1(t){const e=E1.exec(t);let n=255,r,s,i;if(e){if(e[7]!==r){const o=+e[7];n=e[8]?Ai(o):er(o*255,0,255)}return r=+e[1],s=+e[3],i=+e[5],r=255&(e[2]?Ai(r):er(r,0,255)),s=255&(e[4]?Ai(s):er(s,0,255)),i=255&(e[6]?Ai(i):er(i,0,255)),{r,g:s,b:i,a:n}}}function C1(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Pn(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Uc=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,as=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function M1(t,e,n){const r=as(Pn(t.r)),s=as(Pn(t.g)),i=as(Pn(t.b));return{r:dr(Uc(r+n*(as(Pn(e.r))-r))),g:dr(Uc(s+n*(as(Pn(e.g))-s))),b:dr(Uc(i+n*(as(Pn(e.b))-i))),a:t.a+n*(e.a-t.a)}}function xa(t,e,n){if(t){let r=Eh(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=Ch(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function Jy(t,e){return t&&Object.assign(e||{},t)}function Lg(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=dr(t[3]))):(e=Jy(t,{r:0,g:0,b:0,a:1}),e.a=dr(e.a)),e}function D1(t){return t.charAt(0)==="r"?P1(t):b1(t)}class wo{constructor(e){if(e instanceof wo)return e;const n=typeof e;let r;n==="object"?r=Lg(e):n==="string"&&(r=h1(e)||T1(e)||D1(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=Jy(this._rgb);return e&&(e.a=Pn(e.a)),e}set rgb(e){this._rgb=Lg(e)}rgbString(){return this._valid?C1(this._rgb):void 0}hexString(){return this._valid?g1(this._rgb):void 0}hslString(){return this._valid?k1(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,s=e.rgb;let i;const o=n===i?.5:n,a=2*o-1,l=r.a-s.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;i=1-c,r.r=255&c*r.r+i*s.r+.5,r.g=255&c*r.g+i*s.g+.5,r.b=255&c*r.b+i*s.b+.5,r.a=o*r.a+(1-o)*s.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=M1(this._rgb,e._rgb,n)),this}clone(){return new wo(this.rgb)}alpha(e){return this._rgb.a=dr(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=jo(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return xa(this._rgb,2,e),this}darken(e){return xa(this._rgb,2,-e),this}saturate(e){return xa(this._rgb,1,e),this}desaturate(e){return xa(this._rgb,1,-e),this}rotate(e){return _1(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function wn(){}const A1=(()=>{let t=0;return()=>t++})();function ue(t){return t==null}function Fe(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function ae(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Bt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function an(t,e){return Bt(t)?t:e}function Z(t,e){return typeof t>"u"?e:t}const O1=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,ev=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function X(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function ne(t,e,n,r){let s,i,o;if(Fe(t))for(i=t.length,s=0;s<i;s++)e.call(n,t[s],s);else if(ae(t))for(o=Object.keys(t),i=o.length,s=0;s<i;s++)e.call(n,t[o[s]],o[s])}function Tl(t,e){let n,r,s,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(s=t[n],i=e[n],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function El(t){if(Fe(t))return t.map(El);if(ae(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let s=0;for(;s<r;++s)e[n[s]]=El(t[n[s]]);return e}return t}function tv(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function N1(t,e,n,r){if(!tv(t))return;const s=e[t],i=n[t];ae(s)&&ae(i)?bo(s,i,r):e[t]=El(i)}function bo(t,e,n){const r=Fe(e)?e:[e],s=r.length;if(!ae(t))return t;n=n||{};const i=n.merger||N1;let o;for(let a=0;a<s;++a){if(o=r[a],!ae(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)i(l[c],t,o,n)}return t}function qi(t,e){return bo(t,e,{merger:j1})}function j1(t,e,n){if(!tv(t))return;const r=e[t],s=n[t];ae(r)&&ae(s)?qi(r,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=El(s))}const zg={"":t=>t,x:t=>t.x,y:t=>t.y};function R1(t){const e=t.split("."),n=[];let r="";for(const s of e)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function I1(t){const e=R1(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function Gr(t,e){return(zg[e]||(zg[e]=I1(e)))(t)}function Mh(t){return t.charAt(0).toUpperCase()+t.slice(1)}const _o=t=>typeof t<"u",pr=t=>typeof t=="function",Fg=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function L1(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const fe=Math.PI,Ce=2*fe,z1=Ce+fe,Pl=Number.POSITIVE_INFINITY,F1=fe/180,Be=fe/2,kr=fe/4,$g=fe*2/3,nv=Math.log10,Lt=Math.sign;function $r(t,e,n){return Math.abs(t-e)<n}function Bg(t){const e=Math.round(t);t=$r(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(nv(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function $1(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((s,i)=>s-i).pop(),e}function B1(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function ko(t){return!B1(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function W1(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function H1(t,e,n){let r,s,i;for(r=0,s=t.length;r<s;r++)i=t[r][n],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function Dn(t){return t*(fe/180)}function U1(t){return t*(180/fe)}function Wg(t){if(!Bt(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function rv(t,e){const n=e.x-t.x,r=e.y-t.y,s=Math.sqrt(n*n+r*r);let i=Math.atan2(r,n);return i<-.5*fe&&(i+=Ce),{angle:i,distance:s}}function id(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function V1(t,e){return(t-e+z1)%Ce-fe}function Kt(t){return(t%Ce+Ce)%Ce}function So(t,e,n,r){const s=Kt(t),i=Kt(e),o=Kt(n),a=Kt(i-s),l=Kt(o-s),c=Kt(s-i),u=Kt(s-o);return s===i||s===o||r&&i===o||a>l&&c<u}function tt(t,e,n){return Math.max(e,Math.min(n,t))}function Y1(t){return tt(t,-32768,32767)}function tr(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function Dh(t,e,n){n=n||(o=>t[o]<e);let r=t.length-1,s=0,i;for(;r-s>1;)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const Lr=(t,e,n,r)=>Dh(t,n,r?s=>{const i=t[s][e];return i<n||i===n&&t[s+1][e]===n}:s=>t[s][e]<n),q1=(t,e,n)=>Dh(t,n,r=>t[r][e]>=n);function G1(t,e,n){let r=0,s=t.length;for(;r<s&&t[r]<e;)r++;for(;s>r&&t[s-1]>n;)s--;return r>0||s<t.length?t.slice(r,s):t}const sv=["push","pop","shift","splice","unshift"];function K1(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),sv.forEach(n=>{const r="_onData"+Mh(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...i){const o=s.apply(this,i);return t._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...i)}),o}})})}function Hg(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(e);s!==-1&&r.splice(s,1),!(r.length>0)&&(sv.forEach(i=>{delete t[i]}),delete t._chartjs)}function iv(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const ov=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function av(t,e){let n=[],r=!1;return function(...s){n=s,r||(r=!0,ov.call(window,()=>{r=!1,t.apply(e,n)}))}}function X1(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const Ah=t=>t==="start"?"left":t==="end"?"right":"center",Je=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,Q1=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function Z1(t,e,n){const r=e.length;let s=0,i=r;if(t._sorted){const{iScale:o,vScale:a,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=o.axis,{min:d,max:h,minDefined:f,maxDefined:p}=o.getUserBounds();if(f){if(s=Math.min(Lr(l,u,d).lo,n?r:Lr(e,u,o.getPixelForValue(d)).lo),c){const v=l.slice(0,s+1).reverse().findIndex(_=>!ue(_[a.axis]));s-=Math.max(0,v)}s=tt(s,0,r-1)}if(p){let v=Math.max(Lr(l,o.axis,h,!0).hi+1,n?0:Lr(e,u,o.getPixelForValue(h),!0).hi+1);if(c){const _=l.slice(v-1).findIndex(y=>!ue(y[a.axis]));v+=Math.max(0,_)}i=tt(v,s,r)-s}else i=r-s}return{start:s,count:i}}function J1(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=s,!0;const i=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,s),i}const wa=t=>t===0||t===1,Ug=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Ce/n)),Vg=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Ce/n)+1,Gi={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Be)+1,easeOutSine:t=>Math.sin(t*Be),easeInOutSine:t=>-.5*(Math.cos(fe*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>wa(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>wa(t)?t:Ug(t,.075,.3),easeOutElastic:t=>wa(t)?t:Vg(t,.075,.3),easeInOutElastic(t){return wa(t)?t:t<.5?.5*Ug(t*2,.1125,.45):.5+.5*Vg(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Gi.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Gi.easeInBounce(t*2)*.5:Gi.easeOutBounce(t*2-1)*.5+.5};function Oh(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Yg(t){return Oh(t)?t:new wo(t)}function Vc(t){return Oh(t)?t:new wo(t).saturate(.5).darken(.1).hexString()}const ek=["x","y","borderWidth","radius","tension"],tk=["color","borderColor","backgroundColor"];function nk(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:tk},numbers:{type:"number",properties:ek}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function rk(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const qg=new Map;function sk(t,e){e=e||{};const n=t+JSON.stringify(e);let r=qg.get(n);return r||(r=new Intl.NumberFormat(t,e),qg.set(n,r)),r}function Nh(t,e,n){return sk(e,n).format(t)}const ik={values(t){return Fe(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let s,i=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),i=ok(t,n)}const o=nv(Math.abs(i)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Nh(t,r,l)}};function ok(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var lv={formatters:ik};function ak(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:lv.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Kr=Object.create(null),od=Object.create(null);function Ki(t,e){if(!e)return t;const n=e.split(".");for(let r=0,s=n.length;r<s;++r){const i=n[r];t=t[i]||(t[i]=Object.create(null))}return t}function Yc(t,e,n){return typeof e=="string"?bo(Ki(t,e),n):bo(Ki(t,""),e)}class lk{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>Vc(s.backgroundColor),this.hoverBorderColor=(r,s)=>Vc(s.borderColor),this.hoverColor=(r,s)=>Vc(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Yc(this,e,n)}get(e){return Ki(this,e)}describe(e,n){return Yc(od,e,n)}override(e,n){return Yc(Kr,e,n)}route(e,n,r,s){const i=Ki(this,e),o=Ki(this,r),a="_"+n;Object.defineProperties(i,{[a]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[s];return ae(l)?Object.assign({},c,l):Z(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var Oe=new lk({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[nk,rk,ak]);function ck(t){return!t||ue(t.size)||ue(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Gg(t,e,n,r,s){let i=e[s];return i||(i=e[s]=t.measureText(s).width,n.push(s)),i>r&&(r=i),r}function Sr(t,e,n){const r=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*r)/r+s}function Kg(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function ad(t,e,n,r){cv(t,e,n,r,null)}function cv(t,e,n,r,s){let i,o,a,l,c,u,d,h;const f=e.pointStyle,p=e.rotation,v=e.radius;let _=(p||0)*F1;if(f&&typeof f=="object"&&(i=f.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(_),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(v)||v<=0)){switch(t.beginPath(),f){default:s?t.ellipse(n,r,s/2,v,0,0,Ce):t.arc(n,r,v,0,Ce),t.closePath();break;case"triangle":u=s?s/2:v,t.moveTo(n+Math.sin(_)*u,r-Math.cos(_)*v),_+=$g,t.lineTo(n+Math.sin(_)*u,r-Math.cos(_)*v),_+=$g,t.lineTo(n+Math.sin(_)*u,r-Math.cos(_)*v),t.closePath();break;case"rectRounded":c=v*.516,l=v-c,o=Math.cos(_+kr)*l,d=Math.cos(_+kr)*(s?s/2-c:l),a=Math.sin(_+kr)*l,h=Math.sin(_+kr)*(s?s/2-c:l),t.arc(n-d,r-a,c,_-fe,_-Be),t.arc(n+h,r-o,c,_-Be,_),t.arc(n+d,r+a,c,_,_+Be),t.arc(n-h,r+o,c,_+Be,_+fe),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*v,u=s?s/2:l,t.rect(n-u,r-l,2*u,2*l);break}_+=kr;case"rectRot":d=Math.cos(_)*(s?s/2:v),o=Math.cos(_)*v,a=Math.sin(_)*v,h=Math.sin(_)*(s?s/2:v),t.moveTo(n-d,r-a),t.lineTo(n+h,r-o),t.lineTo(n+d,r+a),t.lineTo(n-h,r+o),t.closePath();break;case"crossRot":_+=kr;case"cross":d=Math.cos(_)*(s?s/2:v),o=Math.cos(_)*v,a=Math.sin(_)*v,h=Math.sin(_)*(s?s/2:v),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+h,r-o),t.lineTo(n-h,r+o);break;case"star":d=Math.cos(_)*(s?s/2:v),o=Math.cos(_)*v,a=Math.sin(_)*v,h=Math.sin(_)*(s?s/2:v),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+h,r-o),t.lineTo(n-h,r+o),_+=kr,d=Math.cos(_)*(s?s/2:v),o=Math.cos(_)*v,a=Math.sin(_)*v,h=Math.sin(_)*(s?s/2:v),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+h,r-o),t.lineTo(n-h,r+o);break;case"line":o=s?s/2:Math.cos(_)*v,a=Math.sin(_)*v,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(_)*(s?s/2:v),r+Math.sin(_)*v);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Us(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function jh(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Rh(t){t.restore()}function uk(t,e,n,r,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else s==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function dk(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function hk(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ue(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function fk(t,e,n,r,s){if(s.strikethrough||s.underline){const i=t.measureText(r),o=e-i.actualBoundingBoxLeft,a=e+i.actualBoundingBoxRight,l=n-i.actualBoundingBoxAscent,c=n+i.actualBoundingBoxDescent,u=s.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function gk(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function To(t,e,n,r,s,i={}){const o=Fe(e)?e:[e],a=i.strokeWidth>0&&i.strokeColor!=="";let l,c;for(t.save(),t.font=s.string,hk(t,i),l=0;l<o.length;++l)c=o[l],i.backdrop&&gk(t,i.backdrop),a&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),ue(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(c,n,r,i.maxWidth)),t.fillText(c,n,r,i.maxWidth),fk(t,n,r,c,i),r+=Number(s.lineHeight);t.restore()}function Cl(t,e){const{x:n,y:r,w:s,h:i,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*fe,fe,!0),t.lineTo(n,r+i-o.bottomLeft),t.arc(n+o.bottomLeft,r+i-o.bottomLeft,o.bottomLeft,fe,Be,!0),t.lineTo(n+s-o.bottomRight,r+i),t.arc(n+s-o.bottomRight,r+i-o.bottomRight,o.bottomRight,Be,0,!0),t.lineTo(n+s,r+o.topRight),t.arc(n+s-o.topRight,r+o.topRight,o.topRight,0,-Be,!0),t.lineTo(n+o.topLeft,r)}const pk=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,mk=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function yk(t,e){const n=(""+t).match(pk);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const vk=t=>+t||0;function Ih(t,e){const n={},r=ae(e),s=r?Object.keys(e):e,i=ae(t)?r?o=>Z(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of s)n[o]=vk(i(o));return n}function uv(t){return Ih(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Rs(t){return Ih(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Wt(t){const e=uv(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function nt(t,e){t=t||{},e=e||Oe.font;let n=Z(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=Z(t.style,e.style);r&&!(""+r).match(mk)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:Z(t.family,e.family),lineHeight:yk(Z(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:Z(t.weight,e.weight),string:""};return s.string=ck(s),s}function ba(t,e,n,r){let s,i,o;for(s=0,i=t.length;s<i;++s)if(o=t[s],o!==void 0&&o!==void 0)return o}function xk(t,e,n){const{min:r,max:s}=t,i=ev(e,(s-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(i)),max:o(s,i)}}function es(t,e){return Object.assign(Object.create(t),e)}function Lh(t,e=[""],n,r,s=()=>t[0]){const i=n||t;typeof r>"u"&&(r=gv("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:r,_getTarget:s,override:a=>Lh([a,...t],e,i,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return hv(a,l,()=>Pk(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return Qg(a).includes(l)},ownKeys(a){return Qg(a)},set(a,l,c){const u=a._storage||(a._storage=s());return a[l]=u[l]=c,delete a._keys,!0}})}function Vs(t,e,n,r){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:dv(t,r),setContext:i=>Vs(t,i,n,r),override:i=>Vs(t.override(i),e,n,r)};return new Proxy(s,{deleteProperty(i,o){return delete i[o],delete t[o],!0},get(i,o,a){return hv(i,o,()=>bk(i,o,a))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(i,o,a){return t[o]=a,delete i[o],!0}})}function dv(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:r,isScriptable:pr(n)?n:()=>n,isIndexable:pr(r)?r:()=>r}}const wk=(t,e)=>t?t+Mh(e):e,zh=(t,e)=>ae(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function hv(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function bk(t,e,n){const{_proxy:r,_context:s,_subProxy:i,_descriptors:o}=t;let a=r[e];return pr(a)&&o.isScriptable(e)&&(a=_k(e,a,t,n)),Fe(a)&&a.length&&(a=kk(e,a,t,o.isIndexable)),zh(e,a)&&(a=Vs(a,s,i&&i[e],o)),a}function _k(t,e,n,r){const{_proxy:s,_context:i,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(i,o||r);return a.delete(t),zh(t,l)&&(l=Fh(s._scopes,s,t,l)),l}function kk(t,e,n,r){const{_proxy:s,_context:i,_subProxy:o,_descriptors:a}=n;if(typeof i.index<"u"&&r(t))return e[i.index%e.length];if(ae(e[0])){const l=e,c=s._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=Fh(c,s,t,u);e.push(Vs(d,i,o&&o[t],a))}}return e}function fv(t,e,n){return pr(t)?t(e,n):t}const Sk=(t,e)=>t===!0?e:typeof t=="string"?Gr(e,t):void 0;function Tk(t,e,n,r,s){for(const i of e){const o=Sk(n,i);if(o){t.add(o);const a=fv(o._fallback,n,s);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function Fh(t,e,n,r){const s=e._rootScopes,i=fv(e._fallback,n,r),o=[...t,...s],a=new Set;a.add(r);let l=Xg(a,o,n,i||n,r);return l===null||typeof i<"u"&&i!==n&&(l=Xg(a,o,i,l,r),l===null)?!1:Lh(Array.from(a),[""],s,i,()=>Ek(e,n,r))}function Xg(t,e,n,r,s){for(;n;)n=Tk(t,e,n,r,s);return n}function Ek(t,e,n){const r=t._getTarget();e in r||(r[e]={});const s=r[e];return Fe(s)&&ae(n)?n:s||{}}function Pk(t,e,n,r){let s;for(const i of e)if(s=gv(wk(i,t),n),typeof s<"u")return zh(t,s)?Fh(n,r,t,s):s}function gv(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function Qg(t){let e=t._keys;return e||(e=t._keys=Ck(t._scopes)),e}function Ck(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(r);return Array.from(e)}const Mk=Number.EPSILON||1e-14,Ys=(t,e)=>e<t.length&&!t[e].skip&&t[e],pv=t=>t==="x"?"y":"x";function Dk(t,e,n,r){const s=t.skip?e:t,i=e,o=n.skip?e:n,a=id(i,s),l=id(o,i);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=r*c,h=r*u;return{previous:{x:i.x-d*(o.x-s.x),y:i.y-d*(o.y-s.y)},next:{x:i.x+h*(o.x-s.x),y:i.y+h*(o.y-s.y)}}}function Ak(t,e,n){const r=t.length;let s,i,o,a,l,c=Ys(t,0);for(let u=0;u<r-1;++u)if(l=c,c=Ys(t,u+1),!(!l||!c)){if($r(e[u],0,Mk)){n[u]=n[u+1]=0;continue}s=n[u]/e[u],i=n[u+1]/e[u],a=Math.pow(s,2)+Math.pow(i,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=s*o*e[u],n[u+1]=i*o*e[u])}}function Ok(t,e,n="x"){const r=pv(n),s=t.length;let i,o,a,l=Ys(t,0);for(let c=0;c<s;++c){if(o=a,a=l,l=Ys(t,c+1),!a)continue;const u=a[n],d=a[r];o&&(i=(u-o[n])/3,a[`cp1${n}`]=u-i,a[`cp1${r}`]=d-i*e[c]),l&&(i=(l[n]-u)/3,a[`cp2${n}`]=u+i,a[`cp2${r}`]=d+i*e[c])}}function Nk(t,e="x"){const n=pv(e),r=t.length,s=Array(r).fill(0),i=Array(r);let o,a,l,c=Ys(t,0);for(o=0;o<r;++o)if(a=l,l=c,c=Ys(t,o+1),!!l){if(c){const u=c[e]-l[e];s[o]=u!==0?(c[n]-l[n])/u:0}i[o]=a?c?Lt(s[o-1])!==Lt(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}Ak(t,s,i),Ok(t,i,e)}function _a(t,e,n){return Math.max(Math.min(t,n),e)}function jk(t,e){let n,r,s,i,o,a=Us(t[0],e);for(n=0,r=t.length;n<r;++n)o=i,i=a,a=n<r-1&&Us(t[n+1],e),i&&(s=t[n],o&&(s.cp1x=_a(s.cp1x,e.left,e.right),s.cp1y=_a(s.cp1y,e.top,e.bottom)),a&&(s.cp2x=_a(s.cp2x,e.left,e.right),s.cp2y=_a(s.cp2y,e.top,e.bottom)))}function Rk(t,e,n,r,s){let i,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")Nk(t,s);else{let c=r?t[t.length-1]:t[0];for(i=0,o=t.length;i<o;++i)a=t[i],l=Dk(c,a,t[Math.min(i+1,o-(r?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&jk(t,n)}function $h(){return typeof window<"u"&&typeof document<"u"}function Bh(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Ml(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const Zl=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function Ik(t,e){return Zl(t).getPropertyValue(e)}const Lk=["top","right","bottom","left"];function Br(t,e,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const i=Lk[s];r[i]=parseFloat(t[e+"-"+i+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const zk=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function Fk(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:s,offsetY:i}=r;let o=!1,a,l;if(zk(s,i,t.target))a=s,l=i;else{const c=e.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function ft(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,s=Zl(n),i=s.boxSizing==="border-box",o=Br(s,"padding"),a=Br(s,"border","width"),{x:l,y:c,box:u}=Fk(t,n),d=o.left+(u&&a.left),h=o.top+(u&&a.top);let{width:f,height:p}=e;return i&&(f-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-d)/f*n.width/r),y:Math.round((c-h)/p*n.height/r)}}function $k(t,e,n){let r,s;if(e===void 0||n===void 0){const i=t&&Bh(t);if(!i)e=t.clientWidth,n=t.clientHeight;else{const o=i.getBoundingClientRect(),a=Zl(i),l=Br(a,"border","width"),c=Br(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,r=Ml(a.maxWidth,i,"clientWidth"),s=Ml(a.maxHeight,i,"clientHeight")}}return{width:e,height:n,maxWidth:r||Pl,maxHeight:s||Pl}}const ka=t=>Math.round(t*10)/10;function Bk(t,e,n,r){const s=Zl(t),i=Br(s,"margin"),o=Ml(s.maxWidth,t,"clientWidth")||Pl,a=Ml(s.maxHeight,t,"clientHeight")||Pl,l=$k(t,e,n);let{width:c,height:u}=l;if(s.boxSizing==="content-box"){const h=Br(s,"border","width"),f=Br(s,"padding");c-=f.width+h.width,u-=f.height+h.height}return c=Math.max(0,c-i.width),u=Math.max(0,r?c/r:u-i.height),c=ka(Math.min(c,o,l.maxWidth)),u=ka(Math.min(u,a,l.maxHeight)),c&&!u&&(u=ka(c/2)),(e!==void 0||n!==void 0)&&r&&l.height&&u>l.height&&(u=l.height,c=ka(Math.floor(u*r))),{width:c,height:u}}function Zg(t,e,n){const r=e||1,s=Math.floor(t.height*r),i=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==s||o.width!==i?(t.currentDevicePixelRatio=r,o.height=s,o.width=i,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const Wk=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};$h()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Jg(t,e){const n=Ik(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Dr(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function Hk(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function Uk(t,e,n,r){const s={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},o=Dr(t,s,n),a=Dr(s,i,n),l=Dr(i,e,n),c=Dr(o,a,n),u=Dr(a,l,n);return Dr(c,u,n)}const Vk=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},Yk=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Is(t,e,n){return t?Vk(e,n):Yk()}function mv(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function yv(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function vv(t){return t==="angle"?{between:So,compare:V1,normalize:Kt}:{between:tr,compare:(e,n)=>e-n,normalize:e=>e}}function ep({start:t,end:e,count:n,loop:r,style:s}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:s}}function qk(t,e,n){const{property:r,start:s,end:i}=n,{between:o,normalize:a}=vv(r),l=e.length;let{start:c,end:u,loop:d}=t,h,f;if(d){for(c+=l,u+=l,h=0,f=l;h<f&&o(a(e[c%l][r]),s,i);++h)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:t.style}}function Gk(t,e,n){if(!n)return[t];const{property:r,start:s,end:i}=n,o=e.length,{compare:a,between:l,normalize:c}=vv(r),{start:u,end:d,loop:h,style:f}=qk(t,e,n),p=[];let v=!1,_=null,y,m,w;const k=()=>l(s,w,y)&&a(s,w)!==0,S=()=>a(i,y)===0||l(i,w,y),E=()=>v||k(),C=()=>!v||S();for(let P=u,R=u;P<=d;++P)m=e[P%o],!m.skip&&(y=c(m[r]),y!==w&&(v=l(y,s,i),_===null&&E()&&(_=a(y,s)===0?P:R),_!==null&&C()&&(p.push(ep({start:_,end:P,loop:h,count:o,style:f})),_=null),R=P,w=y));return _!==null&&p.push(ep({start:_,end:d,loop:h,count:o,style:f})),p}function Kk(t,e){const n=[],r=t.segments;for(let s=0;s<r.length;s++){const i=Gk(r[s],t.points,e);i.length&&n.push(...i)}return n}function Xk(t,e,n,r){let s=0,i=e-1;if(n&&!r)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(i+=s);i>s&&t[i%e].skip;)i--;return i%=e,{start:s,end:i}}function Qk(t,e,n,r){const s=t.length,i=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%s];c.skip||c.stop?a.skip||(r=!1,i.push({start:e%s,end:(l-1)%s,loop:r}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&i.push({start:e%s,end:o%s,loop:r}),i}function Zk(t,e){const n=t.points,r=t.options.spanGaps,s=n.length;if(!s)return[];const i=!!t._loop,{start:o,end:a}=Xk(n,s,i,r);if(r===!0)return tp(t,[{start:o,end:a,loop:i}],n,e);const l=a<o?a+s:a,c=!!t._fullLoop&&o===0&&a===s-1;return tp(t,Qk(n,o,l,c),n,e)}function tp(t,e,n,r){return!r||!r.setContext||!n?e:Jk(t,e,n,r)}function Jk(t,e,n,r){const s=t._chart.getContext(),i=np(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=i,d=e[0].start,h=d;function f(p,v,_,y){const m=a?-1:1;if(p!==v){for(p+=l;n[p%l].skip;)p-=m;for(;n[v%l].skip;)v+=m;p%l!==v%l&&(c.push({start:p%l,end:v%l,loop:_,style:y}),u=y,d=v%l)}}for(const p of e){d=a?d:p.start;let v=n[d%l],_;for(h=d+1;h<=p.end;h++){const y=n[h%l];_=np(r.setContext(es(s,{type:"segment",p0:v,p1:y,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:o}))),eS(_,u)&&f(d,h-1,p.loop,u),v=y,u=_}d<h-1&&f(d,h-1,p.loop,u)}return c}function np(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function eS(t,e){if(!e)return!1;const n=[],r=function(s,i){return Oh(i)?(n.includes(i)||n.push(i),n.indexOf(i)):i};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function Sa(t,e,n){return t.options.clip?t[n]:e[n]}function tS(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:Sa(n,e,"left"),right:Sa(n,e,"right"),top:Sa(r,e,"top"),bottom:Sa(r,e,"bottom")}:e}function nS(t,e){const n=e._clip;if(n.disabled)return!1;const r=tS(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class rS{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,s){const i=n.listeners[s],o=n.duration;i.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=ov.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const i=r.items;let o=i.length-1,a=!1,l;for(;o>=0;--o)l=i[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),a=!0):(i[o]=i[i.length-1],i.pop());a&&(s.draw(),this._notify(s,r,e,"progress")),i.length||(r.running=!1,this._notify(s,r,e,"complete"),r.initial=!1),n+=i.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var bn=new rS;const rp="transparent",sS={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=Yg(t||rp),s=r.valid&&Yg(e||rp);return s&&s.valid?s.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class iS{constructor(e,n,r,s){const i=n[r];s=ba([e.to,s,i,e.from]);const o=ba([e.from,i,s]);this._active=!0,this._fn=e.fn||sS[e.type||typeof o],this._easing=Gi[e.easing]||Gi.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const s=this._target[this._prop],i=r-this._start,o=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=ba([e.to,n,s,e.from]),this._from=ba([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,s=this._prop,i=this._from,o=this._loop,a=this._to;let l;if(this._active=i!==a&&(o||n<r),!this._active){this._target[s]=a,this._notify(!0);return}if(n<0){this._target[s]=i;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(i,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][n]()}}class xv{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!ae(e))return;const n=Object.keys(Oe.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const i=e[s];if(!ae(i))return;const o={};for(const a of n)o[a]=i[a];(Fe(i.properties)&&i.properties||[s]).forEach(a=>{(a===s||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,n){const r=n.options,s=aS(e,r);if(!s)return[];const i=this._createAnimations(s,r);return r.$shared&&oS(e.options.$animations,r).then(()=>{e.options=r},()=>{}),i}_createAnimations(e,n){const r=this._properties,s=[],i=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(e,n));continue}const u=n[c];let d=i[c];const h=r.get(c);if(d)if(h&&d.active()){d.update(h,u,a);continue}else d.cancel();if(!h||!h.duration){e[c]=u;continue}i[c]=d=new iS(h,e,c,u),s.push(d)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return bn.add(this._chart,r),!0}}function oS(t,e){const n=[],r=Object.keys(e);for(let s=0;s<r.length;s++){const i=t[r[s]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function aS(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function sp(t,e){const n=t&&t.options||{},r=n.reverse,s=n.min===void 0?e:0,i=n.max===void 0?e:0;return{start:r?i:s,end:r?s:i}}function lS(t,e,n){if(n===!1)return!1;const r=sp(t,n),s=sp(e,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function cS(t){let e,n,r,s;return ae(t)?(e=t.top,n=t.right,r=t.bottom,s=t.left):e=n=r=s=t,{top:e,right:n,bottom:r,left:s,disabled:t===!1}}function wv(t,e){const n=[],r=t._getSortedDatasetMetas(e);let s,i;for(s=0,i=r.length;s<i;++s)n.push(r[s].index);return n}function ip(t,e,n,r={}){const s=t.keys,i=r.mode==="single";let o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=s.length;o<a;++o){if(l=+s[o],l===n){if(u=!0,r.all)continue;break}c=t.values[l],Bt(c)&&(i||e===0||Lt(e)===Lt(c))&&(e+=c)}return!u&&!r.all?0:e}function uS(t,e){const{iScale:n,vScale:r}=e,s=n.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[s]:u,[i]:t[u]};return a}function qc(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function dS(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function hS(t){const{min:e,max:n,minDefined:r,maxDefined:s}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function fS(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function op(t,e,n,r){for(const s of e.getMatchingVisibleMetas(r).reverse()){const i=t[s.index];if(n&&i>0||!n&&i<0)return s.index}return null}function ap(t,e){const{chart:n,_cachedMeta:r}=t,s=n._stacks||(n._stacks={}),{iScale:i,vScale:o,index:a}=r,l=i.axis,c=o.axis,u=dS(i,o,r),d=e.length;let h;for(let f=0;f<d;++f){const p=e[f],{[l]:v,[c]:_}=p,y=p._stacks||(p._stacks={});h=y[c]=fS(s,u,v),h[a]=_,h._top=op(h,o,!0,r.type),h._bottom=op(h,o,!1,r.type);const m=h._visualValues||(h._visualValues={});m[a]=_}}function Gc(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function gS(t,e){return es(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function pS(t,e,n){return es(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function vi(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const s of e){const i=s._stacks;if(!i||i[r]===void 0||i[r][n]===void 0)return;delete i[r][n],i[r]._visualValues!==void 0&&i[r]._visualValues[n]!==void 0&&delete i[r]._visualValues[n]}}}const Kc=t=>t==="reset"||t==="none",lp=(t,e)=>e?t:Object.assign({},t),mS=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:wv(n,!0),values:null};class Wr{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=qc(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&vi(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(d,h,f,p)=>d==="x"?h:d==="r"?p:f,i=n.xAxisID=Z(r.xAxisID,Gc(e,"x")),o=n.yAxisID=Z(r.yAxisID,Gc(e,"y")),a=n.rAxisID=Z(r.rAxisID,Gc(e,"r")),l=n.indexAxis,c=n.iAxisID=s(l,i,o,a),u=n.vAxisID=s(l,o,i,a);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Hg(this._data,this),e._stacked&&vi(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(ae(n)){const s=this._cachedMeta;this._data=uS(n,s)}else if(r!==n){if(r){Hg(r,this);const s=this._cachedMeta;vi(s),s._parsed=[]}n&&Object.isExtensible(n)&&K1(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const i=n._stacked;n._stacked=qc(n.vScale,n),n.stack!==r.stack&&(s=!0,vi(n),n.stack=r.stack),this._resyncElements(e),(s||i!==n._stacked)&&(ap(this,n._parsed),n._stacked=qc(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:s}=this,{iScale:i,_stacked:o}=r,a=i.axis;let l=e===0&&n===s.length?!0:r._sorted,c=e>0&&r._parsed[e-1],u,d,h;if(this._parsing===!1)r._parsed=s,r._sorted=!0,h=s;else{Fe(s[e])?h=this.parseArrayData(r,s,e,n):ae(s[e])?h=this.parseObjectData(r,s,e,n):h=this.parsePrimitiveData(r,s,e,n);const f=()=>d[a]===null||c&&d[a]<c[a];for(u=0;u<n;++u)r._parsed[u+e]=d=h[u],l&&(f()&&(l=!1),c=d);r._sorted=l}o&&ap(this,h)}parsePrimitiveData(e,n,r,s){const{iScale:i,vScale:o}=e,a=i.axis,l=o.axis,c=i.getLabels(),u=i===o,d=new Array(s);let h,f,p;for(h=0,f=s;h<f;++h)p=h+r,d[h]={[a]:u||i.parse(c[p],p),[l]:o.parse(n[p],p)};return d}parseArrayData(e,n,r,s){const{xScale:i,yScale:o}=e,a=new Array(s);let l,c,u,d;for(l=0,c=s;l<c;++l)u=l+r,d=n[u],a[l]={x:i.parse(d[0],u),y:o.parse(d[1],u)};return a}parseObjectData(e,n,r,s){const{xScale:i,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(s);let u,d,h,f;for(u=0,d=s;u<d;++u)h=u+r,f=n[h],c[u]={x:i.parse(Gr(f,a),h),y:o.parse(Gr(f,l),h)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const s=this.chart,i=this._cachedMeta,o=n[e.axis],a={keys:wv(s,!0),values:n._stacks[e.axis]._visualValues};return ip(a,o,i.index,{mode:r})}updateRangeFromParsed(e,n,r,s){const i=r[n.axis];let o=i===null?NaN:i;const a=s&&r._stacks[n.axis];s&&a&&(s.values=a,o=ip(s,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const r=this._cachedMeta,s=r._parsed,i=r._sorted&&e===r.iScale,o=s.length,a=this._getOtherScale(e),l=mS(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=hS(a);let h,f;function p(){f=s[h];const v=f[a.axis];return!Bt(f[e.axis])||u>v||d<v}for(h=0;h<o&&!(!p()&&(this.updateRangeFromParsed(c,e,f,l),i));++h);if(i){for(h=o-1;h>=0;--h)if(!p()){this.updateRangeFromParsed(c,e,f,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let s,i,o;for(s=0,i=n.length;s<i;++s)o=n[s][e.axis],Bt(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,s=n.vScale,i=this.getParsed(e);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=cS(Z(this.options.clip,lS(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],i=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||s.length-a,c=this.options.drawActiveElementsOnTop;let u;for(r.dataset&&r.dataset.draw(e,i,a,l),u=a;u<a+l;++u){const d=s[u];d.hidden||(d.active&&c?o.push(d):d.draw(e,i))}for(u=0;u<o.length;++u)o[u].draw(e,i)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const s=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];i=o.$context||(o.$context=pS(this.getContext(),e,o)),i.parsed=this.getParsed(e),i.raw=s.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=gS(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=r,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const s=n==="active",i=this._cachedDataOpts,o=e+"-"+n,a=i[o],l=this.enableOptionSharing&&_o(r);if(a)return lp(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=s?[`${e}Hover`,"hover",e,""]:[e,""],h=c.getOptionScopes(this.getDataset(),u),f=Object.keys(Oe.elements[e]),p=()=>this.getContext(r,s,n),v=c.resolveNamedOptions(h,f,p,d);return v.$shared&&(v.$shared=l,i[o]=Object.freeze(lp(v,l))),v}_resolveAnimations(e,n,r){const s=this.chart,i=this._cachedDataOpts,o=`animation-${n}`,a=i[o];if(a)return a;let l;if(s.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,n),h=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(h,this.getContext(e,r,n))}const c=new xv(s,l&&l.animations);return l&&l._cacheable&&(i[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Kc(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),s=this._sharedOptions,i=this.getSharedOptions(r),o=this.includeOptions(n,i)||i!==s;return this.updateSharedOptions(i,n,r),{sharedOptions:i,includeOptions:o}}updateElement(e,n,r,s){Kc(s)?Object.assign(e,r):this._resolveAnimations(n,s).update(e,r)}updateSharedOptions(e,n,r){e&&!Kc(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,s){e.active=s;const i=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(e,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const s=r.length,i=n.length,o=Math.min(i,s);o&&this.parse(0,o),i>s?this._insertElements(s,i-s,e):i<s&&this._removeElements(i,s-i)}_insertElements(e,n,r=!0){const s=this._cachedMeta,i=s.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(i),a=e;a<o;++a)i[a]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(e,n),r&&this.updateElements(i,e,n,"reset")}updateElements(e,n,r,s){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(e,n);r._stacked&&vi(r,s)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,s]=e;this[n](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}F(Wr,"defaults",{}),F(Wr,"datasetElementType",null),F(Wr,"dataElementType",null);function yS(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let s=0,i=n.length;s<i;s++)r=r.concat(n[s].controller.getAllParsedValues(t));t._cache.$bar=iv(r.sort((s,i)=>s-i))}return t._cache.$bar}function vS(t){const e=t.iScale,n=yS(e,t.type);let r=e._length,s,i,o,a;const l=()=>{o===32767||o===-32768||(_o(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(s=0,i=n.length;s<i;++s)o=e.getPixelForValue(n[s]),l();for(a=void 0,s=0,i=e.ticks.length;s<i;++s)o=e.getPixelForTick(s),l();return r}function xS(t,e,n,r){const s=n.barThickness;let i,o;return ue(s)?(i=e.min*n.categoryPercentage,o=n.barPercentage):(i=s*r,o=1),{chunk:i/r,ratio:o,start:e.pixels[t]-i/2}}function wS(t,e,n,r){const s=e.pixels,i=s[t];let o=t>0?s[t-1]:null,a=t<s.length-1?s[t+1]:null;const l=n.categoryPercentage;o===null&&(o=i-(a===null?e.end-e.start:a-i)),a===null&&(a=i+i-o);const c=i-(i-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/r,ratio:n.barPercentage,start:c}}function bS(t,e,n,r){const s=n.parse(t[0],r),i=n.parse(t[1],r),o=Math.min(s,i),a=Math.max(s,i);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:s,end:i,min:o,max:a}}function bv(t,e,n,r){return Fe(t)?bS(t,e,n,r):e[n.axis]=n.parse(t,r),e}function cp(t,e,n,r){const s=t.iScale,i=t.vScale,o=s.getLabels(),a=s===i,l=[];let c,u,d,h;for(c=n,u=n+r;c<u;++c)h=e[c],d={},d[s.axis]=a||s.parse(o[c],c),l.push(bv(h,d,i,c));return l}function Xc(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function _S(t,e,n){return t!==0?Lt(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function kS(t){let e,n,r,s,i;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(s="end",i="start"):(s="start",i="end"),{start:n,end:r,reverse:e,top:s,bottom:i}}function SS(t,e,n,r){let s=e.borderSkipped;const i={};if(!s){t.borderSkipped=i;return}if(s===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=kS(t);s==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?s=c:(n._bottom||0)===r?s=u:(i[up(u,o,a,l)]=!0,s=c)),i[up(s,o,a,l)]=!0,t.borderSkipped=i}function up(t,e,n,r){return r?(t=TS(t,e,n),t=dp(t,n,e)):t=dp(t,e,n),t}function TS(t,e,n){return t===e?n:t===n?e:t}function dp(t,e,n){return t==="start"?e:t==="end"?n:t}function ES(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Ka extends Wr{parsePrimitiveData(e,n,r,s){return cp(e,n,r,s)}parseArrayData(e,n,r,s){return cp(e,n,r,s)}parseObjectData(e,n,r,s){const{iScale:i,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=i.axis==="x"?a:l,u=o.axis==="x"?a:l,d=[];let h,f,p,v;for(h=r,f=r+s;h<f;++h)v=n[h],p={},p[i.axis]=i.parse(Gr(v,c),h),d.push(bv(Gr(v,u),p,o,h));return d}updateRangeFromParsed(e,n,r,s){super.updateRangeFromParsed(e,n,r,s);const i=r._custom;i&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:s}=n,i=this.getParsed(e),o=i._custom,a=Xc(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(i[s.axis]);return{label:""+r.getLabelForValue(i[r.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,s){const i=s==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:d,includeOptions:h}=this._getSharedOptions(n,s);for(let f=n;f<n+r;f++){const p=this.getParsed(f),v=i||ue(p[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),_=this._calculateBarIndexPixels(f,u),y=(p._stacks||{})[a.axis],m={horizontal:c,base:v.base,enableBorderRadius:!y||Xc(p._custom)||o===y._top||o===y._bottom,x:c?v.head:_.center,y:c?_.center:v.head,height:c?_.size:Math.abs(v.size),width:c?Math.abs(v.size):_.size};h&&(m.options=d||this.resolveDataElementOptions(f,e[f].active?"active":s));const w=m.options||e[f].options;SS(m,w,y,o),ES(m,w,u.ratio),this.updateElement(e[f],f,m,s)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),i=r.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[r.axis],c=u=>{const d=u._parsed.find(f=>f[r.axis]===l),h=d&&d[u.vScale.axis];if(ue(h)||isNaN(h))return!0};for(const u of s)if(!(n!==void 0&&c(u))&&((i===!1||o.indexOf(u.stack)===-1||i===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[Z(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,r){const s=this._getStacks(e,r),i=n!==void 0?s.indexOf(n):-1;return i===-1?s.length-1:i}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,s=[];let i,o;for(i=0,o=n.data.length;i<o;++i)s.push(r.getPixelForValue(this.getParsed(i)[r.axis],i));const a=e.barThickness;return{min:a||vS(n),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:s},options:{base:i,minBarLength:o}}=this,a=i||0,l=this.getParsed(e),c=l._custom,u=Xc(c);let d=l[n.axis],h=0,f=r?this.applyStack(n,l,r):d,p,v;f!==d&&(h=f-d,f=d),u&&(d=c.barStart,f=c.barEnd-c.barStart,d!==0&&Lt(d)!==Lt(c.barEnd)&&(h=0),h+=d);const _=!ue(i)&&!u?i:h;let y=n.getPixelForValue(_);if(this.chart.getDataVisibility(e)?p=n.getPixelForValue(h+f):p=y,v=p-y,Math.abs(v)<o){v=_S(v,n,a)*o,d===a&&(y-=v/2);const m=n.getPixelForDecimal(0),w=n.getPixelForDecimal(1),k=Math.min(m,w),S=Math.max(m,w);y=Math.max(Math.min(y,S),k),p=y+v,r&&!u&&(l._stacks[n.axis]._visualValues[s]=n.getValueForPixel(p)-n.getValueForPixel(y))}if(y===n.getPixelForValue(a)){const m=Lt(v)*n.getLineWidthForValue(a)/2;y+=m,v-=m}return{size:v,base:y,head:p,center:p+v/2}}_calculateBarIndexPixels(e,n){const r=n.scale,s=this.options,i=s.skipNull,o=Z(s.maxBarThickness,1/0);let a,l;const c=this._getAxisCount();if(n.grouped){const u=i?this._getStackCount(e):n.stackCount,d=s.barThickness==="flex"?wS(e,n,s,u*c):xS(e,n,s,u*c),h=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,f=this._getAxis().indexOf(Z(h,this.getFirstScaleIdForIndexAxis())),p=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+f;a=d.start+d.chunk*p+d.chunk/2,l=Math.min(o,d.chunk*d.ratio)}else a=r.getPixelForValue(this.getParsed(e)[r.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,s=r.length;let i=0;for(;i<s;++i)this.getParsed(i)[n.axis]!==null&&!r[i].hidden&&r[i].draw(this._ctx)}}F(Ka,"id","bar"),F(Ka,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),F(Ka,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function PS(t,e,n){let r=1,s=1,i=0,o=0;if(e<Ce){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),d=Math.cos(l),h=Math.sin(l),f=(w,k,S)=>So(w,a,l,!0)?1:Math.max(k,k*n,S,S*n),p=(w,k,S)=>So(w,a,l,!0)?-1:Math.min(k,k*n,S,S*n),v=f(0,c,d),_=f(Be,u,h),y=p(fe,c,d),m=p(fe+Be,u,h);r=(v-y)/2,s=(_-m)/2,i=-(v+y)/2,o=-(_+m)/2}return{ratioX:r,ratioY:s,offsetX:i,offsetY:o}}class Oi extends Wr{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=r;else{let i=l=>+r[l];if(ae(r[e])){const{key:l="value"}=this._parsing;i=c=>+Gr(r[c],l)}let o,a;for(o=e,a=e+n;o<a;++o)s._parsed[o]=i(o)}}_getRotation(){return Dn(this.options.rotation-90)}_getCircumference(){return Dn(this.options.circumference)}_getRotationExtents(){let e=Ce,n=-Ce;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const s=this.chart.getDatasetMeta(r).controller,i=s._getRotation(),o=s._getCircumference();e=Math.min(e,i),n=Math.max(n,i+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,s=this._cachedMeta,i=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-o)/2,0),l=Math.min(O1(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:d}=this._getRotationExtents(),{ratioX:h,ratioY:f,offsetX:p,offsetY:v}=PS(d,u,l),_=(r.width-o)/h,y=(r.height-o)/f,m=Math.max(Math.min(_,y)/2,0),w=ev(this.options.radius,m),k=Math.max(w*l,0),S=(w-k)/this._getVisibleDatasetWeightTotal();this.offsetX=p*w,this.offsetY=v*w,s.total=this.calculateTotal(),this.outerRadius=w-S*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-S*c,0),this.updateElements(i,0,i.length,e)}_circumference(e,n){const r=this.options,s=this._cachedMeta,i=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*i/Ce)}updateElements(e,n,r,s){const i=s==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,d=(a.top+a.bottom)/2,h=i&&c.animateScale,f=h?0:this.innerRadius,p=h?0:this.outerRadius,{sharedOptions:v,includeOptions:_}=this._getSharedOptions(n,s);let y=this._getRotation(),m;for(m=0;m<n;++m)y+=this._circumference(m,i);for(m=n;m<n+r;++m){const w=this._circumference(m,i),k=e[m],S={x:u+this.offsetX,y:d+this.offsetY,startAngle:y,endAngle:y+w,circumference:w,outerRadius:p,innerRadius:f};_&&(S.options=v||this.resolveDataElementOptions(m,k.active?"active":s)),y+=w,this.updateElement(k,m,S,s)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,s;for(s=0;s<n.length;s++){const i=e._parsed[s];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(r+=Math.abs(i))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Ce*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,s=r.data.labels||[],i=Nh(n._parsed[e],r.options.locale);return{label:s[e]||"",value:i}}getMaxBorderWidth(e){let n=0;const r=this.chart;let s,i,o,a,l;if(!e){for(s=0,i=r.data.datasets.length;s<i;++s)if(r.isDatasetVisible(s)){o=r.getDatasetMeta(s),e=o.data,a=o.controller;break}}if(!e)return 0;for(s=0,i=e.length;s<i;++s)l=a.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,s=e.length;r<s;++r){const i=this.resolveDataElementOptions(r);n=Math.max(n,i.offset||0,i.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(Z(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}F(Oi,"id","doughnut"),F(Oi,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),F(Oi,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),F(Oi,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:s}}=e.legend.options;return n.labels.map((i,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class Xa extends Wr{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:s=[],_dataset:i}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=Z1(n,s,o);this._drawStart=a,this._drawCount=l,J1(n)&&(a=0,l=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=s;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:c},e),this.updateElements(s,a,l,e)}updateElements(e,n,r,s){const i=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(n,s),h=o.axis,f=a.axis,{spanGaps:p,segment:v}=this.options,_=ko(p)?p:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||i||s==="none",m=n+r,w=e.length;let k=n>0&&this.getParsed(n-1);for(let S=0;S<w;++S){const E=e[S],C=y?E:{};if(S<n||S>=m){C.skip=!0;continue}const P=this.getParsed(S),R=ue(P[f]),B=C[h]=o.getPixelForValue(P[h],S),I=C[f]=i||R?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,P,l):P[f],S);C.skip=isNaN(B)||isNaN(I)||R,C.stop=S>0&&Math.abs(P[h]-k[h])>_,v&&(C.parsed=P,C.raw=c.data[S]),d&&(C.options=u||this.resolveDataElementOptions(S,E.active?"active":s)),y||this.updateElement(E,S,C,s),k=P}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return r;const i=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,i,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}F(Xa,"id","line"),F(Xa,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),F(Xa,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Tr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Wh{constructor(e){F(this,"options");this.options=e||{}}static override(e){Object.assign(Wh.prototype,e)}init(){}formats(){return Tr()}parse(){return Tr()}format(){return Tr()}add(){return Tr()}diff(){return Tr()}startOf(){return Tr()}endOf(){return Tr()}}var _v={_date:Wh};function CS(t,e,n,r){const{controller:s,data:i,_sorted:o}=t,a=s._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&i.length){const c=a._reversePixels?q1:Lr;if(r){if(s._sharedOptions){const u=i[0],d=typeof u.getRange=="function"&&u.getRange(e);if(d){const h=c(i,e,n-d),f=c(i,e,n+d);return{lo:h.lo,hi:f.hi}}}}else{const u=c(i,e,n);if(l){const{vScale:d}=s._cachedMeta,{_parsed:h}=t,f=h.slice(0,u.lo+1).reverse().findIndex(v=>!ue(v[d.axis]));u.lo-=Math.max(0,f);const p=h.slice(u.hi).findIndex(v=>!ue(v[d.axis]));u.hi+=Math.max(0,p)}return u}}return{lo:0,hi:i.length-1}}function Jl(t,e,n,r,s){const i=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=i.length;a<l;++a){const{index:c,data:u}=i[a],{lo:d,hi:h}=CS(i[a],e,o,s);for(let f=d;f<=h;++f){const p=u[f];p.skip||r(p,c,f)}}}function MS(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,s){const i=e?Math.abs(r.x-s.x):0,o=n?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function Qc(t,e,n,r,s){const i=[];return!s&&!t.isPointInArea(e)||Jl(t,n,e,function(a,l,c){!s&&!Us(a,t.chartArea,0)||a.inRange(e.x,e.y,r)&&i.push({element:a,datasetIndex:l,index:c})},!0),i}function DS(t,e,n,r){let s=[];function i(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],r),{angle:d}=rv(o,{x:e.x,y:e.y});So(d,c,u)&&s.push({element:o,datasetIndex:a,index:l})}return Jl(t,n,e,i),s}function AS(t,e,n,r,s,i){let o=[];const a=MS(n);let l=Number.POSITIVE_INFINITY;function c(u,d,h){const f=u.inRange(e.x,e.y,s);if(r&&!f)return;const p=u.getCenterPoint(s);if(!(!!i||t.isPointInArea(p))&&!f)return;const _=a(e,p);_<l?(o=[{element:u,datasetIndex:d,index:h}],l=_):_===l&&o.push({element:u,datasetIndex:d,index:h})}return Jl(t,n,e,c),o}function Zc(t,e,n,r,s,i){return!i&&!t.isPointInArea(e)?[]:n==="r"&&!r?DS(t,e,n,s):AS(t,e,n,r,s,i)}function hp(t,e,n,r,s){const i=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Jl(t,n,e,(l,c,u)=>{l[o]&&l[o](e[n],s)&&(i.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,s))}),r&&!a?[]:i}var OS={modes:{index(t,e,n,r){const s=ft(e,t),i=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Qc(t,s,i,r,o):Zc(t,s,i,!1,r,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,r){const s=ft(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Qc(t,s,i,r,o):Zc(t,s,i,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,r){const s=ft(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return Qc(t,s,i,r,o)},nearest(t,e,n,r){const s=ft(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return Zc(t,s,i,n.intersect,r,o)},x(t,e,n,r){const s=ft(e,t);return hp(t,s,"x",n.intersect,r)},y(t,e,n,r){const s=ft(e,t);return hp(t,s,"y",n.intersect,r)}}};const kv=["left","top","right","bottom"];function xi(t,e){return t.filter(n=>n.pos===e)}function fp(t,e){return t.filter(n=>kv.indexOf(n.pos)===-1&&n.box.axis===e)}function wi(t,e){return t.sort((n,r)=>{const s=e?r:n,i=e?n:r;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function NS(t){const e=[];let n,r,s,i,o,a;for(n=0,r=(t||[]).length;n<r;++n)s=t[n],{position:i,options:{stack:o,stackWeight:a=1}}=s,e.push({index:n,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&i+o,stackWeight:a});return e}function jS(t){const e={};for(const n of t){const{stack:r,pos:s,stackWeight:i}=n;if(!r||!kv.includes(s))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function RS(t,e){const n=jS(t),{vBoxMaxWidth:r,hBoxMaxHeight:s}=e;let i,o,a;for(i=0,o=t.length;i<o;++i){a=t[i];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*r:l&&e.availableWidth,a.height=s):(a.width=r,a.height=u?u*s:l&&e.availableHeight)}return n}function IS(t){const e=NS(t),n=wi(e.filter(c=>c.box.fullSize),!0),r=wi(xi(e,"left"),!0),s=wi(xi(e,"right")),i=wi(xi(e,"top"),!0),o=wi(xi(e,"bottom")),a=fp(e,"x"),l=fp(e,"y");return{fullSize:n,leftAndTop:r.concat(i),rightAndBottom:s.concat(l).concat(o).concat(a),chartArea:xi(e,"chartArea"),vertical:r.concat(s).concat(l),horizontal:i.concat(o).concat(a)}}function gp(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function Sv(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function LS(t,e,n,r){const{pos:s,box:i}=n,o=t.maxPadding;if(!ae(s)){n.size&&(t[s]-=n.size);const d=r[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?i.height:i.width),n.size=d.size/d.count,t[s]+=n.size}i.getPadding&&Sv(o,i.getPadding());const a=Math.max(0,e.outerWidth-gp(o,t,"left","right")),l=Math.max(0,e.outerHeight-gp(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function zS(t){const e=t.maxPadding;function n(r){const s=Math.max(e[r]-t[r],0);return t[r]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function FS(t,e){const n=e.maxPadding;function r(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{i[o]=Math.max(e[o],n[o])}),i}return r(t?["left","right"]:["top","bottom"])}function Ni(t,e,n,r){const s=[];let i,o,a,l,c,u;for(i=0,o=t.length,c=0;i<o;++i){a=t[i],l=a.box,l.update(a.width||e.w,a.height||e.h,FS(a.horizontal,e));const{same:d,other:h}=LS(e,n,a,r);c|=d&&s.length,u=u||h,l.fullSize||s.push(a)}return c&&Ni(s,e,n,r)||u}function Ta(t,e,n,r,s){t.top=n,t.left=e,t.right=e+r,t.bottom=n+s,t.width=r,t.height=s}function pp(t,e,n,r){const s=n.padding;let{x:i,y:o}=e;for(const a of t){const l=a.box,c=r[a.stack]||{placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const d=e.w*u,h=c.size||l.height;_o(c.start)&&(o=c.start),l.fullSize?Ta(l,s.left,o,n.outerWidth-s.right-s.left,h):Ta(l,e.left+c.placed,o,d,h),c.start=o,c.placed+=d,o=l.bottom}else{const d=e.h*u,h=c.size||l.width;_o(c.start)&&(i=c.start),l.fullSize?Ta(l,i,s.top,h,n.outerHeight-s.bottom-s.top):Ta(l,i,e.top+c.placed,h,d),c.start=i,c.placed+=d,i=l.right}}e.x=i,e.y=o}var Rt={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const s=Wt(t.options.layout.padding),i=Math.max(e-s.width,0),o=Math.max(n-s.height,0),a=IS(t.boxes),l=a.vertical,c=a.horizontal;ne(t.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});const u=l.reduce((v,_)=>_.box.options&&_.box.options.display===!1?v:v+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/u,hBoxMaxHeight:o/2}),h=Object.assign({},s);Sv(h,Wt(r));const f=Object.assign({maxPadding:h,w:i,h:o,x:s.left,y:s.top},s),p=RS(l.concat(c),d);Ni(a.fullSize,f,d,p),Ni(l,f,d,p),Ni(c,f,d,p)&&Ni(l,f,d,p),zS(f),pp(a.leftAndTop,f,d,p),f.x+=f.w,f.y+=f.h,pp(a.rightAndBottom,f,d,p),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},ne(a.chartArea,v=>{const _=v.box;Object.assign(_,t.chartArea),_.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class Tv{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,s){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):r)}}isAttached(e){return!0}updateConfig(e){}}class $S extends Tv{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Qa="$chartjs",BS={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},mp=t=>t===null||t==="";function WS(t,e){const n=t.style,r=t.getAttribute("height"),s=t.getAttribute("width");if(t[Qa]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",mp(s)){const i=Jg(t,"width");i!==void 0&&(t.width=i)}if(mp(r))if(t.style.height==="")t.height=t.width/(e||2);else{const i=Jg(t,"height");i!==void 0&&(t.height=i)}return t}const Ev=Wk?{passive:!0}:!1;function HS(t,e,n){t&&t.addEventListener(e,n,Ev)}function US(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,Ev)}function VS(t,e){const n=BS[t.type]||t.type,{x:r,y:s}=ft(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:s!==void 0?s:null}}function Dl(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function YS(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||Dl(a.addedNodes,r),o=o&&!Dl(a.removedNodes,r);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function qS(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||Dl(a.removedNodes,r),o=o&&!Dl(a.addedNodes,r);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const Eo=new Map;let yp=0;function Pv(){const t=window.devicePixelRatio;t!==yp&&(yp=t,Eo.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function GS(t,e){Eo.size||window.addEventListener("resize",Pv),Eo.set(t,e)}function KS(t){Eo.delete(t),Eo.size||window.removeEventListener("resize",Pv)}function XS(t,e,n){const r=t.canvas,s=r&&Bh(r);if(!s)return;const i=av((a,l)=>{const c=s.clientWidth;n(a,l),c<s.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||i(c,u)});return o.observe(s),GS(t,i),o}function Jc(t,e,n){n&&n.disconnect(),e==="resize"&&KS(t)}function QS(t,e,n){const r=t.canvas,s=av(i=>{t.ctx!==null&&n(VS(i,t))},t);return HS(r,e,s),s}class ZS extends Tv{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(WS(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[Qa])return!1;const r=n[Qa].initial;["height","width"].forEach(i=>{const o=r[i];ue(o)?n.removeAttribute(i):n.setAttribute(i,o)});const s=r.style||{};return Object.keys(s).forEach(i=>{n.style[i]=s[i]}),n.width=n.width,delete n[Qa],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),o={attach:YS,detach:qS,resize:XS}[n]||QS;s[n]=o(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),s=r[n];if(!s)return;({attach:Jc,detach:Jc,resize:Jc}[n]||US)(e,n,s),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,s){return Bk(e,n,r,s)}isAttached(e){const n=e&&Bh(e);return!!(n&&n.isConnected)}}function JS(t){return!$h()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?$S:ZS}class tn{constructor(){F(this,"x");F(this,"y");F(this,"active",!1);F(this,"options");F(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return ko(this.x)&&ko(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const s={};return e.forEach(i=>{s[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),s}}F(tn,"defaults",{}),F(tn,"defaultRoutes");function eT(t,e){const n=t.options.ticks,r=tT(t),s=Math.min(n.maxTicksLimit||r,r),i=n.major.enabled?rT(e):[],o=i.length,a=i[0],l=i[o-1],c=[];if(o>s)return sT(e,c,i,o/s),c;const u=nT(i,e,s);if(o>0){let d,h;const f=o>1?Math.round((l-a)/(o-1)):null;for(Ea(e,c,u,ue(f)?0:a-f,a),d=0,h=o-1;d<h;d++)Ea(e,c,u,i[d],i[d+1]);return Ea(e,c,u,l,ue(f)?e.length:l+f),c}return Ea(e,c,u),c}function tT(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(r,s))}function nT(t,e,n){const r=iT(t),s=e.length/n;if(!r)return Math.max(s,1);const i=$1(r);for(let o=0,a=i.length-1;o<a;o++){const l=i[o];if(l>s)return l}return Math.max(s,1)}function rT(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function sT(t,e,n,r){let s=0,i=n[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===i&&(e.push(t[o]),s++,i=n[s*r])}function Ea(t,e,n,r,s){const i=Z(r,0),o=Math.min(Z(s,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),s&&(l=s-r,n=l/Math.floor(l/n)),u=i;u<0;)a++,u=Math.round(i+a*n);for(c=Math.max(i,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(i+a*n))}function iT(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const oT=t=>t==="left"?"right":t==="right"?"left":t,vp=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,xp=(t,e)=>Math.min(e||t,t);function wp(t,e){const n=[],r=t.length/e,s=t.length;let i=0;for(;i<s;i+=r)n.push(t[Math.floor(i)]);return n}function aT(t,e,n){const r=t.ticks.length,s=Math.min(e,r-1),i=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(s),c;if(!(n&&(r===1?c=Math.max(l-i,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(s-1))/2,l+=s<e?c:-c,l<i-a||l>o+a)))return l}function lT(t,e){ne(t,n=>{const r=n.gc,s=r.length/2;let i;if(s>e){for(i=0;i<s;++i)delete n.data[r[i]];r.splice(0,s)}})}function bi(t){return t.drawTicks?t.tickLength:0}function bp(t,e){if(!t.display)return 0;const n=nt(t.font,e),r=Wt(t.padding);return(Fe(t.text)?t.text.length:1)*n.lineHeight+r.height}function cT(t,e){return es(t,{scale:e,type:"scale"})}function uT(t,e,n){return es(t,{tick:n,index:e,type:"tick"})}function dT(t,e,n){let r=Ah(t);return(n&&e!=="right"||!n&&e==="right")&&(r=oT(r)),r}function hT(t,e,n,r){const{top:s,left:i,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let d=0,h,f,p;const v=o-s,_=a-i;if(t.isHorizontal()){if(f=Je(r,i,a),ae(n)){const y=Object.keys(n)[0],m=n[y];p=u[y].getPixelForValue(m)+v-e}else n==="center"?p=(c.bottom+c.top)/2+v-e:p=vp(t,n,e);h=a-i}else{if(ae(n)){const y=Object.keys(n)[0],m=n[y];f=u[y].getPixelForValue(m)-_+e}else n==="center"?f=(c.left+c.right)/2-_+e:f=vp(t,n,e);p=Je(r,o,s),d=n==="left"?-Be:Be}return{titleX:f,titleY:p,maxWidth:h,rotation:d}}class Js extends tn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:s}=this;return e=an(e,Number.POSITIVE_INFINITY),n=an(n,Number.NEGATIVE_INFINITY),r=an(r,Number.POSITIVE_INFINITY),s=an(s,Number.NEGATIVE_INFINITY),{min:an(e,r),max:an(n,s),minDefined:Bt(e),maxDefined:Bt(n)}}getMinMax(e){let{min:n,max:r,minDefined:s,maxDefined:i}=this.getUserBounds(),o;if(s&&i)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),s||(n=Math.min(n,o.min)),i||(r=Math.max(r,o.max));return n=i&&n>r?r:n,r=s&&n>r?n:r,{min:an(n,an(r,n)),max:an(r,an(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){X(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:s,grace:i,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=xk(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?wp(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=eT(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){X(this.options.afterUpdate,[this])}beforeSetDimensions(){X(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){X(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),X(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){X(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,s,i;for(r=0,s=e.length;r<s;r++)i=e[r],i.label=X(n.callback,[i.value,r,e],this)}afterTickToLabelConversion(){X(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){X(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=xp(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,i=n.maxRotation;let o=s,a,l,c;if(!this._isVisible()||!n.display||s>=i||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const u=this._getLabelSizes(),d=u.widest.width,h=u.highest.height,f=tt(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/r:f/(r-1),d+6>a&&(a=f/(r-(e.offset?.5:1)),l=this.maxHeight-bi(e.grid)-n.padding-bp(e.title,this.chart.options.font),c=Math.sqrt(d*d+h*h),o=U1(Math.min(Math.asin(tt((u.highest.height+6)/a,-1,1)),Math.asin(tt(l/c,-1,1))-Math.asin(tt(h/c,-1,1)))),o=Math.max(s,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){X(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){X(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:s,grid:i}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=bp(s,n.options.font);if(a?(e.width=this.maxWidth,e.height=bi(i)+l):(e.height=this.maxHeight,e.width=bi(i)+l),r.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:h}=this._getLabelSizes(),f=r.padding*2,p=Dn(this.labelRotation),v=Math.cos(p),_=Math.sin(p);if(a){const y=r.mirror?0:_*d.width+v*h.height;e.height=Math.min(this.maxHeight,e.height+y+f)}else{const y=r.mirror?0:v*d.width+_*h.height;e.width=Math.min(this.maxWidth,e.width+y+f)}this._calculatePadding(c,u,_,v)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,s){const{ticks:{align:i,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,f=0;l?c?(h=s*e.width,f=r*n.height):(h=r*e.height,f=s*n.width):i==="start"?f=n.width:i==="end"?h=e.width:i!=="inner"&&(h=e.width/2,f=n.width/2),this.paddingLeft=Math.max((h-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-d+o)*this.width/(this.width-d),0)}else{let u=n.height/2,d=e.height/2;i==="start"?(u=0,d=e.height):i==="end"&&(u=n.height,d=0),this.paddingTop=u+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){X(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)ue(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=wp(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:s,_longestTextCache:i}=this,o=[],a=[],l=Math.floor(n/xp(n,r));let c=0,u=0,d,h,f,p,v,_,y,m,w,k,S;for(d=0;d<n;d+=l){if(p=e[d].label,v=this._resolveTickFontOptions(d),s.font=_=v.string,y=i[_]=i[_]||{data:{},gc:[]},m=v.lineHeight,w=k=0,!ue(p)&&!Fe(p))w=Gg(s,y.data,y.gc,w,p),k=m;else if(Fe(p))for(h=0,f=p.length;h<f;++h)S=p[h],!ue(S)&&!Fe(S)&&(w=Gg(s,y.data,y.gc,w,S),k+=m);o.push(w),a.push(k),c=Math.max(w,c),u=Math.max(k,u)}lT(i,n);const E=o.indexOf(c),C=a.indexOf(u),P=R=>({width:o[R]||0,height:a[R]||0});return{first:P(0),last:P(n-1),widest:P(E),highest:P(C),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return Y1(this._alignToPixels?Sr(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=uT(this.getContext(),e,r))}return this.$context||(this.$context=cT(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Dn(this.labelRotation),r=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,a=i?i.widest.width+o:0,l=i?i.highest.height+o:0;return this.isHorizontal()?l*r>a*s?a/r:l/s:l*s<a*r?l/r:a/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,s=this.options,{grid:i,position:o,border:a}=s,l=i.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),h=bi(i),f=[],p=a.setContext(this.getContext()),v=p.display?p.width:0,_=v/2,y=function(z){return Sr(r,z,v)};let m,w,k,S,E,C,P,R,B,I,O,L;if(o==="top")m=y(this.bottom),C=this.bottom-h,R=m-_,I=y(e.top)+_,L=e.bottom;else if(o==="bottom")m=y(this.top),I=e.top,L=y(e.bottom)-_,C=m+_,R=this.top+h;else if(o==="left")m=y(this.right),E=this.right-h,P=m-_,B=y(e.left)+_,O=e.right;else if(o==="right")m=y(this.left),B=e.left,O=y(e.right)-_,E=m+_,P=this.left+h;else if(n==="x"){if(o==="center")m=y((e.top+e.bottom)/2+.5);else if(ae(o)){const z=Object.keys(o)[0],N=o[z];m=y(this.chart.scales[z].getPixelForValue(N))}I=e.top,L=e.bottom,C=m+_,R=C+h}else if(n==="y"){if(o==="center")m=y((e.left+e.right)/2);else if(ae(o)){const z=Object.keys(o)[0],N=o[z];m=y(this.chart.scales[z].getPixelForValue(N))}E=m-_,P=E-h,B=e.left,O=e.right}const M=Z(s.ticks.maxTicksLimit,d),A=Math.max(1,Math.ceil(d/M));for(w=0;w<d;w+=A){const z=this.getContext(w),N=i.setContext(z),D=a.setContext(z),$=N.lineWidth,U=N.color,V=D.dash||[],K=D.dashOffset,de=N.tickWidth,se=N.tickColor,We=N.tickBorderDash||[],be=N.tickBorderDashOffset;k=aT(this,w,l),k!==void 0&&(S=Sr(r,k,$),c?E=P=B=O=S:C=R=I=L=S,f.push({tx1:E,ty1:C,tx2:P,ty2:R,x1:B,y1:I,x2:O,y2:L,width:$,color:U,borderDash:V,borderDashOffset:K,tickWidth:de,tickColor:se,tickBorderDash:We,tickBorderDashOffset:be}))}return this._ticksLength=d,this._borderValue=m,f}_computeLabelItems(e){const n=this.axis,r=this.options,{position:s,ticks:i}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=i,h=bi(r.grid),f=h+u,p=d?-u:f,v=-Dn(this.labelRotation),_=[];let y,m,w,k,S,E,C,P,R,B,I,O,L="middle";if(s==="top")E=this.bottom-p,C=this._getXAxisLabelAlignment();else if(s==="bottom")E=this.top+p,C=this._getXAxisLabelAlignment();else if(s==="left"){const A=this._getYAxisLabelAlignment(h);C=A.textAlign,S=A.x}else if(s==="right"){const A=this._getYAxisLabelAlignment(h);C=A.textAlign,S=A.x}else if(n==="x"){if(s==="center")E=(e.top+e.bottom)/2+f;else if(ae(s)){const A=Object.keys(s)[0],z=s[A];E=this.chart.scales[A].getPixelForValue(z)+f}C=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")S=(e.left+e.right)/2-f;else if(ae(s)){const A=Object.keys(s)[0],z=s[A];S=this.chart.scales[A].getPixelForValue(z)}C=this._getYAxisLabelAlignment(h).textAlign}n==="y"&&(l==="start"?L="top":l==="end"&&(L="bottom"));const M=this._getLabelSizes();for(y=0,m=a.length;y<m;++y){w=a[y],k=w.label;const A=i.setContext(this.getContext(y));P=this.getPixelForTick(y)+i.labelOffset,R=this._resolveTickFontOptions(y),B=R.lineHeight,I=Fe(k)?k.length:1;const z=I/2,N=A.color,D=A.textStrokeColor,$=A.textStrokeWidth;let U=C;o?(S=P,C==="inner"&&(y===m-1?U=this.options.reverse?"left":"right":y===0?U=this.options.reverse?"right":"left":U="center"),s==="top"?c==="near"||v!==0?O=-I*B+B/2:c==="center"?O=-M.highest.height/2-z*B+B:O=-M.highest.height+B/2:c==="near"||v!==0?O=B/2:c==="center"?O=M.highest.height/2-z*B:O=M.highest.height-I*B,d&&(O*=-1),v!==0&&!A.showLabelBackdrop&&(S+=B/2*Math.sin(v))):(E=P,O=(1-I)*B/2);let V;if(A.showLabelBackdrop){const K=Wt(A.backdropPadding),de=M.heights[y],se=M.widths[y];let We=O-K.top,be=0-K.left;switch(L){case"middle":We-=de/2;break;case"bottom":We-=de;break}switch(C){case"center":be-=se/2;break;case"right":be-=se;break;case"inner":y===m-1?be-=se:y>0&&(be-=se/2);break}V={left:be,top:We,width:se+K.width,height:de+K.height,color:A.backdropColor}}_.push({label:k,font:R,textOffset:O,options:{rotation:v,color:N,strokeColor:D,strokeWidth:$,textAlign:U,textBaseline:L,translation:[S,E],backdrop:V}})}return _}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Dn(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:s,padding:i}}=this.options,o=this._getLabelSizes(),a=e+i,l=o.widest.width;let c,u;return n==="left"?s?(u=this.right+i,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?s?(u=this.left+i,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:s,width:i,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,s,i,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(i=>i.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const a=(l,c,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(i=0,o=s.length;i<o;++i){const l=s[i];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:s}}=this,i=r.setContext(this.getContext()),o=r.display?i.width:0;if(!o)return;const a=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,h;this.isHorizontal()?(c=Sr(e,this.left,o)-o/2,u=Sr(e,this.right,a)+a/2,d=h=l):(d=Sr(e,this.top,o)-o/2,h=Sr(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(c,d),n.lineTo(u,h),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&jh(r,s);const i=this.getLabelItems(e);for(const o of i){const a=o.options,l=o.font,c=o.label,u=o.textOffset;To(r,c,0,u,l,a)}s&&Rh(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:s}}=this;if(!r.display)return;const i=nt(r.font),o=Wt(r.padding),a=r.align;let l=i.lineHeight/2;n==="bottom"||n==="center"||ae(n)?(l+=o.bottom,Fe(r.text)&&(l+=i.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:d,rotation:h}=hT(this,l,n,a);To(e,r.text,0,0,i,{color:r.color,maxWidth:d,rotation:h,textAlign:dT(a,n,s),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=Z(e.grid&&e.grid.z,-1),s=Z(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Js.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let i,o;for(i=0,o=n.length;i<o;++i){const a=n[i];a[r]===this.id&&(!e||a.type===e)&&s.push(a)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return nt(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Pa{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;pT(n)&&(r=this.register(n));const s=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in s||(s[i]=e,fT(e,o,r),this.override&&Oe.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,s=this.scope;r in n&&delete n[r],s&&r in Oe[s]&&(delete Oe[s][r],this.override&&delete Kr[r])}}function fT(t,e,n){const r=bo(Object.create(null),[n?Oe.get(n):{},Oe.get(e),t.defaults]);Oe.set(e,r),t.defaultRoutes&&gT(e,t.defaultRoutes),t.descriptors&&Oe.describe(e,t.descriptors)}function gT(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),s=r.pop(),i=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");Oe.route(i,s,l,a)})}function pT(t){return"id"in t&&"defaults"in t}class mT{constructor(){this.controllers=new Pa(Wr,"datasets",!0),this.elements=new Pa(tn,"elements"),this.plugins=new Pa(Object,"plugins"),this.scales=new Pa(Js,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(s=>{const i=r||this._getRegistryForType(s);r||i.isForType(s)||i===this.plugins&&s.id?this._exec(e,i,s):ne(s,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,r){const s=Mh(e);X(r["before"+s],[],r),n[e](r),X(r["after"+s],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return s}}var un=new mT;class yT{constructor(){this._init=[]}notify(e,n,r,s){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=s?this._descriptors(e).filter(s):this._descriptors(e),o=this._notify(i,e,n,r);return n==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,r,s){s=s||{};for(const i of e){const o=i.plugin,a=o[r],l=[n,s,i.options];if(X(a,l,o)===!1&&s.cancelable)return!1}return!0}invalidate(){ue(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,s=Z(r.options&&r.options.plugins,{}),i=vT(r);return s===!1&&!n?[]:wT(e,i,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,s=(i,o)=>i.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(s(n,r),e,"stop"),this._notify(s(r,n),e,"start")}}function vT(t){const e={},n=[],r=Object.keys(un.plugins.items);for(let i=0;i<r.length;i++)n.push(un.getPlugin(r[i]));const s=t.plugins||[];for(let i=0;i<s.length;i++){const o=s[i];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function xT(t,e){return!e&&t===!1?null:t===!0?{}:t}function wT(t,{plugins:e,localIds:n},r,s){const i=[],o=t.getContext();for(const a of e){const l=a.id,c=xT(r[l],s);c!==null&&i.push({plugin:a,options:bT(t.config,{plugin:a,local:n[l]},c,o)})}return i}function bT(t,{plugin:e,local:n},r,s){const i=t.pluginScopeKeys(e),o=t.getOptionScopes(r,i);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ld(t,e){const n=Oe.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function _T(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function kT(t,e){return t===e?"_index_":"_value_"}function _p(t){if(t==="x"||t==="y"||t==="r")return t}function ST(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function cd(t,...e){if(_p(t))return t;for(const n of e){const r=n.axis||ST(n.position)||t.length>1&&_p(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function kp(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function TT(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return kp(t,"x",n[0])||kp(t,"y",n[0])}return{}}function ET(t,e){const n=Kr[t.type]||{scales:{}},r=e.scales||{},s=ld(t.type,e),i=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!ae(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=cd(o,a,TT(o,t),Oe.scales[a.type]),c=kT(l,s),u=n.scales||{};i[o]=qi(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||ld(a,e),u=(Kr[a]||{}).scales||{};Object.keys(u).forEach(d=>{const h=_T(d,l),f=o[h+"AxisID"]||h;i[f]=i[f]||Object.create(null),qi(i[f],[{axis:h},r[f],u[d]])})}),Object.keys(i).forEach(o=>{const a=i[o];qi(a,[Oe.scales[a.type],Oe.scale])}),i}function Cv(t){const e=t.options||(t.options={});e.plugins=Z(e.plugins,{}),e.scales=ET(t,e)}function Mv(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function PT(t){return t=t||{},t.data=Mv(t.data),Cv(t),t}const Sp=new Map,Dv=new Set;function Ca(t,e){let n=Sp.get(t);return n||(n=e(),Sp.set(t,n),Dv.add(n)),n}const _i=(t,e,n)=>{const r=Gr(e,n);r!==void 0&&t.add(r)};class CT{constructor(e){this._config=PT(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Mv(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Cv(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Ca(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Ca(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Ca(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return Ca(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let s=r.get(e);return(!s||n)&&(s=new Map,r.set(e,s)),s}getOptionScopes(e,n,r){const{options:s,type:i}=this,o=this._cachedScopes(e,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(d=>_i(l,e,d))),u.forEach(d=>_i(l,s,d)),u.forEach(d=>_i(l,Kr[i]||{},d)),u.forEach(d=>_i(l,Oe,d)),u.forEach(d=>_i(l,od,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),Dv.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,Kr[n]||{},Oe.datasets[n]||{},{type:n},Oe,od]}resolveNamedOptions(e,n,r,s=[""]){const i={$shared:!0},{resolver:o,subPrefixes:a}=Tp(this._resolverCache,e,s);let l=o;if(DT(o,n)){i.$shared=!1,r=pr(r)?r():r;const c=this.createResolver(e,r,a);l=Vs(o,r,c)}for(const c of n)i[c]=l[c];return i}createResolver(e,n,r=[""],s){const{resolver:i}=Tp(this._resolverCache,e,r);return ae(n)?Vs(i,n,void 0,s):i}}function Tp(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const s=n.join();let i=r.get(s);return i||(i={resolver:Lh(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(s,i)),i}const MT=t=>ae(t)&&Object.getOwnPropertyNames(t).some(e=>pr(t[e]));function DT(t,e){const{isScriptable:n,isIndexable:r}=dv(t);for(const s of e){const i=n(s),o=r(s),a=(o||i)&&t[s];if(i&&(pr(a)||MT(a))||o&&Fe(a))return!0}return!1}var AT="4.5.0";const OT=["top","bottom","left","right","chartArea"];function Ep(t,e){return t==="top"||t==="bottom"||OT.indexOf(t)===-1&&e==="x"}function Pp(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function Cp(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),X(n&&n.onComplete,[t],e)}function NT(t){const e=t.chart,n=e.options.animation;X(n&&n.onProgress,[t],e)}function Av(t){return $h()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Za={},Mp=t=>{const e=Av(t);return Object.values(Za).filter(n=>n.canvas===e).pop()};function jT(t,e,n){const r=Object.keys(t);for(const s of r){const i=+s;if(i>=e){const o=t[s];delete t[s],(n>0||i>e)&&(t[i+n]=o)}}}function RT(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}var Vn;let Ht=(Vn=class{static register(...e){un.add(...e),Dp()}static unregister(...e){un.remove(...e),Dp()}constructor(e,n){const r=this.config=new CT(n),s=Av(e),i=Mp(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||JS(s)),this.platform.updateConfig(r);const a=this.platform.acquireContext(s,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=A1(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new yT,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=X1(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],Za[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}bn.listen(this,"complete",Cp),bn.listen(this,"progress",NT),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:s,_aspectRatio:i}=this;return ue(e)?n&&i?i:s?r/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return un}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Zg(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Kg(this.canvas,this.ctx),this}stop(){return bn.stop(this),this}resize(e,n){bn.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,s=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,e,n,i),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Zg(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),X(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};ne(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,s=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let i=[];n&&(i=i.concat(Object.keys(n).map(o=>{const a=n[o],l=cd(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),ne(i,o=>{const a=o.options,l=a.id,c=cd(l,a),u=Z(a.type,o.dtype);(a.position===void 0||Ep(a.position,c)!==Ep(o.dposition))&&(a.position=o.dposition),s[l]=!0;let d=null;if(l in r&&r[l].type===u)d=r[l];else{const h=un.getScale(u);d=new h({id:l,type:u,ctx:this.ctx,chart:this}),r[d.id]=d}d.init(a,e)}),ne(s,(o,a)=>{o||delete r[a]}),ne(r,o=>{Rt.configure(this,o,o.options),Rt.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((s,i)=>s.index-i.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(Pp("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,s)=>{n.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){const i=n[r];let o=this.getDatasetMeta(r);const a=i.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=i.indexAxis||ld(a,this.options),o.order=i.order||0,o.index=r,o.label=""+i.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=un.getController(a),{datasetElementType:c,dataElementType:u}=Oe.datasets[a];Object.assign(l,{dataElementType:un.getElement(u),datasetElementType:c&&un.getElement(c)}),o.controller=new l(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){ne(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),h=!s&&i.indexOf(d)===-1;d.buildOrUpdateElements(h),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),s||ne(i,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Pp("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){ne(this.scales,e=>{Rt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!Fg(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:i}of n){const o=r==="_removeElements"?-i:i;jT(e,s,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=i=>new Set(e.filter(o=>o[0]===i).map((o,a)=>a+","+o.splice(1).join(","))),s=r(0);for(let i=1;i<n;i++)if(!Fg(s,r(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Rt.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],ne(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,pr(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),s={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(bn.has(this)?this.attached&&!bn.running(this)&&bn.start(this):(this.draw(),Cp({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let s,i;for(s=0,i=n.length;s<i;++s){const o=n[s];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},s=nS(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&jh(n,s),e.controller.draw(),s&&Rh(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return Us(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,s){const i=OS.modes[n];return typeof i=="function"?i(this,e,r,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let s=r.filter(i=>i&&i._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=es(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const s=r?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,s);_o(n)?(i.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(i,{visible:r}),this.update(a=>a.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),bn.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Kg(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Za[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(i,o)=>{n.addEventListener(this,i,o),e[i]=o},s=(i,o,a)=>{i.offsetX=o,i.offsetY=a,this._eventHandler(i)};ne(this.options.events,i=>r(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},s=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},i=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),r("resize",i),r("detach",o)};o=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){ne(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},ne(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const s=r?"set":"remove";let i,o,a,l;for(n==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:i,index:o})=>{const a=this.getDatasetMeta(i);if(!a)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:a.data[o],index:o}});!Tl(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const s=this.options.hover,i=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),o=i(n,e),a=r?e:i(e,n);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const i=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(i||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:s=[],options:i}=this,o=n,a=this._getActiveElements(e,s,r,o),l=L1(e),c=RT(e,this._lastEvent,r,l);r&&(this._lastEvent=null,X(i.onHover,[e,a,this],this),l&&X(i.onClick,[e,a,this],this));const u=!Tl(a,s);return(u||n)&&(this._active=a,this._updateHoverStyles(a,s,n)),this._lastEvent=c,u}_getActiveElements(e,n,r,s){if(e.type==="mouseout")return[];if(!r)return n;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,s)}},F(Vn,"defaults",Oe),F(Vn,"instances",Za),F(Vn,"overrides",Kr),F(Vn,"registry",un),F(Vn,"version",AT),F(Vn,"getChart",Mp),Vn);function Dp(){return ne(Ht.instances,t=>t._plugins.invalidate())}function IT(t,e,n){const{startAngle:r,x:s,y:i,outerRadius:o,innerRadius:a,options:l}=e,{borderWidth:c,borderJoinStyle:u}=l,d=Math.min(c/o,Kt(r-n));if(t.beginPath(),t.arc(s,i,o-c/2,r+d/2,n-d/2),a>0){const h=Math.min(c/a,Kt(r-n));t.arc(s,i,a+c/2,n-h/2,r+h/2,!0)}else{const h=Math.min(c/2,o*Kt(r-n));if(u==="round")t.arc(s,i,h,n-fe/2,r+fe/2,!0);else if(u==="bevel"){const f=2*h*h,p=-f*Math.cos(n+fe/2)+s,v=-f*Math.sin(n+fe/2)+i,_=f*Math.cos(r+fe/2)+s,y=f*Math.sin(r+fe/2)+i;t.lineTo(p,v),t.lineTo(_,y)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function LT(t,e,n){const{startAngle:r,pixelMargin:s,x:i,y:o,outerRadius:a,innerRadius:l}=e;let c=s/a;t.beginPath(),t.arc(i,o,a,r-c,n+c),l>s?(c=s/l,t.arc(i,o,l,n+c,r-c,!0)):t.arc(i,o,s,n+Be,r-Be),t.closePath(),t.clip()}function zT(t){return Ih(t,["outerStart","outerEnd","innerStart","innerEnd"])}function FT(t,e,n,r){const s=zT(t.options.borderRadius),i=(n-e)/2,o=Math.min(i,r*e/2),a=l=>{const c=(n-Math.min(i,l))*r/2;return tt(l,0,Math.min(i,c))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:tt(s.innerStart,0,o),innerEnd:tt(s.innerEnd,0,o)}}function ls(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function Al(t,e,n,r,s,i){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,d=Math.max(e.outerRadius+r+n-c,0),h=u>0?u+r+n+c:0;let f=0;const p=s-l;if(r){const A=u>0?u-r:0,z=d>0?d-r:0,N=(A+z)/2,D=N!==0?p*N/(N+r):p;f=(p-D)/2}const v=Math.max(.001,p*d-n/fe)/d,_=(p-v)/2,y=l+_+f,m=s-_-f,{outerStart:w,outerEnd:k,innerStart:S,innerEnd:E}=FT(e,h,d,m-y),C=d-w,P=d-k,R=y+w/C,B=m-k/P,I=h+S,O=h+E,L=y+S/I,M=m-E/O;if(t.beginPath(),i){const A=(R+B)/2;if(t.arc(o,a,d,R,A),t.arc(o,a,d,A,B),k>0){const $=ls(P,B,o,a);t.arc($.x,$.y,k,B,m+Be)}const z=ls(O,m,o,a);if(t.lineTo(z.x,z.y),E>0){const $=ls(O,M,o,a);t.arc($.x,$.y,E,m+Be,M+Math.PI)}const N=(m-E/h+(y+S/h))/2;if(t.arc(o,a,h,m-E/h,N,!0),t.arc(o,a,h,N,y+S/h,!0),S>0){const $=ls(I,L,o,a);t.arc($.x,$.y,S,L+Math.PI,y-Be)}const D=ls(C,y,o,a);if(t.lineTo(D.x,D.y),w>0){const $=ls(C,R,o,a);t.arc($.x,$.y,w,y-Be,R)}}else{t.moveTo(o,a);const A=Math.cos(R)*d+o,z=Math.sin(R)*d+a;t.lineTo(A,z);const N=Math.cos(B)*d+o,D=Math.sin(B)*d+a;t.lineTo(N,D)}t.closePath()}function $T(t,e,n,r,s){const{fullCircles:i,startAngle:o,circumference:a}=e;let l=e.endAngle;if(i){Al(t,e,n,r,l,s);for(let c=0;c<i;++c)t.fill();isNaN(a)||(l=o+(a%Ce||Ce))}return Al(t,e,n,r,l,s),t.fill(),l}function BT(t,e,n,r,s){const{fullCircles:i,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:h,borderRadius:f}=l,p=l.borderAlign==="inner";if(!c)return;t.setLineDash(d||[]),t.lineDashOffset=h,p?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let v=e.endAngle;if(i){Al(t,e,n,r,v,s);for(let _=0;_<i;++_)t.stroke();isNaN(a)||(v=o+(a%Ce||Ce))}p&&LT(t,e,v),l.selfJoin&&v-o>=fe&&f===0&&u!=="miter"&&IT(t,e,v),i||(Al(t,e,n,r,v,s),t.stroke())}class ji extends tn{constructor(n){super();F(this,"circumference");F(this,"endAngle");F(this,"fullCircles");F(this,"innerRadius");F(this,"outerRadius");F(this,"pixelMargin");F(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,s){const i=this.getProps(["x","y"],s),{angle:o,distance:a}=rv(i,{x:n,y:r}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:d,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),f=(this.options.spacing+this.options.borderWidth)/2,p=Z(h,c-l),v=So(o,l,c)&&l!==c,_=p>=Ce||v,y=tr(a,u+f,d+f);return _&&y}getCenterPoint(n){const{x:r,y:s,startAngle:i,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:u}=this.options,d=(i+o)/2,h=(a+l+u+c)/2;return{x:r+Math.cos(d)*h,y:s+Math.sin(d)*h}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:s}=this,i=(r.offset||0)/4,o=(r.spacing||0)/2,a=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=s>Ce?Math.floor(s/Ce):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*i,Math.sin(l)*i);const c=1-Math.sin(Math.min(fe,s||0)),u=i*c;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,$T(n,this,u,o,a),BT(n,this,u,o,a),n.restore()}}F(ji,"id","arc"),F(ji,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),F(ji,"defaultRoutes",{backgroundColor:"backgroundColor"}),F(ji,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function Ov(t,e,n=e){t.lineCap=Z(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Z(n.borderDash,e.borderDash)),t.lineDashOffset=Z(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Z(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Z(n.borderWidth,e.borderWidth),t.strokeStyle=Z(n.borderColor,e.borderColor)}function WT(t,e,n){t.lineTo(n.x,n.y)}function HT(t){return t.stepped?uk:t.tension||t.cubicInterpolationMode==="monotone"?dk:WT}function Nv(t,e,n={}){const r=t.length,{start:s=0,end:i=r-1}=n,{start:o,end:a}=e,l=Math.max(s,o),c=Math.min(i,a),u=s<o&&i<o||s>a&&i>a;return{count:r,start:l,loop:e.loop,ilen:c<l&&!u?r+c-l:c-l}}function UT(t,e,n,r){const{points:s,options:i}=e,{count:o,start:a,loop:l,ilen:c}=Nv(s,n,r),u=HT(i);let{move:d=!0,reverse:h}=r||{},f,p,v;for(f=0;f<=c;++f)p=s[(a+(h?c-f:f))%o],!p.skip&&(d?(t.moveTo(p.x,p.y),d=!1):u(t,v,p,h,i.stepped),v=p);return l&&(p=s[(a+(h?c:0))%o],u(t,v,p,h,i.stepped)),!!l}function VT(t,e,n,r){const s=e.points,{count:i,start:o,ilen:a}=Nv(s,n,r),{move:l=!0,reverse:c}=r||{};let u=0,d=0,h,f,p,v,_,y;const m=k=>(o+(c?a-k:k))%i,w=()=>{v!==_&&(t.lineTo(u,_),t.lineTo(u,v),t.lineTo(u,y))};for(l&&(f=s[m(0)],t.moveTo(f.x,f.y)),h=0;h<=a;++h){if(f=s[m(h)],f.skip)continue;const k=f.x,S=f.y,E=k|0;E===p?(S<v?v=S:S>_&&(_=S),u=(d*u+k)/++d):(w(),t.lineTo(k,S),p=E,d=0,v=_=S),y=S}w()}function ud(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?VT:UT}function YT(t){return t.stepped?Hk:t.tension||t.cubicInterpolationMode==="monotone"?Uk:Dr}function qT(t,e,n,r){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,r)&&s.closePath()),Ov(t,e.options),t.stroke(s)}function GT(t,e,n,r){const{segments:s,options:i}=e,o=ud(e);for(const a of s)Ov(t,i,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const KT=typeof Path2D=="function";function XT(t,e,n,r){KT&&!e.options.segment?qT(t,e,n,r):GT(t,e,n,r)}class An extends tn{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const s=r.spanGaps?this._loop:this._fullLoop;Rk(this._points,r,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Zk(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,s=e[n],i=this.points,o=Kk(this,{property:n,start:s,end:s});if(!o.length)return;const a=[],l=YT(r);let c,u;for(c=0,u=o.length;c<u;++c){const{start:d,end:h}=o[c],f=i[d],p=i[h];if(f===p){a.push(f);continue}const v=Math.abs((s-f[n])/(p[n]-f[n])),_=l(f,p,v,r.stepped);_[n]=e[n],a.push(_)}return a.length===1?a[0]:a}pathSegment(e,n,r){return ud(this)(e,this,n,r)}path(e,n,r){const s=this.segments,i=ud(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const a of s)o&=i(e,this,a,{start:n,end:n+r-1});return!!o}draw(e,n,r,s){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),XT(e,this,r,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}F(An,"id","line"),F(An,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),F(An,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),F(An,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Ap(t,e,n,r){const s=t.options,{[n]:i}=t.getProps([n],r);return Math.abs(e-i)<s.radius+s.hitRadius}class hr extends tn{constructor(n){super();F(this,"parsed");F(this,"skip");F(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,s){const i=this.options,{x:o,y:a}=this.getProps(["x","y"],s);return Math.pow(n-o,2)+Math.pow(r-a,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(n,r){return Ap(this,n,"x",r)}inYRange(n,r){return Ap(this,n,"y",r)}getCenterPoint(n){const{x:r,y:s}=this.getProps(["x","y"],n);return{x:r,y:s}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const s=r&&n.borderWidth||0;return(r+s)*2}draw(n,r){const s=this.options;this.skip||s.radius<.1||!Us(this,r,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,ad(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}F(hr,"id","point"),F(hr,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),F(hr,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function jv(t,e){const{x:n,y:r,base:s,width:i,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,d;return t.horizontal?(d=o/2,a=Math.min(n,s),l=Math.max(n,s),c=r-d,u=r+d):(d=i/2,a=n-d,l=n+d,c=Math.min(r,s),u=Math.max(r,s)),{left:a,top:c,right:l,bottom:u}}function nr(t,e,n,r){return t?0:tt(e,n,r)}function QT(t,e,n){const r=t.options.borderWidth,s=t.borderSkipped,i=uv(r);return{t:nr(s.top,i.top,0,n),r:nr(s.right,i.right,0,e),b:nr(s.bottom,i.bottom,0,n),l:nr(s.left,i.left,0,e)}}function ZT(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,i=Rs(s),o=Math.min(e,n),a=t.borderSkipped,l=r||ae(s);return{topLeft:nr(!l||a.top||a.left,i.topLeft,0,o),topRight:nr(!l||a.top||a.right,i.topRight,0,o),bottomLeft:nr(!l||a.bottom||a.left,i.bottomLeft,0,o),bottomRight:nr(!l||a.bottom||a.right,i.bottomRight,0,o)}}function JT(t){const e=jv(t),n=e.right-e.left,r=e.bottom-e.top,s=QT(t,n/2,r/2),i=ZT(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:i},inner:{x:e.left+s.l,y:e.top+s.t,w:n-s.l-s.r,h:r-s.t-s.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,i.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(s.b,s.r))}}}}function eu(t,e,n,r){const s=e===null,i=n===null,a=t&&!(s&&i)&&jv(t,r);return a&&(s||tr(e,a.left,a.right))&&(i||tr(n,a.top,a.bottom))}function eE(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function tE(t,e){t.rect(e.x,e.y,e.w,e.h)}function tu(t,e,n={}){const r=t.x!==n.x?-e:0,s=t.y!==n.y?-e:0,i=(t.x+t.w!==n.x+n.w?e:0)-r,o=(t.y+t.h!==n.y+n.h?e:0)-s;return{x:t.x+r,y:t.y+s,w:t.w+i,h:t.h+o,radius:t.radius}}class Ja extends tn{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:s}}=this,{inner:i,outer:o}=JT(this),a=eE(o.radius)?Cl:tE;e.save(),(o.w!==i.w||o.h!==i.h)&&(e.beginPath(),a(e,tu(o,n,i)),e.clip(),a(e,tu(i,-n,o)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),a(e,tu(i,n)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,n,r){return eu(this,e,n,r)}inXRange(e,n){return eu(this,e,null,n)}inYRange(e,n){return eu(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:s,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(n+s)/2:n,y:i?r:(r+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}F(Ja,"id","bar"),F(Ja,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),F(Ja,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Op=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},nE=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Np extends tn{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=X(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,s)=>e.sort(r,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,s=nt(r.font),i=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Op(r,i);let c,u;n.font=s.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,i,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,s,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,s){const{ctx:i,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=s+a;let d=e;i.textAlign="left",i.textBaseline="middle";let h=-1,f=-u;return this.legendItems.forEach((p,v)=>{const _=r+n/2+i.measureText(p.text).width;(v===0||c[c.length-1]+_+2*a>o)&&(d+=u,c[c.length-(v>0?0:1)]=0,f+=u,h++),l[v]={left:0,top:f,row:h,width:_,height:s},c[c.length-1]+=_+a}),d}_fitCols(e,n,r,s){const{ctx:i,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let d=a,h=0,f=0,p=0,v=0;return this.legendItems.forEach((_,y)=>{const{itemWidth:m,itemHeight:w}=rE(r,n,i,_,s);y>0&&f+w+2*a>u&&(d+=h+a,c.push({width:h,height:f}),p+=h+a,v++,h=f=0),l[y]={left:p,top:f,col:v,width:m,height:w},h=Math.max(h,m),f+=w+a}),d+=h,c.push({width:h,height:f}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:s},rtl:i}}=this,o=Is(i,this.left,this.width);if(this.isHorizontal()){let a=0,l=Je(r,this.left+s,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=Je(r,this.left+s,this.right-this.lineWidths[a])),c.top+=this.top+e+s,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+s}else{let a=0,l=Je(r,this.top+e+s,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=Je(r,this.top+e+s,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+s,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;jh(e,this),this._draw(),Rh(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:s}=this,{align:i,labels:o}=e,a=Oe.color,l=Is(e.rtl,this.left,this.width),c=nt(o.font),{padding:u}=o,d=c.size,h=d/2;let f;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:p,boxHeight:v,itemHeight:_}=Op(o,d),y=function(E,C,P){if(isNaN(p)||p<=0||isNaN(v)||v<0)return;s.save();const R=Z(P.lineWidth,1);if(s.fillStyle=Z(P.fillStyle,a),s.lineCap=Z(P.lineCap,"butt"),s.lineDashOffset=Z(P.lineDashOffset,0),s.lineJoin=Z(P.lineJoin,"miter"),s.lineWidth=R,s.strokeStyle=Z(P.strokeStyle,a),s.setLineDash(Z(P.lineDash,[])),o.usePointStyle){const B={radius:v*Math.SQRT2/2,pointStyle:P.pointStyle,rotation:P.rotation,borderWidth:R},I=l.xPlus(E,p/2),O=C+h;cv(s,B,I,O,o.pointStyleWidth&&p)}else{const B=C+Math.max((d-v)/2,0),I=l.leftForLtr(E,p),O=Rs(P.borderRadius);s.beginPath(),Object.values(O).some(L=>L!==0)?Cl(s,{x:I,y:B,w:p,h:v,radius:O}):s.rect(I,B,p,v),s.fill(),R!==0&&s.stroke()}s.restore()},m=function(E,C,P){To(s,P.text,E,C+_/2,c,{strikethrough:P.hidden,textAlign:l.textAlign(P.textAlign)})},w=this.isHorizontal(),k=this._computeTitleHeight();w?f={x:Je(i,this.left+u,this.right-r[0]),y:this.top+u+k,line:0}:f={x:this.left+u,y:Je(i,this.top+k+u,this.bottom-n[0].height),line:0},mv(this.ctx,e.textDirection);const S=_+u;this.legendItems.forEach((E,C)=>{s.strokeStyle=E.fontColor,s.fillStyle=E.fontColor;const P=s.measureText(E.text).width,R=l.textAlign(E.textAlign||(E.textAlign=o.textAlign)),B=p+h+P;let I=f.x,O=f.y;l.setWidth(this.width),w?C>0&&I+B+u>this.right&&(O=f.y+=S,f.line++,I=f.x=Je(i,this.left+u,this.right-r[f.line])):C>0&&O+S>this.bottom&&(I=f.x=I+n[f.line].width+u,f.line++,O=f.y=Je(i,this.top+k+u,this.bottom-n[f.line].height));const L=l.x(I);if(y(L,O,E),I=Q1(R,I+p+h,w?I+B:this.right,e.rtl),m(l.x(I),O,E),w)f.x+=B+u;else if(typeof E.text!="string"){const M=c.lineHeight;f.y+=Rv(E,M)+u}else f.y+=S}),yv(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=nt(n.font),s=Wt(n.padding);if(!n.display)return;const i=Is(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=r.size/2,c=s.top+l;let u,d=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+c,d=Je(e.align,d,this.right-h);else{const p=this.columnSizes.reduce((v,_)=>Math.max(v,_.height),0);u=c+Je(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}const f=Je(a,d,d+h);o.textAlign=i.textAlign(Ah(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,To(o,n.text,f,u,r)}_computeTitleHeight(){const e=this.options.title,n=nt(e.font),r=Wt(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,s,i;if(tr(e,this.left,this.right)&&tr(n,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(s=i[r],tr(e,s.left,s.left+s.width)&&tr(n,s.top,s.top+s.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!oE(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,i=nE(s,r);s&&!i&&X(n.onLeave,[e,s,this],this),this._hoveredItem=r,r&&!i&&X(n.onHover,[e,r,this],this)}else r&&X(n.onClick,[e,r,this],this)}}function rE(t,e,n,r,s){const i=sE(r,t,e,n),o=iE(s,r,e.lineHeight);return{itemWidth:i,itemHeight:o}}function sE(t,e,n,r){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((i,o)=>i.length>o.length?i:o)),e+n.size/2+r.measureText(s).width}function iE(t,e,n){let r=t;return typeof e.text!="string"&&(r=Rv(e,n)),r}function Rv(t,e){const n=t.text?t.text.length:0;return e*n}function oE(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Ro={id:"legend",_element:Np,start(t,e,n){const r=t.legend=new Np({ctx:t.ctx,options:n,chart:t});Rt.configure(t,r,n),Rt.addBox(t,r)},stop(t){Rt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;Rt.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,s=n.chart;s.isDatasetVisible(r)?(s.hide(r),e.hidden=!0):(s.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:s,color:i,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=Wt(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:i,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:s||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Iv extends tn{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=Fe(r.text)?r.text.length:1;this._padding=Wt(r.padding);const i=s*nt(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:s,right:i,options:o}=this,a=o.align;let l=0,c,u,d;return this.isHorizontal()?(u=Je(a,r,i),d=n+e,c=i-r):(o.position==="left"?(u=r+e,d=Je(a,s,n),l=fe*-.5):(u=i-e,d=Je(a,n,s),l=fe*.5),c=s-n),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=nt(n.font),i=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(i);To(e,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:c,textAlign:Ah(n.align),textBaseline:"middle",translation:[o,a]})}}function aE(t,e){const n=new Iv({ctx:t.ctx,options:e,chart:t});Rt.configure(t,n,e),Rt.addBox(t,n),t.titleBlock=n}var Io={id:"title",_element:Iv,start(t,e,n){aE(t,n)},stop(t){const e=t.titleBlock;Rt.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;Rt.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ri={average(t){if(!t.length)return!1;let e,n,r=new Set,s=0,i=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),s+=l.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:s/i}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,s=Number.POSITIVE_INFINITY,i,o,a;for(i=0,o=t.length;i<o;++i){const l=t[i].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=id(e,c);u<s&&(s=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function ln(t,e){return e&&(Fe(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function _n(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function lE(t,e){const{element:n,datasetIndex:r,index:s}=e,i=t.getDatasetMeta(r).controller,{label:o,value:a}=i.getLabelAndValue(s);return{chart:t,label:o,parsed:i.getParsed(s),raw:t.data.datasets[r].data[s],formattedValue:a,dataset:i.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function jp(t,e){const n=t.chart.ctx,{body:r,footer:s,title:i}=t,{boxWidth:o,boxHeight:a}=e,l=nt(e.bodyFont),c=nt(e.titleFont),u=nt(e.footerFont),d=i.length,h=s.length,f=r.length,p=Wt(e.padding);let v=p.height,_=0,y=r.reduce((k,S)=>k+S.before.length+S.lines.length+S.after.length,0);if(y+=t.beforeBody.length+t.afterBody.length,d&&(v+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),y){const k=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;v+=f*k+(y-f)*l.lineHeight+(y-1)*e.bodySpacing}h&&(v+=e.footerMarginTop+h*u.lineHeight+(h-1)*e.footerSpacing);let m=0;const w=function(k){_=Math.max(_,n.measureText(k).width+m)};return n.save(),n.font=c.string,ne(t.title,w),n.font=l.string,ne(t.beforeBody.concat(t.afterBody),w),m=e.displayColors?o+2+e.boxPadding:0,ne(r,k=>{ne(k.before,w),ne(k.lines,w),ne(k.after,w)}),m=0,n.font=u.string,ne(t.footer,w),n.restore(),_+=p.width,{width:_,height:v}}function cE(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function uE(t,e,n,r){const{x:s,width:i}=r,o=n.caretSize+n.caretPadding;if(t==="left"&&s+i+o>e.width||t==="right"&&s-i-o<0)return!0}function dE(t,e,n,r){const{x:s,width:i}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return r==="center"?c=s<=(a+l)/2?"left":"right":s<=i/2?c="left":s>=o-i/2&&(c="right"),uE(c,t,e,n)&&(c="center"),c}function Rp(t,e,n){const r=n.yAlign||e.yAlign||cE(t,n);return{xAlign:n.xAlign||e.xAlign||dE(t,e,n,r),yAlign:r}}function hE(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function fE(t,e,n){let{y:r,height:s}=t;return e==="top"?r+=n:e==="bottom"?r-=s+n:r-=s/2,r}function Ip(t,e,n,r){const{caretSize:s,caretPadding:i,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=s+i,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:f}=Rs(o);let p=hE(e,a);const v=fE(e,l,c);return l==="center"?a==="left"?p+=c:a==="right"&&(p-=c):a==="left"?p-=Math.max(u,h)+s:a==="right"&&(p+=Math.max(d,f)+s),{x:tt(p,0,r.width-e.width),y:tt(v,0,r.height-e.height)}}function Ma(t,e,n){const r=Wt(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function Lp(t){return ln([],_n(t))}function gE(t,e,n){return es(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function zp(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const Lv={beforeTitle:wn,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:wn,beforeBody:wn,beforeLabel:wn,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return ue(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:wn,afterBody:wn,beforeFooter:wn,footer:wn,afterFooter:wn};function dt(t,e,n,r){const s=t[e].call(n,r);return typeof s>"u"?Lv[e].call(n,r):s}class dd extends tn{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,i=new xv(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=gE(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,s=dt(r,"beforeTitle",this,e),i=dt(r,"title",this,e),o=dt(r,"afterTitle",this,e);let a=[];return a=ln(a,_n(s)),a=ln(a,_n(i)),a=ln(a,_n(o)),a}getBeforeBody(e,n){return Lp(dt(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,s=[];return ne(e,i=>{const o={before:[],lines:[],after:[]},a=zp(r,i);ln(o.before,_n(dt(a,"beforeLabel",this,i))),ln(o.lines,dt(a,"label",this,i)),ln(o.after,_n(dt(a,"afterLabel",this,i))),s.push(o)}),s}getAfterBody(e,n){return Lp(dt(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,s=dt(r,"beforeFooter",this,e),i=dt(r,"footer",this,e),o=dt(r,"afterFooter",this,e);let a=[];return a=ln(a,_n(s)),a=ln(a,_n(i)),a=ln(a,_n(o)),a}_createItems(e){const n=this._active,r=this.chart.data,s=[],i=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(lE(this.chart,n[l]));return e.filter&&(a=a.filter((u,d,h)=>e.filter(u,d,h,r))),e.itemSort&&(a=a.sort((u,d)=>e.itemSort(u,d,r))),ne(a,u=>{const d=zp(e.callbacks,u);s.push(dt(d,"labelColor",this,u)),i.push(dt(d,"labelPointStyle",this,u)),o.push(dt(d,"labelTextColor",this,u))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const r=this.options.setContext(this.getContext()),s=this._active;let i,o=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const a=Ri[r.position].call(this,s,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=jp(this,r),c=Object.assign({},a,l),u=Rp(this.chart,r,c),d=Ip(r,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,i={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,s){const i=this.getCaretPosition(e,r,s);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(e,n,r){const{xAlign:s,yAlign:i}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=Rs(a),{x:h,y:f}=e,{width:p,height:v}=n;let _,y,m,w,k,S;return i==="center"?(k=f+v/2,s==="left"?(_=h,y=_-o,w=k+o,S=k-o):(_=h+p,y=_+o,w=k-o,S=k+o),m=_):(s==="left"?y=h+Math.max(l,u)+o:s==="right"?y=h+p-Math.max(c,d)-o:y=this.caretX,i==="top"?(w=f,k=w-o,_=y-o,m=y+o):(w=f+v,k=w+o,_=y+o,m=y-o),S=w),{x1:_,x2:y,x3:m,y1:w,y2:k,y3:S}}drawTitle(e,n,r){const s=this.title,i=s.length;let o,a,l;if(i){const c=Is(r.rtl,this.x,this.width);for(e.x=Ma(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",o=nt(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<i;++l)n.fillText(s[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===i&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,n,r,s,i){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=i,u=nt(i.bodyFont),d=Ma(this,"left",i),h=s.x(d),f=l<u.lineHeight?(u.lineHeight-l)/2:0,p=n.y+f;if(i.usePointStyle){const v={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},_=s.leftForLtr(h,c)+c/2,y=p+l/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,ad(e,v,_,y),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,ad(e,v,_,y)}else{e.lineWidth=ae(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const v=s.leftForLtr(h,c),_=s.leftForLtr(s.xPlus(h,1),c-2),y=Rs(o.borderRadius);Object.values(y).some(m=>m!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,Cl(e,{x:v,y:p,w:c,h:l,radius:y}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Cl(e,{x:_,y:p+1,w:c-2,h:l-2,radius:y}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(v,p,c,l),e.strokeRect(v,p,c,l),e.fillStyle=o.backgroundColor,e.fillRect(_,p+1,c-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:s}=this,{bodySpacing:i,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=r,d=nt(r.bodyFont);let h=d.lineHeight,f=0;const p=Is(r.rtl,this.x,this.width),v=function(P){n.fillText(P,p.x(e.x+f),e.y+h/2),e.y+=h+i},_=p.textAlign(o);let y,m,w,k,S,E,C;for(n.textAlign=o,n.textBaseline="middle",n.font=d.string,e.x=Ma(this,_,r),n.fillStyle=r.bodyColor,ne(this.beforeBody,v),f=a&&_!=="right"?o==="center"?c/2+u:c+2+u:0,k=0,E=s.length;k<E;++k){for(y=s[k],m=this.labelTextColors[k],n.fillStyle=m,ne(y.before,v),w=y.lines,a&&w.length&&(this._drawColorBox(n,e,k,p,r),h=Math.max(d.lineHeight,l)),S=0,C=w.length;S<C;++S)v(w[S]),h=d.lineHeight;ne(y.after,v)}f=0,h=d.lineHeight,ne(this.afterBody,v),e.y-=i}drawFooter(e,n,r){const s=this.footer,i=s.length;let o,a;if(i){const l=Is(r.rtl,this.x,this.width);for(e.x=Ma(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=nt(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<i;++a)n.fillText(s[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,n,r,s){const{xAlign:i,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=r,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:p}=Rs(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(a+d,l),o==="top"&&this.drawCaret(e,n,r,s),n.lineTo(a+c-h,l),n.quadraticCurveTo(a+c,l,a+c,l+h),o==="center"&&i==="right"&&this.drawCaret(e,n,r,s),n.lineTo(a+c,l+u-p),n.quadraticCurveTo(a+c,l+u,a+c-p,l+u),o==="bottom"&&this.drawCaret(e,n,r,s),n.lineTo(a+f,l+u),n.quadraticCurveTo(a,l+u,a,l+u-f),o==="center"&&i==="left"&&this.drawCaret(e,n,r,s),n.lineTo(a,l+d),n.quadraticCurveTo(a,l,a+d,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,s=r&&r.x,i=r&&r.y;if(s||i){const o=Ri[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=jp(this,e),l=Object.assign({},o,this._size),c=Rp(n,e,l),u=Ip(e,l,c,n);(s._to!==u.x||i._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=Wt(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(i,e,s,n),mv(e,n.textDirection),i.y+=o.top,this.drawTitle(i,e,n),this.drawBody(i,e,n),this.drawFooter(i,e,n),yv(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,s=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),i=!Tl(r,s),o=this._positionChanged(s,n);(i||o)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],o=this._getActiveElements(e,i,n,r),a=this._positionChanged(o,e),l=n||!Tl(o,i)||a;return l&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,s){const i=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,i.mode,i,r);return i.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:r,caretY:s,options:i}=this,o=Ri[i.position].call(this,e,n);return o!==!1&&(r!==o.x||s!==o.y)}}F(dd,"positioners",Ri);var Lo={id:"tooltip",_element:dd,positioners:Ri,afterInit(t,e,n){n&&(t.tooltip=new dd({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Lv},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const pE=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function mE(t,e,n,r){const s=t.indexOf(e);if(s===-1)return pE(t,e,n,r);const i=t.lastIndexOf(e);return s!==i?n:s}const yE=(t,e)=>t===null?null:tt(Math.round(t),0,e);function Fp(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Xr extends Js{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:s,label:i}of n)r[s]===i&&r.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(ue(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:mE(r,e,Z(n,e),this._addedLabels),yE(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,s=[];let i=this.getLabels();i=e===0&&n===i.length-1?i:i.slice(e,n+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=n;o++)s.push({value:o});return s}getLabelForValue(e){return Fp.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}F(Xr,"id","category"),F(Xr,"defaults",{ticks:{callback:Fp}});function vE(t,e){const n=[],{bounds:s,step:i,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:h}=t,f=i||1,p=u-1,{min:v,max:_}=e,y=!ue(o),m=!ue(a),w=!ue(c),k=(_-v)/(d+1);let S=Bg((_-v)/p/f)*f,E,C,P,R;if(S<1e-14&&!y&&!m)return[{value:v},{value:_}];R=Math.ceil(_/S)-Math.floor(v/S),R>p&&(S=Bg(R*S/p/f)*f),ue(l)||(E=Math.pow(10,l),S=Math.ceil(S*E)/E),s==="ticks"?(C=Math.floor(v/S)*S,P=Math.ceil(_/S)*S):(C=v,P=_),y&&m&&i&&W1((a-o)/i,S/1e3)?(R=Math.round(Math.min((a-o)/S,u)),S=(a-o)/R,C=o,P=a):w?(C=y?o:C,P=m?a:P,R=c-1,S=(P-C)/R):(R=(P-C)/S,$r(R,Math.round(R),S/1e3)?R=Math.round(R):R=Math.ceil(R));const B=Math.max(Wg(S),Wg(C));E=Math.pow(10,ue(l)?B:l),C=Math.round(C*E)/E,P=Math.round(P*E)/E;let I=0;for(y&&(h&&C!==o?(n.push({value:o}),C<o&&I++,$r(Math.round((C+I*S)*E)/E,o,$p(o,k,t))&&I++):C<o&&I++);I<R;++I){const O=Math.round((C+I*S)*E)/E;if(m&&O>a)break;n.push({value:O})}return m&&h&&P!==a?n.length&&$r(n[n.length-1].value,a,$p(a,k,t))?n[n.length-1].value=a:n.push({value:a}):(!m||P===a)&&n.push({value:P}),n}function $p(t,e,{horizontal:n,minRotation:r}){const s=Dn(r),i=(n?Math.sin(s):Math.cos(s))||.001,o=.75*e*(""+t).length;return Math.min(e/i,o)}class xE extends Js{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return ue(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:s,max:i}=this;const o=l=>s=n?s:l,a=l=>i=r?i:l;if(e){const l=Lt(s),c=Lt(i);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(s===i){let l=i===0?1:Math.abs(i*.05);a(i+l),e||o(s-l)}this.min=s,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,s;return r?(s=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const s={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,o=vE(s,i);return e.bounds==="ticks"&&H1(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const s=(r-n)/Math.max(e.length-1,1)/2;n-=s,r+=s}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return Nh(e,this.chart.options.locale,this.options.ticks.format)}}class Qr extends xE{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Bt(e)?e:0,this.max=Bt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=Dn(this.options.ticks.minRotation),s=(e?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}F(Qr,"id","linear"),F(Qr,"defaults",{ticks:{callback:lv.formatters.numeric}});const ec={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},mt=Object.keys(ec);function Bp(t,e){return t-e}function Wp(t,e){if(ue(e))return null;const n=t._adapter,{parser:r,round:s,isoWeekday:i}=t._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),Bt(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(s&&(o=s==="week"&&(ko(i)||i===!0)?n.startOf(o,"isoWeek",i):n.startOf(o,s)),+o)}function Hp(t,e,n,r){const s=mt.length;for(let i=mt.indexOf(t);i<s-1;++i){const o=ec[mt[i]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=r)return mt[i]}return mt[s-1]}function wE(t,e,n,r,s){for(let i=mt.length-1;i>=mt.indexOf(n);i--){const o=mt[i];if(ec[o].common&&t._adapter.diff(s,r,o)>=e-1)return o}return mt[n?mt.indexOf(n):0]}function bE(t){for(let e=mt.indexOf(t)+1,n=mt.length;e<n;++e)if(ec[mt[e]].common)return mt[e]}function Up(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:s}=Dh(n,e),i=n[r]>=e?n[r]:n[s];t[i]=!0}}function _E(t,e,n,r){const s=t._adapter,i=+s.startOf(e[0].value,r),o=e[e.length-1].value;let a,l;for(a=i;a<=o;a=+s.add(a,1,r))l=n[a],l>=0&&(e[l].major=!0);return e}function Vp(t,e,n){const r=[],s={},i=e.length;let o,a;for(o=0;o<i;++o)a=e[o],s[a]=o,r.push({value:a,major:!1});return i===0||!n?r:_E(t,r,s,n)}class Ln extends Js{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),s=this._adapter=new _v._date(e.adapters.date);s.init(n),qi(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Wp(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:s,max:i,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!a&&!isNaN(c.max)&&(i=Math.max(i,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=Bt(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),i=Bt(i)&&!isNaN(i)?i:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,o=this.max,a=G1(s,i,o);return this._unit=n.unit||(r.autoSkip?Hp(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):wE(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:bE(this._unit),this.initOffsets(s),e.reverse&&a.reverse(),Vp(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,s,i;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?r=i:r=(i-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=tt(n,0,o),r=tt(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,s=this.options,i=s.time,o=i.unit||Hp(i.minUnit,n,r,this._getLabelCapacity(n)),a=Z(s.ticks.stepSize,1),l=o==="week"?i.isoWeekday:!1,c=ko(l)||l===!0,u={};let d=n,h,f;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":o),e.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const p=s.ticks.source==="data"&&this.getDataTimestamps();for(h=d,f=0;h<r;h=+e.add(h,a,o),f++)Up(u,h,p);return(h===r||s.bounds==="ticks"||f===1)&&Up(u,h,p),Object.keys(u).sort(Bp).map(v=>+v)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,i=this._unit,o=n||s[i];return this._adapter.format(e,o)}_tickFormatFunction(e,n,r,s){const i=this.options,o=i.ticks.callback;if(o)return X(o,[e,n,r],this);const a=i.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],d=c&&a[c],h=r[n],f=c&&d&&h&&h.major;return this._adapter.format(e,s||(f?d:u))}generateTickLabels(e){let n,r,s;for(n=0,r=e.length;n<r;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,s=Dn(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:r*i+a*o,h:r*o+a*i}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,i=this._tickFormatFunction(e,0,Vp(this,[e],this._majorUnit),s),o=this._getLabelSize(i),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)e.push(Wp(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return iv(e.sort(Bp))}}F(Ln,"id","time"),F(Ln,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Da(t,e,n){let r=0,s=t.length-1,i,o,a,l;n?(e>=t[r].pos&&e<=t[s].pos&&({lo:r,hi:s}=Lr(t,"pos",e)),{pos:i,time:a}=t[r],{pos:o,time:l}=t[s]):(e>=t[r].time&&e<=t[s].time&&({lo:r,hi:s}=Lr(t,"time",e)),{time:i,pos:a}=t[r],{time:o,pos:l}=t[s]);const c=o-i;return c?a+(l-a)*(e-i)/c:a}class Yp extends Ln{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Da(n,this.min),this._tableRange=Da(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,s=[],i=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=r&&s.push(c);if(s.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=s.length;o<a;++o)u=s[o+1],l=s[o-1],c=s[o],Math.round((u+l)/2)!==c&&i.push({time:c,pos:o/(a-1)});return i}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((s,i)=>s-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Da(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return Da(this._table,r*this._tableRange+this._minPos,!0)}}F(Yp,"id","timeseries"),F(Yp,"defaults",Ln.defaults);var zv={exports:{}};/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */(function(t){(function(e,n,r,s){var i=["","webkit","Moz","MS","ms","o"],o=n.createElement("div"),a="function",l=Math.round,c=Math.abs,u=Date.now;function d(x,b,T){return setTimeout(w(x,T),b)}function h(x,b,T){return Array.isArray(x)?(f(x,T[b],T),!0):!1}function f(x,b,T){var j;if(x)if(x.forEach)x.forEach(b,T);else if(x.length!==s)for(j=0;j<x.length;)b.call(T,x[j],j,x),j++;else for(j in x)x.hasOwnProperty(j)&&b.call(T,x[j],j,x)}function p(x,b,T){var j="DEPRECATED METHOD: "+b+`
`+T+` AT 
`;return function(){var W=new Error("get-stack-trace"),q=W&&W.stack?W.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",ee=e.console&&(e.console.warn||e.console.log);return ee&&ee.call(e.console,j,q),x.apply(this,arguments)}}var v;typeof Object.assign!="function"?v=function(b){if(b===s||b===null)throw new TypeError("Cannot convert undefined or null to object");for(var T=Object(b),j=1;j<arguments.length;j++){var W=arguments[j];if(W!==s&&W!==null)for(var q in W)W.hasOwnProperty(q)&&(T[q]=W[q])}return T}:v=Object.assign;var _=p(function(b,T,j){for(var W=Object.keys(T),q=0;q<W.length;)(!j||j&&b[W[q]]===s)&&(b[W[q]]=T[W[q]]),q++;return b},"extend","Use `assign`."),y=p(function(b,T){return _(b,T,!0)},"merge","Use `assign`.");function m(x,b,T){var j=b.prototype,W;W=x.prototype=Object.create(j),W.constructor=x,W._super=j,T&&v(W,T)}function w(x,b){return function(){return x.apply(b,arguments)}}function k(x,b){return typeof x==a?x.apply(b&&b[0]||s,b):x}function S(x,b){return x===s?b:x}function E(x,b,T){f(B(b),function(j){x.addEventListener(j,T,!1)})}function C(x,b,T){f(B(b),function(j){x.removeEventListener(j,T,!1)})}function P(x,b){for(;x;){if(x==b)return!0;x=x.parentNode}return!1}function R(x,b){return x.indexOf(b)>-1}function B(x){return x.trim().split(/\s+/g)}function I(x,b,T){if(x.indexOf&&!T)return x.indexOf(b);for(var j=0;j<x.length;){if(T&&x[j][T]==b||!T&&x[j]===b)return j;j++}return-1}function O(x){return Array.prototype.slice.call(x,0)}function L(x,b,T){for(var j=[],W=[],q=0;q<x.length;){var ee=x[q][b];I(W,ee)<0&&j.push(x[q]),W[q]=ee,q++}return j=j.sort(function(Ye,st){return Ye[b]>st[b]}),j}function M(x,b){for(var T,j,W=b[0].toUpperCase()+b.slice(1),q=0;q<i.length;){if(T=i[q],j=T?T+W:b,j in x)return j;q++}return s}var A=1;function z(){return A++}function N(x){var b=x.ownerDocument||x;return b.defaultView||b.parentWindow||e}var D=/mobile|tablet|ip(ad|hone|od)|android/i,$="ontouchstart"in e,U=M(e,"PointerEvent")!==s,V=$&&D.test(navigator.userAgent),K="touch",de="pen",se="mouse",We="kinect",be=25,ce=1,bt=2,xe=4,ut=8,Uo=1,ri=2,si=4,ii=8,oi=16,nn=ri|si,br=ii|oi,rf=nn|br,sf=["x","y"],Vo=["clientX","clientY"];function Ct(x,b){var T=this;this.manager=x,this.callback=b,this.element=x.element,this.target=x.options.inputTarget,this.domHandler=function(j){k(x.options.enable,[x])&&T.handler(j)},this.init()}Ct.prototype={handler:function(){},init:function(){this.evEl&&E(this.element,this.evEl,this.domHandler),this.evTarget&&E(this.target,this.evTarget,this.domHandler),this.evWin&&E(N(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&C(this.element,this.evEl,this.domHandler),this.evTarget&&C(this.target,this.evTarget,this.domHandler),this.evWin&&C(N(this.element),this.evWin,this.domHandler)}};function Ux(x){var b,T=x.options.inputClass;return T?b=T:U?b=cc:V?b=Go:$?b=uc:b=qo,new b(x,Vx)}function Vx(x,b,T){var j=T.pointers.length,W=T.changedPointers.length,q=b&ce&&j-W===0,ee=b&(xe|ut)&&j-W===0;T.isFirst=!!q,T.isFinal=!!ee,q&&(x.session={}),T.eventType=b,Yx(x,T),x.emit("hammer.input",T),x.recognize(T),x.session.prevInput=T}function Yx(x,b){var T=x.session,j=b.pointers,W=j.length;T.firstInput||(T.firstInput=of(b)),W>1&&!T.firstMultiple?T.firstMultiple=of(b):W===1&&(T.firstMultiple=!1);var q=T.firstInput,ee=T.firstMultiple,He=ee?ee.center:q.center,Ye=b.center=af(j);b.timeStamp=u(),b.deltaTime=b.timeStamp-q.timeStamp,b.angle=lc(He,Ye),b.distance=Yo(He,Ye),qx(T,b),b.offsetDirection=cf(b.deltaX,b.deltaY);var st=lf(b.deltaTime,b.deltaX,b.deltaY);b.overallVelocityX=st.x,b.overallVelocityY=st.y,b.overallVelocity=c(st.x)>c(st.y)?st.x:st.y,b.scale=ee?Xx(ee.pointers,j):1,b.rotation=ee?Kx(ee.pointers,j):0,b.maxPointers=T.prevInput?b.pointers.length>T.prevInput.maxPointers?b.pointers.length:T.prevInput.maxPointers:b.pointers.length,Gx(T,b);var sn=x.element;P(b.srcEvent.target,sn)&&(sn=b.srcEvent.target),b.target=sn}function qx(x,b){var T=b.center,j=x.offsetDelta||{},W=x.prevDelta||{},q=x.prevInput||{};(b.eventType===ce||q.eventType===xe)&&(W=x.prevDelta={x:q.deltaX||0,y:q.deltaY||0},j=x.offsetDelta={x:T.x,y:T.y}),b.deltaX=W.x+(T.x-j.x),b.deltaY=W.y+(T.y-j.y)}function Gx(x,b){var T=x.lastInterval||b,j=b.timeStamp-T.timeStamp,W,q,ee,He;if(b.eventType!=ut&&(j>be||T.velocity===s)){var Ye=b.deltaX-T.deltaX,st=b.deltaY-T.deltaY,sn=lf(j,Ye,st);q=sn.x,ee=sn.y,W=c(sn.x)>c(sn.y)?sn.x:sn.y,He=cf(Ye,st),x.lastInterval=b}else W=T.velocity,q=T.velocityX,ee=T.velocityY,He=T.direction;b.velocity=W,b.velocityX=q,b.velocityY=ee,b.direction=He}function of(x){for(var b=[],T=0;T<x.pointers.length;)b[T]={clientX:l(x.pointers[T].clientX),clientY:l(x.pointers[T].clientY)},T++;return{timeStamp:u(),pointers:b,center:af(b),deltaX:x.deltaX,deltaY:x.deltaY}}function af(x){var b=x.length;if(b===1)return{x:l(x[0].clientX),y:l(x[0].clientY)};for(var T=0,j=0,W=0;W<b;)T+=x[W].clientX,j+=x[W].clientY,W++;return{x:l(T/b),y:l(j/b)}}function lf(x,b,T){return{x:b/x||0,y:T/x||0}}function cf(x,b){return x===b?Uo:c(x)>=c(b)?x<0?ri:si:b<0?ii:oi}function Yo(x,b,T){T||(T=sf);var j=b[T[0]]-x[T[0]],W=b[T[1]]-x[T[1]];return Math.sqrt(j*j+W*W)}function lc(x,b,T){T||(T=sf);var j=b[T[0]]-x[T[0]],W=b[T[1]]-x[T[1]];return Math.atan2(W,j)*180/Math.PI}function Kx(x,b){return lc(b[1],b[0],Vo)+lc(x[1],x[0],Vo)}function Xx(x,b){return Yo(b[0],b[1],Vo)/Yo(x[0],x[1],Vo)}var Qx={mousedown:ce,mousemove:bt,mouseup:xe},Zx="mousedown",Jx="mousemove mouseup";function qo(){this.evEl=Zx,this.evWin=Jx,this.pressed=!1,Ct.apply(this,arguments)}m(qo,Ct,{handler:function(b){var T=Qx[b.type];T&ce&&b.button===0&&(this.pressed=!0),T&bt&&b.which!==1&&(T=xe),this.pressed&&(T&xe&&(this.pressed=!1),this.callback(this.manager,T,{pointers:[b],changedPointers:[b],pointerType:se,srcEvent:b}))}});var ew={pointerdown:ce,pointermove:bt,pointerup:xe,pointercancel:ut,pointerout:ut},tw={2:K,3:de,4:se,5:We},uf="pointerdown",df="pointermove pointerup pointercancel";e.MSPointerEvent&&!e.PointerEvent&&(uf="MSPointerDown",df="MSPointerMove MSPointerUp MSPointerCancel");function cc(){this.evEl=uf,this.evWin=df,Ct.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}m(cc,Ct,{handler:function(b){var T=this.store,j=!1,W=b.type.toLowerCase().replace("ms",""),q=ew[W],ee=tw[b.pointerType]||b.pointerType,He=ee==K,Ye=I(T,b.pointerId,"pointerId");q&ce&&(b.button===0||He)?Ye<0&&(T.push(b),Ye=T.length-1):q&(xe|ut)&&(j=!0),!(Ye<0)&&(T[Ye]=b,this.callback(this.manager,q,{pointers:T,changedPointers:[b],pointerType:ee,srcEvent:b}),j&&T.splice(Ye,1))}});var nw={touchstart:ce,touchmove:bt,touchend:xe,touchcancel:ut},rw="touchstart",sw="touchstart touchmove touchend touchcancel";function hf(){this.evTarget=rw,this.evWin=sw,this.started=!1,Ct.apply(this,arguments)}m(hf,Ct,{handler:function(b){var T=nw[b.type];if(T===ce&&(this.started=!0),!!this.started){var j=iw.call(this,b,T);T&(xe|ut)&&j[0].length-j[1].length===0&&(this.started=!1),this.callback(this.manager,T,{pointers:j[0],changedPointers:j[1],pointerType:K,srcEvent:b})}}});function iw(x,b){var T=O(x.touches),j=O(x.changedTouches);return b&(xe|ut)&&(T=L(T.concat(j),"identifier")),[T,j]}var ow={touchstart:ce,touchmove:bt,touchend:xe,touchcancel:ut},aw="touchstart touchmove touchend touchcancel";function Go(){this.evTarget=aw,this.targetIds={},Ct.apply(this,arguments)}m(Go,Ct,{handler:function(b){var T=ow[b.type],j=lw.call(this,b,T);j&&this.callback(this.manager,T,{pointers:j[0],changedPointers:j[1],pointerType:K,srcEvent:b})}});function lw(x,b){var T=O(x.touches),j=this.targetIds;if(b&(ce|bt)&&T.length===1)return j[T[0].identifier]=!0,[T,T];var W,q,ee=O(x.changedTouches),He=[],Ye=this.target;if(q=T.filter(function(st){return P(st.target,Ye)}),b===ce)for(W=0;W<q.length;)j[q[W].identifier]=!0,W++;for(W=0;W<ee.length;)j[ee[W].identifier]&&He.push(ee[W]),b&(xe|ut)&&delete j[ee[W].identifier],W++;if(He.length)return[L(q.concat(He),"identifier"),He]}var cw=2500,ff=25;function uc(){Ct.apply(this,arguments);var x=w(this.handler,this);this.touch=new Go(this.manager,x),this.mouse=new qo(this.manager,x),this.primaryTouch=null,this.lastTouches=[]}m(uc,Ct,{handler:function(b,T,j){var W=j.pointerType==K,q=j.pointerType==se;if(!(q&&j.sourceCapabilities&&j.sourceCapabilities.firesTouchEvents)){if(W)uw.call(this,T,j);else if(q&&dw.call(this,j))return;this.callback(b,T,j)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function uw(x,b){x&ce?(this.primaryTouch=b.changedPointers[0].identifier,gf.call(this,b)):x&(xe|ut)&&gf.call(this,b)}function gf(x){var b=x.changedPointers[0];if(b.identifier===this.primaryTouch){var T={x:b.clientX,y:b.clientY};this.lastTouches.push(T);var j=this.lastTouches,W=function(){var q=j.indexOf(T);q>-1&&j.splice(q,1)};setTimeout(W,cw)}}function dw(x){for(var b=x.srcEvent.clientX,T=x.srcEvent.clientY,j=0;j<this.lastTouches.length;j++){var W=this.lastTouches[j],q=Math.abs(b-W.x),ee=Math.abs(T-W.y);if(q<=ff&&ee<=ff)return!0}return!1}var pf=M(o.style,"touchAction"),mf=pf!==s,yf="compute",vf="auto",dc="manipulation",_r="none",ai="pan-x",li="pan-y",Ko=fw();function hc(x,b){this.manager=x,this.set(b)}hc.prototype={set:function(x){x==yf&&(x=this.compute()),mf&&this.manager.element.style&&Ko[x]&&(this.manager.element.style[pf]=x),this.actions=x.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var x=[];return f(this.manager.recognizers,function(b){k(b.options.enable,[b])&&(x=x.concat(b.getTouchAction()))}),hw(x.join(" "))},preventDefaults:function(x){var b=x.srcEvent,T=x.offsetDirection;if(this.manager.session.prevented){b.preventDefault();return}var j=this.actions,W=R(j,_r)&&!Ko[_r],q=R(j,li)&&!Ko[li],ee=R(j,ai)&&!Ko[ai];if(W){var He=x.pointers.length===1,Ye=x.distance<2,st=x.deltaTime<250;if(He&&Ye&&st)return}if(!(ee&&q)&&(W||q&&T&nn||ee&&T&br))return this.preventSrc(b)},preventSrc:function(x){this.manager.session.prevented=!0,x.preventDefault()}};function hw(x){if(R(x,_r))return _r;var b=R(x,ai),T=R(x,li);return b&&T?_r:b||T?b?ai:li:R(x,dc)?dc:vf}function fw(){if(!mf)return!1;var x={},b=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(T){x[T]=b?e.CSS.supports("touch-action",T):!0}),x}var Xo=1,Mt=2,is=4,$n=8,vn=$n,ci=16,rn=32;function xn(x){this.options=v({},this.defaults,x||{}),this.id=z(),this.manager=null,this.options.enable=S(this.options.enable,!0),this.state=Xo,this.simultaneous={},this.requireFail=[]}xn.prototype={defaults:{},set:function(x){return v(this.options,x),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(x){if(h(x,"recognizeWith",this))return this;var b=this.simultaneous;return x=Qo(x,this),b[x.id]||(b[x.id]=x,x.recognizeWith(this)),this},dropRecognizeWith:function(x){return h(x,"dropRecognizeWith",this)?this:(x=Qo(x,this),delete this.simultaneous[x.id],this)},requireFailure:function(x){if(h(x,"requireFailure",this))return this;var b=this.requireFail;return x=Qo(x,this),I(b,x)===-1&&(b.push(x),x.requireFailure(this)),this},dropRequireFailure:function(x){if(h(x,"dropRequireFailure",this))return this;x=Qo(x,this);var b=I(this.requireFail,x);return b>-1&&this.requireFail.splice(b,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(x){return!!this.simultaneous[x.id]},emit:function(x){var b=this,T=this.state;function j(W){b.manager.emit(W,x)}T<$n&&j(b.options.event+xf(T)),j(b.options.event),x.additionalEvent&&j(x.additionalEvent),T>=$n&&j(b.options.event+xf(T))},tryEmit:function(x){if(this.canEmit())return this.emit(x);this.state=rn},canEmit:function(){for(var x=0;x<this.requireFail.length;){if(!(this.requireFail[x].state&(rn|Xo)))return!1;x++}return!0},recognize:function(x){var b=v({},x);if(!k(this.options.enable,[this,b])){this.reset(),this.state=rn;return}this.state&(vn|ci|rn)&&(this.state=Xo),this.state=this.process(b),this.state&(Mt|is|$n|ci)&&this.tryEmit(b)},process:function(x){},getTouchAction:function(){},reset:function(){}};function xf(x){return x&ci?"cancel":x&$n?"end":x&is?"move":x&Mt?"start":""}function wf(x){return x==oi?"down":x==ii?"up":x==ri?"left":x==si?"right":""}function Qo(x,b){var T=b.manager;return T?T.get(x):x}function Ut(){xn.apply(this,arguments)}m(Ut,xn,{defaults:{pointers:1},attrTest:function(x){var b=this.options.pointers;return b===0||x.pointers.length===b},process:function(x){var b=this.state,T=x.eventType,j=b&(Mt|is),W=this.attrTest(x);return j&&(T&ut||!W)?b|ci:j||W?T&xe?b|$n:b&Mt?b|is:Mt:rn}});function Zo(){Ut.apply(this,arguments),this.pX=null,this.pY=null}m(Zo,Ut,{defaults:{event:"pan",threshold:10,pointers:1,direction:rf},getTouchAction:function(){var x=this.options.direction,b=[];return x&nn&&b.push(li),x&br&&b.push(ai),b},directionTest:function(x){var b=this.options,T=!0,j=x.distance,W=x.direction,q=x.deltaX,ee=x.deltaY;return W&b.direction||(b.direction&nn?(W=q===0?Uo:q<0?ri:si,T=q!=this.pX,j=Math.abs(x.deltaX)):(W=ee===0?Uo:ee<0?ii:oi,T=ee!=this.pY,j=Math.abs(x.deltaY))),x.direction=W,T&&j>b.threshold&&W&b.direction},attrTest:function(x){return Ut.prototype.attrTest.call(this,x)&&(this.state&Mt||!(this.state&Mt)&&this.directionTest(x))},emit:function(x){this.pX=x.deltaX,this.pY=x.deltaY;var b=wf(x.direction);b&&(x.additionalEvent=this.options.event+b),this._super.emit.call(this,x)}});function fc(){Ut.apply(this,arguments)}m(fc,Ut,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[_r]},attrTest:function(x){return this._super.attrTest.call(this,x)&&(Math.abs(x.scale-1)>this.options.threshold||this.state&Mt)},emit:function(x){if(x.scale!==1){var b=x.scale<1?"in":"out";x.additionalEvent=this.options.event+b}this._super.emit.call(this,x)}});function gc(){xn.apply(this,arguments),this._timer=null,this._input=null}m(gc,xn,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[vf]},process:function(x){var b=this.options,T=x.pointers.length===b.pointers,j=x.distance<b.threshold,W=x.deltaTime>b.time;if(this._input=x,!j||!T||x.eventType&(xe|ut)&&!W)this.reset();else if(x.eventType&ce)this.reset(),this._timer=d(function(){this.state=vn,this.tryEmit()},b.time,this);else if(x.eventType&xe)return vn;return rn},reset:function(){clearTimeout(this._timer)},emit:function(x){this.state===vn&&(x&&x.eventType&xe?this.manager.emit(this.options.event+"up",x):(this._input.timeStamp=u(),this.manager.emit(this.options.event,this._input)))}});function pc(){Ut.apply(this,arguments)}m(pc,Ut,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[_r]},attrTest:function(x){return this._super.attrTest.call(this,x)&&(Math.abs(x.rotation)>this.options.threshold||this.state&Mt)}});function mc(){Ut.apply(this,arguments)}m(mc,Ut,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:nn|br,pointers:1},getTouchAction:function(){return Zo.prototype.getTouchAction.call(this)},attrTest:function(x){var b=this.options.direction,T;return b&(nn|br)?T=x.overallVelocity:b&nn?T=x.overallVelocityX:b&br&&(T=x.overallVelocityY),this._super.attrTest.call(this,x)&&b&x.offsetDirection&&x.distance>this.options.threshold&&x.maxPointers==this.options.pointers&&c(T)>this.options.velocity&&x.eventType&xe},emit:function(x){var b=wf(x.offsetDirection);b&&this.manager.emit(this.options.event+b,x),this.manager.emit(this.options.event,x)}});function Jo(){xn.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}m(Jo,xn,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[dc]},process:function(x){var b=this.options,T=x.pointers.length===b.pointers,j=x.distance<b.threshold,W=x.deltaTime<b.time;if(this.reset(),x.eventType&ce&&this.count===0)return this.failTimeout();if(j&&W&&T){if(x.eventType!=xe)return this.failTimeout();var q=this.pTime?x.timeStamp-this.pTime<b.interval:!0,ee=!this.pCenter||Yo(this.pCenter,x.center)<b.posThreshold;this.pTime=x.timeStamp,this.pCenter=x.center,!ee||!q?this.count=1:this.count+=1,this._input=x;var He=this.count%b.taps;if(He===0)return this.hasRequireFailures()?(this._timer=d(function(){this.state=vn,this.tryEmit()},b.interval,this),Mt):vn}return rn},failTimeout:function(){return this._timer=d(function(){this.state=rn},this.options.interval,this),rn},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==vn&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function Bn(x,b){return b=b||{},b.recognizers=S(b.recognizers,Bn.defaults.preset),new yc(x,b)}Bn.VERSION="2.0.7",Bn.defaults={domEvents:!1,touchAction:yf,enable:!0,inputTarget:null,inputClass:null,preset:[[pc,{enable:!1}],[fc,{enable:!1},["rotate"]],[mc,{direction:nn}],[Zo,{direction:nn},["swipe"]],[Jo],[Jo,{event:"doubletap",taps:2},["tap"]],[gc]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var gw=1,bf=2;function yc(x,b){this.options=v({},Bn.defaults,b||{}),this.options.inputTarget=this.options.inputTarget||x,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=x,this.input=Ux(this),this.touchAction=new hc(this,this.options.touchAction),_f(this,!0),f(this.options.recognizers,function(T){var j=this.add(new T[0](T[1]));T[2]&&j.recognizeWith(T[2]),T[3]&&j.requireFailure(T[3])},this)}yc.prototype={set:function(x){return v(this.options,x),x.touchAction&&this.touchAction.update(),x.inputTarget&&(this.input.destroy(),this.input.target=x.inputTarget,this.input.init()),this},stop:function(x){this.session.stopped=x?bf:gw},recognize:function(x){var b=this.session;if(!b.stopped){this.touchAction.preventDefaults(x);var T,j=this.recognizers,W=b.curRecognizer;(!W||W&&W.state&vn)&&(W=b.curRecognizer=null);for(var q=0;q<j.length;)T=j[q],b.stopped!==bf&&(!W||T==W||T.canRecognizeWith(W))?T.recognize(x):T.reset(),!W&&T.state&(Mt|is|$n)&&(W=b.curRecognizer=T),q++}},get:function(x){if(x instanceof xn)return x;for(var b=this.recognizers,T=0;T<b.length;T++)if(b[T].options.event==x)return b[T];return null},add:function(x){if(h(x,"add",this))return this;var b=this.get(x.options.event);return b&&this.remove(b),this.recognizers.push(x),x.manager=this,this.touchAction.update(),x},remove:function(x){if(h(x,"remove",this))return this;if(x=this.get(x),x){var b=this.recognizers,T=I(b,x);T!==-1&&(b.splice(T,1),this.touchAction.update())}return this},on:function(x,b){if(x!==s&&b!==s){var T=this.handlers;return f(B(x),function(j){T[j]=T[j]||[],T[j].push(b)}),this}},off:function(x,b){if(x!==s){var T=this.handlers;return f(B(x),function(j){b?T[j]&&T[j].splice(I(T[j],b),1):delete T[j]}),this}},emit:function(x,b){this.options.domEvents&&pw(x,b);var T=this.handlers[x]&&this.handlers[x].slice();if(!(!T||!T.length)){b.type=x,b.preventDefault=function(){b.srcEvent.preventDefault()};for(var j=0;j<T.length;)T[j](b),j++}},destroy:function(){this.element&&_f(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function _f(x,b){var T=x.element;if(T.style){var j;f(x.options.cssProps,function(W,q){j=M(T.style,q),b?(x.oldCssProps[j]=T.style[j],T.style[j]=W):T.style[j]=x.oldCssProps[j]||""}),b||(x.oldCssProps={})}}function pw(x,b){var T=n.createEvent("Event");T.initEvent(x,!0,!0),T.gesture=b,b.target.dispatchEvent(T)}v(Bn,{INPUT_START:ce,INPUT_MOVE:bt,INPUT_END:xe,INPUT_CANCEL:ut,STATE_POSSIBLE:Xo,STATE_BEGAN:Mt,STATE_CHANGED:is,STATE_ENDED:$n,STATE_RECOGNIZED:vn,STATE_CANCELLED:ci,STATE_FAILED:rn,DIRECTION_NONE:Uo,DIRECTION_LEFT:ri,DIRECTION_RIGHT:si,DIRECTION_UP:ii,DIRECTION_DOWN:oi,DIRECTION_HORIZONTAL:nn,DIRECTION_VERTICAL:br,DIRECTION_ALL:rf,Manager:yc,Input:Ct,TouchAction:hc,TouchInput:Go,MouseInput:qo,PointerEventInput:cc,TouchMouseInput:uc,SingleTouchInput:hf,Recognizer:xn,AttrRecognizer:Ut,Tap:Jo,Pan:Zo,Swipe:mc,Pinch:fc,Rotate:pc,Press:gc,on:E,off:C,each:f,merge:y,extend:_,assign:v,inherit:m,bindFn:w,prefixed:M});var mw=typeof e<"u"?e:typeof self<"u"?self:{};mw.Hammer=Bn,t.exports?t.exports=Bn:e[r]=Bn})(window,document,"Hammer")})(zv);var kE=zv.exports;const Xi=Nm(kE);/*!
* chartjs-plugin-zoom v2.2.0
* https://www.chartjs.org/chartjs-plugin-zoom/2.2.0/
 * (c) 2016-2024 chartjs-plugin-zoom Contributors
 * Released under the MIT License
 */const Po=t=>t&&t.enabled&&t.modifierKey,Fv=(t,e)=>t&&e[t+"Key"],Hh=(t,e)=>t&&!e[t+"Key"];function mr(t,e,n){return t===void 0?!0:typeof t=="string"?t.indexOf(e)!==-1:typeof t=="function"?t({chart:n}).indexOf(e)!==-1:!1}function nu(t,e){return typeof t=="function"&&(t=t({chart:e})),typeof t=="string"?{x:t.indexOf("x")!==-1,y:t.indexOf("y")!==-1}:{x:!1,y:!1}}function SE(t,e){let n;return function(){return clearTimeout(n),n=setTimeout(t,e),e}}function TE({x:t,y:e},n){const r=n.scales,s=Object.keys(r);for(let i=0;i<s.length;i++){const o=r[s[i]];if(e>=o.top&&e<=o.bottom&&t>=o.left&&t<=o.right)return o}return null}function $v(t,e,n){const{mode:r="xy",scaleMode:s,overScaleMode:i}=t||{},o=TE(e,n),a=nu(r,n),l=nu(s,n);if(i){const u=nu(i,n);for(const d of["x","y"])u[d]&&(l[d]=a[d],a[d]=!1)}if(o&&l[o.axis])return[o];const c=[];return ne(n.scales,function(u){a[u.axis]&&c.push(u)}),c}const hd=new WeakMap;function Te(t){let e=hd.get(t);return e||(e={originalScaleLimits:{},updatedScaleLimits:{},handlers:{},panDelta:{},dragging:!1,panning:!1},hd.set(t,e)),e}function EE(t){hd.delete(t)}function Bv(t,e,n,r){const s=Math.max(0,Math.min(1,(t-e)/n||0)),i=1-s;return{min:r*s,max:r*i}}function Wv(t,e){const n=t.isHorizontal()?e.x:e.y;return t.getValueForPixel(n)}function Hv(t,e,n){const r=t.max-t.min,s=r*(e-1),i=Wv(t,n);return Bv(i,t.min,r,s)}function PE(t,e,n){const r=Wv(t,n);if(r===void 0)return{min:t.min,max:t.max};const s=Math.log10(t.min),i=Math.log10(t.max),o=Math.log10(r),a=i-s,l=a*(e-1),c=Bv(o,s,a,l);return{min:Math.pow(10,s+c.min),max:Math.pow(10,i-c.max)}}function CE(t,e){return e&&(e[t.id]||e[t.axis])||{}}function qp(t,e,n,r,s){let i=n[r];if(i==="original"){const o=t.originalScaleLimits[e.id][r];i=Z(o.options,o.scale)}return Z(i,s)}function ME(t,e,n){const r=t.getValueForPixel(e),s=t.getValueForPixel(n);return{min:Math.min(r,s),max:Math.max(r,s)}}function DE(t,{min:e,max:n,minLimit:r,maxLimit:s},i){const o=(t-n+e)/2;e-=o,n+=o;const a=i.min.options??i.min.scale,l=i.max.options??i.max.scale,c=t/1e6;return $r(e,a,c)&&(e=a),$r(n,l,c)&&(n=l),e<r?(e=r,n=Math.min(r+t,s)):n>s&&(n=s,e=Math.max(s-t,r)),{min:e,max:n}}function ts(t,{min:e,max:n},r,s=!1){const i=Te(t.chart),{options:o}=t,a=CE(t,r),{minRange:l=0}=a,c=qp(i,t,a,"min",-1/0),u=qp(i,t,a,"max",1/0);if(s==="pan"&&(e<c||n>u))return!0;const d=t.max-t.min,h=s?Math.max(n-e,l):d;if(s&&h===l&&d<=l)return!0;const f=DE(h,{min:e,max:n,minLimit:c,maxLimit:u},i.originalScaleLimits[t.id]);return o.min=f.min,o.max=f.max,i.updatedScaleLimits[t.id]=f,t.parse(f.min)!==t.min||t.parse(f.max)!==t.max}function AE(t,e,n,r){const s=Hv(t,e,n),i={min:t.min+s.min,max:t.max-s.max};return ts(t,i,r,!0)}function OE(t,e,n,r){const s=PE(t,e,n);return ts(t,s,r,!0)}function NE(t,e,n,r){ts(t,ME(t,e,n),r,!0)}const Gp=t=>t===0||isNaN(t)?0:t<0?Math.min(Math.round(t),-1):Math.max(Math.round(t),1);function jE(t){const n=t.getLabels().length-1;t.min>0&&(t.min-=1),t.max<n&&(t.max+=1)}function RE(t,e,n,r){const s=Hv(t,e,n);t.min===t.max&&e<1&&jE(t);const i={min:t.min+Gp(s.min),max:t.max-Gp(s.max)};return ts(t,i,r,!0)}function IE(t){return t.isHorizontal()?t.width:t.height}function LE(t,e,n){const s=t.getLabels().length-1;let{min:i,max:o}=t;const a=Math.max(o-i,1),l=Math.round(IE(t)/Math.max(a,10)),c=Math.round(Math.abs(e/l));let u;return e<-l?(o=Math.min(o+c,s),i=a===1?o:o-a,u=o===s):e>l&&(i=Math.max(0,i-c),o=a===1?i:i+a,u=i===0),ts(t,{min:i,max:o},n)||u}const zE={second:500,minute:30*1e3,hour:30*60*1e3,day:12*60*60*1e3,week:3.5*24*60*60*1e3,month:15*24*60*60*1e3,quarter:60*24*60*60*1e3,year:182*24*60*60*1e3};function Uv(t,e,n,r=!1){const{min:s,max:i,options:o}=t,a=o.time&&o.time.round,l=zE[a]||0,c=t.getValueForPixel(t.getPixelForValue(s+l)-e),u=t.getValueForPixel(t.getPixelForValue(i+l)-e);return isNaN(c)||isNaN(u)?!0:ts(t,{min:c,max:u},n,r?"pan":!1)}function Kp(t,e,n){return Uv(t,e,n,!0)}const fd={category:RE,default:AE,logarithmic:OE},gd={default:NE},pd={category:LE,default:Uv,logarithmic:Kp,timeseries:Kp};function FE(t,e,n){const{id:r,options:{min:s,max:i}}=t;if(!e[r]||!n[r])return!0;const o=n[r];return o.min!==s||o.max!==i}function Xp(t,e){ne(t,(n,r)=>{e[r]||delete t[r]})}function ei(t,e){const{scales:n}=t,{originalScaleLimits:r,updatedScaleLimits:s}=e;return ne(n,function(i){FE(i,r,s)&&(r[i.id]={min:{scale:i.min,options:i.options.min},max:{scale:i.max,options:i.options.max}})}),Xp(r,n),Xp(s,n),r}function Qp(t,e,n,r){const s=fd[t.type]||fd.default;X(s,[t,e,n,r])}function Zp(t,e,n,r){const s=gd[t.type]||gd.default;X(s,[t,e,n,r])}function $E(t){const e=t.chartArea;return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}function Uh(t,e,n="none",r="api"){const{x:s=1,y:i=1,focalPoint:o=$E(t)}=typeof e=="number"?{x:e,y:e}:e,a=Te(t),{options:{limits:l,zoom:c}}=a;ei(t,a);const u=s!==1,d=i!==1,h=$v(c,o,t);ne(h||t.scales,function(f){f.isHorizontal()&&u?Qp(f,s,o,l):!f.isHorizontal()&&d&&Qp(f,i,o,l)}),t.update(n),X(c.onZoom,[{chart:t,trigger:r}])}function Vv(t,e,n,r="none",s="api"){const i=Te(t),{options:{limits:o,zoom:a}}=i,{mode:l="xy"}=a;ei(t,i);const c=mr(l,"x",t),u=mr(l,"y",t);ne(t.scales,function(d){d.isHorizontal()&&c?Zp(d,e.x,n.x,o):!d.isHorizontal()&&u&&Zp(d,e.y,n.y,o)}),t.update(r),X(a.onZoom,[{chart:t,trigger:s}])}function BE(t,e,n,r="none",s="api"){var a;const i=Te(t);ei(t,i);const o=t.scales[e];ts(o,n,void 0,!0),t.update(r),X((a=i.options.zoom)==null?void 0:a.onZoom,[{chart:t,trigger:s}])}function WE(t,e="default"){const n=Te(t),r=ei(t,n);ne(t.scales,function(s){const i=s.options;r[s.id]?(i.min=r[s.id].min.options,i.max=r[s.id].max.options):(delete i.min,delete i.max),delete n.updatedScaleLimits[s.id]}),t.update(e),X(n.options.zoom.onZoomComplete,[{chart:t}])}function HE(t,e){const n=t.originalScaleLimits[e];if(!n)return;const{min:r,max:s}=n;return Z(s.options,s.scale)-Z(r.options,r.scale)}function UE(t){const e=Te(t);let n=1,r=1;return ne(t.scales,function(s){const i=HE(e,s.id);if(i){const o=Math.round(i/(s.max-s.min)*100)/100;n=Math.min(n,o),r=Math.max(r,o)}}),n<1?n:r}function Jp(t,e,n,r){const{panDelta:s}=r,i=s[t.id]||0;Lt(i)===Lt(e)&&(e+=i);const o=pd[t.type]||pd.default;X(o,[t,e,n])?s[t.id]=0:s[t.id]=e}function Yv(t,e,n,r="none"){const{x:s=0,y:i=0}=typeof e=="number"?{x:e,y:e}:e,o=Te(t),{options:{pan:a,limits:l}}=o,{onPan:c}=a||{};ei(t,o);const u=s!==0,d=i!==0;ne(n||t.scales,function(h){h.isHorizontal()&&u?Jp(h,s,l,o):!h.isHorizontal()&&d&&Jp(h,i,l,o)}),t.update(r),X(c,[{chart:t}])}function qv(t){const e=Te(t);ei(t,e);const n={};for(const r of Object.keys(t.scales)){const{min:s,max:i}=e.originalScaleLimits[r]||{min:{},max:{}};n[r]={min:s.scale,max:i.scale}}return n}function VE(t){const e=Te(t),n={};for(const r of Object.keys(t.scales))n[r]=e.updatedScaleLimits[r];return n}function YE(t){const e=qv(t);for(const n of Object.keys(t.scales)){const{min:r,max:s}=e[n];if(r!==void 0&&t.scales[n].min!==r||s!==void 0&&t.scales[n].max!==s)return!0}return!1}function em(t){const e=Te(t);return e.panning||e.dragging}const tm=(t,e,n)=>Math.min(n,Math.max(e,t));function gt(t,e){const{handlers:n}=Te(t),r=n[e];r&&r.target&&(r.target.removeEventListener(e,r),delete n[e])}function Qi(t,e,n,r){const{handlers:s,options:i}=Te(t),o=s[n];if(o&&o.target===e)return;gt(t,n),s[n]=l=>r(t,l,i),s[n].target=e;const a=n==="wheel"?!1:void 0;e.addEventListener(n,s[n],{passive:a})}function qE(t,e){const n=Te(t);n.dragStart&&(n.dragging=!0,n.dragEnd=e,t.update("none"))}function GE(t,e){const n=Te(t);!n.dragStart||e.key!=="Escape"||(gt(t,"keydown"),n.dragging=!1,n.dragStart=n.dragEnd=null,t.update("none"))}function md(t,e){if(t.target!==e.canvas){const n=e.canvas.getBoundingClientRect();return{x:t.clientX-n.left,y:t.clientY-n.top}}return ft(t,e)}function Gv(t,e,n){const{onZoomStart:r,onZoomRejected:s}=n;if(r){const i=md(e,t);if(X(r,[{chart:t,event:e,point:i}])===!1)return X(s,[{chart:t,event:e}]),!1}}function KE(t,e){if(t.legend){const i=ft(e,t);if(Us(i,t.legend))return}const n=Te(t),{pan:r,zoom:s={}}=n.options;if(e.button!==0||Fv(Po(r),e)||Hh(Po(s.drag),e))return X(s.onZoomRejected,[{chart:t,event:e}]);Gv(t,e,s)!==!1&&(n.dragStart=e,Qi(t,t.canvas.ownerDocument,"mousemove",qE),Qi(t,window.document,"keydown",GE))}function XE({begin:t,end:e},n){let r=e.x-t.x,s=e.y-t.y;const i=Math.abs(r/s);i>n?r=Math.sign(r)*Math.abs(s*n):i<n&&(s=Math.sign(s)*Math.abs(r/n)),e.x=t.x+r,e.y=t.y+s}function nm(t,e,n,{min:r,max:s,prop:i}){t[r]=tm(Math.min(n.begin[i],n.end[i]),e[r],e[s]),t[s]=tm(Math.max(n.begin[i],n.end[i]),e[r],e[s])}function QE(t,e,n){const r={begin:md(e.dragStart,t),end:md(e.dragEnd,t)};if(n){const s=t.chartArea.width/t.chartArea.height;XE(r,s)}return r}function Kv(t,e,n,r){const s=mr(e,"x",t),i=mr(e,"y",t),{top:o,left:a,right:l,bottom:c,width:u,height:d}=t.chartArea,h={top:o,left:a,right:l,bottom:c},f=QE(t,n,r&&s&&i);s&&nm(h,t.chartArea,f,{min:"left",max:"right",prop:"x"}),i&&nm(h,t.chartArea,f,{min:"top",max:"bottom",prop:"y"});const p=h.right-h.left,v=h.bottom-h.top;return{...h,width:p,height:v,zoomX:s&&p?1+(u-p)/u:1,zoomY:i&&v?1+(d-v)/d:1}}function ZE(t,e){const n=Te(t);if(!n.dragStart)return;gt(t,"mousemove");const{mode:r,onZoomComplete:s,drag:{threshold:i=0,maintainAspectRatio:o}}=n.options.zoom,a=Kv(t,r,{dragStart:n.dragStart,dragEnd:e},o),l=mr(r,"x",t)?a.width:0,c=mr(r,"y",t)?a.height:0,u=Math.sqrt(l*l+c*c);if(n.dragStart=n.dragEnd=null,u<=i){n.dragging=!1,t.update("none");return}Vv(t,{x:a.left,y:a.top},{x:a.right,y:a.bottom},"zoom","drag"),n.dragging=!1,n.filterNextClick=!0,X(s,[{chart:t}])}function JE(t,e,n){if(Hh(Po(n.wheel),e)){X(n.onZoomRejected,[{chart:t,event:e}]);return}if(Gv(t,e,n)!==!1&&(e.cancelable&&e.preventDefault(),e.deltaY!==void 0))return!0}function eP(t,e){const{handlers:{onZoomComplete:n},options:{zoom:r}}=Te(t);if(!JE(t,e,r))return;const s=e.target.getBoundingClientRect(),i=r.wheel.speed,o=e.deltaY>=0?2-1/(1-i):1+i,a={x:o,y:o,focalPoint:{x:e.clientX-s.left,y:e.clientY-s.top}};Uh(t,a,"zoom","wheel"),X(n,[{chart:t}])}function tP(t,e,n,r){n&&(Te(t).handlers[e]=SE(()=>X(n,[{chart:t}]),r))}function nP(t,e){const n=t.canvas,{wheel:r,drag:s,onZoomComplete:i}=e.zoom;r.enabled?(Qi(t,n,"wheel",eP),tP(t,"onZoomComplete",i,250)):gt(t,"wheel"),s.enabled?(Qi(t,n,"mousedown",KE),Qi(t,n.ownerDocument,"mouseup",ZE)):(gt(t,"mousedown"),gt(t,"mousemove"),gt(t,"mouseup"),gt(t,"keydown"))}function rP(t){gt(t,"mousedown"),gt(t,"mousemove"),gt(t,"mouseup"),gt(t,"wheel"),gt(t,"click"),gt(t,"keydown")}function sP(t,e){return function(n,r){const{pan:s,zoom:i={}}=e.options;if(!s||!s.enabled)return!1;const o=r&&r.srcEvent;return o&&!e.panning&&r.pointerType==="mouse"&&(Hh(Po(s),o)||Fv(Po(i.drag),o))?(X(s.onPanRejected,[{chart:t,event:r}]),!1):!0}}function iP(t,e){const n=Math.abs(t.clientX-e.clientX),r=Math.abs(t.clientY-e.clientY),s=n/r;let i,o;return s>.3&&s<1.7?i=o=!0:n>r?i=!0:o=!0,{x:i,y:o}}function Xv(t,e,n){if(e.scale){const{center:r,pointers:s}=n,i=1/e.scale*n.scale,o=n.target.getBoundingClientRect(),a=iP(s[0],s[1]),l=e.options.zoom.mode,c={x:a.x&&mr(l,"x",t)?i:1,y:a.y&&mr(l,"y",t)?i:1,focalPoint:{x:r.x-o.left,y:r.y-o.top}};Uh(t,c,"zoom","pinch"),e.scale=n.scale}}function oP(t,e,n){if(e.options.zoom.pinch.enabled){const r=ft(n,t);X(e.options.zoom.onZoomStart,[{chart:t,event:n,point:r}])===!1?(e.scale=null,X(e.options.zoom.onZoomRejected,[{chart:t,event:n}])):e.scale=1}}function aP(t,e,n){e.scale&&(Xv(t,e,n),e.scale=null,X(e.options.zoom.onZoomComplete,[{chart:t}]))}function Qv(t,e,n){const r=e.delta;r&&(e.panning=!0,Yv(t,{x:n.deltaX-r.x,y:n.deltaY-r.y},e.panScales),e.delta={x:n.deltaX,y:n.deltaY})}function lP(t,e,n){const{enabled:r,onPanStart:s,onPanRejected:i}=e.options.pan;if(!r)return;const o=n.target.getBoundingClientRect(),a={x:n.center.x-o.left,y:n.center.y-o.top};if(X(s,[{chart:t,event:n,point:a}])===!1)return X(i,[{chart:t,event:n}]);e.panScales=$v(e.options.pan,a,t),e.delta={x:0,y:0},Qv(t,e,n)}function cP(t,e){e.delta=null,e.panning&&(e.panning=!1,e.filterNextClick=!0,X(e.options.pan.onPanComplete,[{chart:t}]))}const yd=new WeakMap;function rm(t,e){const n=Te(t),r=t.canvas,{pan:s,zoom:i}=e,o=new Xi.Manager(r);i&&i.pinch.enabled&&(o.add(new Xi.Pinch),o.on("pinchstart",a=>oP(t,n,a)),o.on("pinch",a=>Xv(t,n,a)),o.on("pinchend",a=>aP(t,n,a))),s&&s.enabled&&(o.add(new Xi.Pan({threshold:s.threshold,enable:sP(t,n)})),o.on("panstart",a=>lP(t,n,a)),o.on("panmove",a=>Qv(t,n,a)),o.on("panend",()=>cP(t,n))),yd.set(t,o)}function sm(t){const e=yd.get(t);e&&(e.remove("pinchstart"),e.remove("pinch"),e.remove("pinchend"),e.remove("panstart"),e.remove("pan"),e.remove("panend"),e.destroy(),yd.delete(t))}function uP(t,e){var o,a,l,c;const{pan:n,zoom:r}=t,{pan:s,zoom:i}=e;return((a=(o=r==null?void 0:r.zoom)==null?void 0:o.pinch)==null?void 0:a.enabled)!==((c=(l=i==null?void 0:i.zoom)==null?void 0:l.pinch)==null?void 0:c.enabled)||(n==null?void 0:n.enabled)!==(s==null?void 0:s.enabled)||(n==null?void 0:n.threshold)!==(s==null?void 0:s.threshold)}var dP="2.2.0";function Aa(t,e,n){const r=n.zoom.drag,{dragStart:s,dragEnd:i}=Te(t);if(r.drawTime!==e||!i)return;const{left:o,top:a,width:l,height:c}=Kv(t,n.zoom.mode,{dragStart:s,dragEnd:i},r.maintainAspectRatio),u=t.ctx;u.save(),u.beginPath(),u.fillStyle=r.backgroundColor||"rgba(225,225,225,0.3)",u.fillRect(o,a,l,c),r.borderWidth>0&&(u.lineWidth=r.borderWidth,u.strokeStyle=r.borderColor||"rgba(225,225,225)",u.strokeRect(o,a,l,c)),u.restore()}var tc={id:"zoom",version:dP,defaults:{pan:{enabled:!1,mode:"xy",threshold:10,modifierKey:null},zoom:{wheel:{enabled:!1,speed:.1,modifierKey:null},drag:{enabled:!1,drawTime:"beforeDatasetsDraw",modifierKey:null},pinch:{enabled:!1},mode:"xy"}},start:function(t,e,n){const r=Te(t);r.options=n,Object.prototype.hasOwnProperty.call(n.zoom,"enabled")&&console.warn("The option `zoom.enabled` is no longer supported. Please use `zoom.wheel.enabled`, `zoom.drag.enabled`, or `zoom.pinch.enabled`."),(Object.prototype.hasOwnProperty.call(n.zoom,"overScaleMode")||Object.prototype.hasOwnProperty.call(n.pan,"overScaleMode"))&&console.warn("The option `overScaleMode` is deprecated. Please use `scaleMode` instead (and update `mode` as desired)."),Xi&&rm(t,n),t.pan=(s,i,o)=>Yv(t,s,i,o),t.zoom=(s,i)=>Uh(t,s,i),t.zoomRect=(s,i,o)=>Vv(t,s,i,o),t.zoomScale=(s,i,o)=>BE(t,s,i,o),t.resetZoom=s=>WE(t,s),t.getZoomLevel=()=>UE(t),t.getInitialScaleBounds=()=>qv(t),t.getZoomedScaleBounds=()=>VE(t),t.isZoomedOrPanned=()=>YE(t),t.isZoomingOrPanning=()=>em(t)},beforeEvent(t,{event:e}){if(em(t))return!1;if(e.type==="click"||e.type==="mouseup"){const n=Te(t);if(n.filterNextClick)return n.filterNextClick=!1,!1}},beforeUpdate:function(t,e,n){const r=Te(t),s=r.options;r.options=n,uP(s,n)&&(sm(t),rm(t,n)),nP(t,n)},beforeDatasetsDraw(t,e,n){Aa(t,"beforeDatasetsDraw",n)},afterDatasetsDraw(t,e,n){Aa(t,"afterDatasetsDraw",n)},beforeDraw(t,e,n){Aa(t,"beforeDraw",n)},afterDraw(t,e,n){Aa(t,"afterDraw",n)},stop:function(t){rP(t),Xi&&sm(t),EE(t)},panFunctions:pd,zoomFunctions:fd,zoomRectFunctions:gd};const Zv=6048e5,hP=864e5,zo=6e4,Fo=36e5,fP=1e3,im=Symbol.for("constructDateFrom");function Me(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&im in t?t[im](e):t instanceof Date?new t.constructor(e):new Date(e)}function Q(t,e){return Me(e||t,t)}function nc(t,e,n){const r=Q(t,n==null?void 0:n.in);return isNaN(e)?Me((n==null?void 0:n.in)||t,NaN):(e&&r.setDate(r.getDate()+e),r)}function Vh(t,e,n){const r=Q(t,n==null?void 0:n.in);if(isNaN(e))return Me(t,NaN);if(!e)return r;const s=r.getDate(),i=Me(t,r.getTime());i.setMonth(r.getMonth()+e+1,0);const o=i.getDate();return s>=o?i:(r.setFullYear(i.getFullYear(),i.getMonth(),s),r)}function Yh(t,e,n){return Me(t,+Q(t)+e)}function gP(t,e,n){return Yh(t,e*Fo)}let pP={};function ns(){return pP}function yn(t,e){var a,l,c,u;const n=ns(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,s=Q(t,e==null?void 0:e.in),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function qs(t,e){return yn(t,{...e,weekStartsOn:1})}function Jv(t,e){const n=Q(t,e==null?void 0:e.in),r=n.getFullYear(),s=Me(n,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const i=qs(s),o=Me(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=qs(o);return n.getTime()>=i.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function Ol(t){const e=Q(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function rs(t,...e){const n=Me.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function vd(t,e){const n=Q(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function ex(t,e,n){const[r,s]=rs(n==null?void 0:n.in,t,e),i=vd(r),o=vd(s),a=+i-Ol(i),l=+o-Ol(o);return Math.round((a-l)/hP)}function mP(t,e){const n=Jv(t,e),r=Me(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),qs(r)}function yP(t,e,n){const r=Q(t,n==null?void 0:n.in);return r.setTime(r.getTime()+e*zo),r}function vP(t,e,n){return Vh(t,e*3,n)}function xP(t,e,n){return Yh(t,e*1e3)}function wP(t,e,n){return nc(t,e*7,n)}function bP(t,e,n){return Vh(t,e*12,n)}function Zi(t,e){const n=+Q(t)-+Q(e);return n<0?-1:n>0?1:n}function _P(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function tx(t){return!(!_P(t)&&typeof t!="number"||isNaN(+Q(t)))}function kP(t,e,n){const[r,s]=rs(n==null?void 0:n.in,t,e),i=r.getFullYear()-s.getFullYear(),o=r.getMonth()-s.getMonth();return i*12+o}function SP(t,e,n){const[r,s]=rs(n==null?void 0:n.in,t,e);return r.getFullYear()-s.getFullYear()}function nx(t,e,n){const[r,s]=rs(n==null?void 0:n.in,t,e),i=om(r,s),o=Math.abs(ex(r,s));r.setDate(r.getDate()-i*o);const a=+(om(r,s)===-i),l=i*(o-a);return l===0?0:l}function om(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function $o(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function TP(t,e,n){const[r,s]=rs(n==null?void 0:n.in,t,e),i=(+r-+s)/Fo;return $o(n==null?void 0:n.roundingMethod)(i)}function qh(t,e){return+Q(t)-+Q(e)}function EP(t,e,n){const r=qh(t,e)/zo;return $o(n==null?void 0:n.roundingMethod)(r)}function rx(t,e){const n=Q(t,e==null?void 0:e.in);return n.setHours(23,59,59,999),n}function sx(t,e){const n=Q(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function PP(t,e){const n=Q(t,e==null?void 0:e.in);return+rx(n,e)==+sx(n,e)}function ix(t,e,n){const[r,s,i]=rs(n==null?void 0:n.in,t,t,e),o=Zi(s,i),a=Math.abs(kP(s,i));if(a<1)return 0;s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-o*a);let l=Zi(s,i)===-o;PP(r)&&a===1&&Zi(r,i)===1&&(l=!1);const c=o*(a-+l);return c===0?0:c}function CP(t,e,n){const r=ix(t,e,n)/3;return $o(n==null?void 0:n.roundingMethod)(r)}function MP(t,e,n){const r=qh(t,e)/1e3;return $o(n==null?void 0:n.roundingMethod)(r)}function DP(t,e,n){const r=nx(t,e,n)/7;return $o(n==null?void 0:n.roundingMethod)(r)}function AP(t,e,n){const[r,s]=rs(n==null?void 0:n.in,t,e),i=Zi(r,s),o=Math.abs(SP(r,s));r.setFullYear(1584),s.setFullYear(1584);const a=Zi(r,s)===-i,l=i*(o-+a);return l===0?0:l}function OP(t,e){const n=Q(t,e==null?void 0:e.in),r=n.getMonth(),s=r-r%3;return n.setMonth(s,1),n.setHours(0,0,0,0),n}function NP(t,e){const n=Q(t,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function jP(t,e){const n=Q(t,e==null?void 0:e.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function ox(t,e){const n=Q(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function RP(t,e){const n=Q(t,e==null?void 0:e.in);return n.setMinutes(59,59,999),n}function IP(t,e){var a,l;const n=ns(),r=n.weekStartsOn??((l=(a=n.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??0,s=Q(t,e==null?void 0:e.in),i=s.getDay(),o=(i<r?-7:0)+6-(i-r);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function LP(t,e){const n=Q(t,e==null?void 0:e.in);return n.setSeconds(59,999),n}function zP(t,e){const n=Q(t,e==null?void 0:e.in),r=n.getMonth(),s=r-r%3+3;return n.setMonth(s,0),n.setHours(23,59,59,999),n}function FP(t,e){const n=Q(t,e==null?void 0:e.in);return n.setMilliseconds(999),n}const $P={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},BP=(t,e,n)=>{let r;const s=$P[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function ru(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const WP={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},HP={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},UP={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},VP={date:ru({formats:WP,defaultWidth:"full"}),time:ru({formats:HP,defaultWidth:"full"}),dateTime:ru({formats:UP,defaultWidth:"full"})},YP={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},qP=(t,e,n,r)=>YP[t];function ki(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const GP={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},KP={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},XP={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},QP={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ZP={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},JP={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},eC=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},tC={ordinalNumber:eC,era:ki({values:GP,defaultWidth:"wide"}),quarter:ki({values:KP,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ki({values:XP,defaultWidth:"wide"}),day:ki({values:QP,defaultWidth:"wide"}),dayPeriod:ki({values:ZP,defaultWidth:"wide",formattingValues:JP,defaultFormattingWidth:"wide"})};function Si(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?rC(a,d=>d.test(o)):nC(a,d=>d.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(o.length);return{value:c,rest:u}}}function nC(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function rC(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function sC(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const iC=/^(\d+)(th|st|nd|rd)?/i,oC=/\d+/i,aC={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},lC={any:[/^b/i,/^(a|c)/i]},cC={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},uC={any:[/1/i,/2/i,/3/i,/4/i]},dC={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},hC={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},fC={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},gC={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},pC={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},mC={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},yC={ordinalNumber:sC({matchPattern:iC,parsePattern:oC,valueCallback:t=>parseInt(t,10)}),era:Si({matchPatterns:aC,defaultMatchWidth:"wide",parsePatterns:lC,defaultParseWidth:"any"}),quarter:Si({matchPatterns:cC,defaultMatchWidth:"wide",parsePatterns:uC,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Si({matchPatterns:dC,defaultMatchWidth:"wide",parsePatterns:hC,defaultParseWidth:"any"}),day:Si({matchPatterns:fC,defaultMatchWidth:"wide",parsePatterns:gC,defaultParseWidth:"any"}),dayPeriod:Si({matchPatterns:pC,defaultMatchWidth:"any",parsePatterns:mC,defaultParseWidth:"any"})},ax={code:"en-US",formatDistance:BP,formatLong:VP,formatRelative:qP,localize:tC,match:yC,options:{weekStartsOn:0,firstWeekContainsDate:1}};function vC(t,e){const n=Q(t,e==null?void 0:e.in);return ex(n,ox(n))+1}function lx(t,e){const n=Q(t,e==null?void 0:e.in),r=+qs(n)-+mP(n);return Math.round(r/Zv)+1}function Gh(t,e){var u,d,h,f;const n=Q(t,e==null?void 0:e.in),r=n.getFullYear(),s=ns(),i=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??s.firstWeekContainsDate??((f=(h=s.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,o=Me((e==null?void 0:e.in)||t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=yn(o,e),l=Me((e==null?void 0:e.in)||t,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const c=yn(l,e);return+n>=+a?r+1:+n>=+c?r:r-1}function xC(t,e){var a,l,c,u;const n=ns(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,s=Gh(t,e),i=Me((e==null?void 0:e.in)||t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),yn(i,e)}function cx(t,e){const n=Q(t,e==null?void 0:e.in),r=+yn(n,e)-+xC(n,e);return Math.round(r/Zv)+1}function he(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Hn={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return he(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):he(n+1,2)},d(t,e){return he(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return he(t.getHours()%12||12,e.length)},H(t,e){return he(t.getHours(),e.length)},m(t,e){return he(t.getMinutes(),e.length)},s(t,e){return he(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return he(s,e.length)}},cs={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},am={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Hn.y(t,e)},Y:function(t,e,n,r){const s=Gh(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return he(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):he(i,e.length)},R:function(t,e){const n=Jv(t);return he(n,e.length)},u:function(t,e){const n=t.getFullYear();return he(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return he(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return he(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Hn.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return he(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=cx(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):he(s,e.length)},I:function(t,e,n){const r=lx(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):he(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Hn.d(t,e)},D:function(t,e,n){const r=vC(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):he(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return he(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return he(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return he(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=cs.noon:r===0?s=cs.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=cs.evening:r>=12?s=cs.afternoon:r>=4?s=cs.morning:s=cs.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Hn.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Hn.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):he(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):he(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Hn.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Hn.s(t,e)},S:function(t,e){return Hn.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return cm(r);case"XXXX":case"XX":return Ar(r);case"XXXXX":case"XXX":default:return Ar(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return cm(r);case"xxxx":case"xx":return Ar(r);case"xxxxx":case"xxx":default:return Ar(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+lm(r,":");case"OOOO":default:return"GMT"+Ar(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+lm(r,":");case"zzzz":default:return"GMT"+Ar(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return he(r,e.length)},T:function(t,e,n){return he(+t,e.length)}};function lm(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+he(i,2)}function cm(t,e){return t%60===0?(t>0?"-":"+")+he(Math.abs(t)/60,2):Ar(t,e)}function Ar(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=he(Math.trunc(r/60),2),i=he(r%60,2);return n+s+e+i}const um=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},ux=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},wC=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return um(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",um(r,e)).replace("{{time}}",ux(s,e))},xd={p:ux,P:wC},bC=/^D+$/,_C=/^Y+$/,kC=["D","DD","YY","YYYY"];function dx(t){return bC.test(t)}function hx(t){return _C.test(t)}function wd(t,e,n){const r=SC(t,e,n);if(console.warn(r),kC.includes(t))throw new RangeError(r)}function SC(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const TC=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,EC=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,PC=/^'([^]*?)'?$/,CC=/''/g,MC=/[a-zA-Z]/;function DC(t,e,n){var u,d,h,f,p,v,_,y;const r=ns(),s=(n==null?void 0:n.locale)??r.locale??ax,i=(n==null?void 0:n.firstWeekContainsDate)??((d=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(h=r.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((v=(p=n==null?void 0:n.locale)==null?void 0:p.options)==null?void 0:v.weekStartsOn)??r.weekStartsOn??((y=(_=r.locale)==null?void 0:_.options)==null?void 0:y.weekStartsOn)??0,a=Q(t,n==null?void 0:n.in);if(!tx(a))throw new RangeError("Invalid time value");let l=e.match(EC).map(m=>{const w=m[0];if(w==="p"||w==="P"){const k=xd[w];return k(m,s.formatLong)}return m}).join("").match(TC).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const w=m[0];if(w==="'")return{isToken:!1,value:AC(m)};if(am[w])return{isToken:!0,value:m};if(w.match(MC))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:m}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const c={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return l.map(m=>{if(!m.isToken)return m.value;const w=m.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&hx(w)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&dx(w))&&wd(w,e,String(t));const k=am[w[0]];return k(a,w,s.localize,c)}).join("")}function AC(t){const e=t.match(PC);return e?e[1].replace(CC,"'"):t}function OC(){return Object.assign({},ns())}function NC(t,e){const n=Q(t,e==null?void 0:e.in).getDay();return n===0?7:n}function jC(t,e){const n=RC(e)?new e(0):Me(e,0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}function RC(t){var e;return typeof t=="function"&&((e=t.prototype)==null?void 0:e.constructor)===t}const IC=10;class fx{constructor(){F(this,"subPriority",0)}validate(e,n){return!0}}class LC extends fx{constructor(e,n,r,s,i){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=s,i&&(this.subPriority=i)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}class zC extends fx{constructor(n,r){super();F(this,"priority",IC);F(this,"subPriority",-1);this.context=n||(s=>Me(r,s))}set(n,r){return r.timestampIsSet?n:Me(n,jC(n,this.context))}}class le{run(e,n,r,s){const i=this.parse(e,n,r,s);return i?{setter:new LC(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(e,n,r){return!0}}class FC extends le{constructor(){super(...arguments);F(this,"priority",140);F(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,s){switch(r){case"G":case"GG":case"GGG":return s.era(n,{width:"abbreviated"})||s.era(n,{width:"narrow"});case"GGGGG":return s.era(n,{width:"narrow"});case"GGGG":default:return s.era(n,{width:"wide"})||s.era(n,{width:"abbreviated"})||s.era(n,{width:"narrow"})}}set(n,r,s){return r.era=s,n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}}const Ne={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},fn={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function je(t,e){return t&&{value:e(t.value),rest:t.rest}}function ke(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function gn(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,s=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(s*Fo+i*zo+o*fP),rest:e.slice(n[0].length)}}function gx(t){return ke(Ne.anyDigitsSigned,t)}function De(t,e){switch(t){case 1:return ke(Ne.singleDigit,e);case 2:return ke(Ne.twoDigits,e);case 3:return ke(Ne.threeDigits,e);case 4:return ke(Ne.fourDigits,e);default:return ke(new RegExp("^\\d{1,"+t+"}"),e)}}function Nl(t,e){switch(t){case 1:return ke(Ne.singleDigitSigned,e);case 2:return ke(Ne.twoDigitsSigned,e);case 3:return ke(Ne.threeDigitsSigned,e);case 4:return ke(Ne.fourDigitsSigned,e);default:return ke(new RegExp("^-?\\d{1,"+t+"}"),e)}}function Kh(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function px(t,e){const n=e>0,r=n?e:1-e;let s;if(r<=50)s=t||100;else{const i=r+50,o=Math.trunc(i/100)*100,a=t>=i%100;s=t+o-(a?100:0)}return n?s:1-s}function mx(t){return t%400===0||t%4===0&&t%100!==0}class $C extends le{constructor(){super(...arguments);F(this,"priority",130);F(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,s){const i=o=>({year:o,isTwoDigitYear:r==="yy"});switch(r){case"y":return je(De(4,n),i);case"yo":return je(s.ordinalNumber(n,{unit:"year"}),i);default:return je(De(r.length,n),i)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,s){const i=n.getFullYear();if(s.isTwoDigitYear){const a=px(s.year,i);return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}const o=!("era"in r)||r.era===1?s.year:1-s.year;return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}}class BC extends le{constructor(){super(...arguments);F(this,"priority",130);F(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,s){const i=o=>({year:o,isTwoDigitYear:r==="YY"});switch(r){case"Y":return je(De(4,n),i);case"Yo":return je(s.ordinalNumber(n,{unit:"year"}),i);default:return je(De(r.length,n),i)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,s,i){const o=Gh(n,i);if(s.isTwoDigitYear){const l=px(s.year,o);return n.setFullYear(l,0,i.firstWeekContainsDate),n.setHours(0,0,0,0),yn(n,i)}const a=!("era"in r)||r.era===1?s.year:1-s.year;return n.setFullYear(a,0,i.firstWeekContainsDate),n.setHours(0,0,0,0),yn(n,i)}}class WC extends le{constructor(){super(...arguments);F(this,"priority",130);F(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return Nl(r==="R"?4:r.length,n)}set(n,r,s){const i=Me(n,0);return i.setFullYear(s,0,4),i.setHours(0,0,0,0),qs(i)}}class HC extends le{constructor(){super(...arguments);F(this,"priority",130);F(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return Nl(r==="u"?4:r.length,n)}set(n,r,s){return n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}}class UC extends le{constructor(){super(...arguments);F(this,"priority",120);F(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"Q":case"QQ":return De(r.length,n);case"Qo":return s.ordinalNumber(n,{unit:"quarter"});case"QQQ":return s.quarter(n,{width:"abbreviated",context:"formatting"})||s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(n,{width:"wide",context:"formatting"})||s.quarter(n,{width:"abbreviated",context:"formatting"})||s.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,s){return n.setMonth((s-1)*3,1),n.setHours(0,0,0,0),n}}class VC extends le{constructor(){super(...arguments);F(this,"priority",120);F(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"q":case"qq":return De(r.length,n);case"qo":return s.ordinalNumber(n,{unit:"quarter"});case"qqq":return s.quarter(n,{width:"abbreviated",context:"standalone"})||s.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(n,{width:"wide",context:"standalone"})||s.quarter(n,{width:"abbreviated",context:"standalone"})||s.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,s){return n.setMonth((s-1)*3,1),n.setHours(0,0,0,0),n}}class YC extends le{constructor(){super(...arguments);F(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);F(this,"priority",110)}parse(n,r,s){const i=o=>o-1;switch(r){case"M":return je(ke(Ne.month,n),i);case"MM":return je(De(2,n),i);case"Mo":return je(s.ordinalNumber(n,{unit:"month"}),i);case"MMM":return s.month(n,{width:"abbreviated",context:"formatting"})||s.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(n,{width:"wide",context:"formatting"})||s.month(n,{width:"abbreviated",context:"formatting"})||s.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,s){return n.setMonth(s,1),n.setHours(0,0,0,0),n}}class qC extends le{constructor(){super(...arguments);F(this,"priority",110);F(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,s){const i=o=>o-1;switch(r){case"L":return je(ke(Ne.month,n),i);case"LL":return je(De(2,n),i);case"Lo":return je(s.ordinalNumber(n,{unit:"month"}),i);case"LLL":return s.month(n,{width:"abbreviated",context:"standalone"})||s.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(n,{width:"wide",context:"standalone"})||s.month(n,{width:"abbreviated",context:"standalone"})||s.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,s){return n.setMonth(s,1),n.setHours(0,0,0,0),n}}function GC(t,e,n){const r=Q(t,n==null?void 0:n.in),s=cx(r,n)-e;return r.setDate(r.getDate()-s*7),Q(r,n==null?void 0:n.in)}class KC extends le{constructor(){super(...arguments);F(this,"priority",100);F(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,s){switch(r){case"w":return ke(Ne.week,n);case"wo":return s.ordinalNumber(n,{unit:"week"});default:return De(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,s,i){return yn(GC(n,s,i),i)}}function XC(t,e,n){const r=Q(t,n==null?void 0:n.in),s=lx(r,n)-e;return r.setDate(r.getDate()-s*7),r}class QC extends le{constructor(){super(...arguments);F(this,"priority",100);F(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,s){switch(r){case"I":return ke(Ne.week,n);case"Io":return s.ordinalNumber(n,{unit:"week"});default:return De(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,s){return qs(XC(n,s))}}const ZC=[31,28,31,30,31,30,31,31,30,31,30,31],JC=[31,29,31,30,31,30,31,31,30,31,30,31];class e2 extends le{constructor(){super(...arguments);F(this,"priority",90);F(this,"subPriority",1);F(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"d":return ke(Ne.date,n);case"do":return s.ordinalNumber(n,{unit:"date"});default:return De(r.length,n)}}validate(n,r){const s=n.getFullYear(),i=mx(s),o=n.getMonth();return i?r>=1&&r<=JC[o]:r>=1&&r<=ZC[o]}set(n,r,s){return n.setDate(s),n.setHours(0,0,0,0),n}}class t2 extends le{constructor(){super(...arguments);F(this,"priority",90);F(this,"subpriority",1);F(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,s){switch(r){case"D":case"DD":return ke(Ne.dayOfYear,n);case"Do":return s.ordinalNumber(n,{unit:"date"});default:return De(r.length,n)}}validate(n,r){const s=n.getFullYear();return mx(s)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,s){return n.setMonth(0,s),n.setHours(0,0,0,0),n}}function Xh(t,e,n){var d,h,f,p;const r=ns(),s=(n==null?void 0:n.weekStartsOn)??((h=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??r.weekStartsOn??((p=(f=r.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,i=Q(t,n==null?void 0:n.in),o=i.getDay(),l=(e%7+7)%7,c=7-s,u=e<0||e>6?e-(o+c)%7:(l+c)%7-(o+c)%7;return nc(i,u,n)}class n2 extends le{constructor(){super(...arguments);F(this,"priority",90);F(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"E":case"EE":case"EEE":return s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,s,i){return n=Xh(n,s,i),n.setHours(0,0,0,0),n}}class r2 extends le{constructor(){super(...arguments);F(this,"priority",90);F(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,s,i){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+i.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return je(De(r.length,n),o);case"eo":return je(s.ordinalNumber(n,{unit:"day"}),o);case"eee":return s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"eeeee":return s.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,s,i){return n=Xh(n,s,i),n.setHours(0,0,0,0),n}}class s2 extends le{constructor(){super(...arguments);F(this,"priority",90);F(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,s,i){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+i.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return je(De(r.length,n),o);case"co":return je(s.ordinalNumber(n,{unit:"day"}),o);case"ccc":return s.day(n,{width:"abbreviated",context:"standalone"})||s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"});case"ccccc":return s.day(n,{width:"narrow",context:"standalone"});case"cccccc":return s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(n,{width:"wide",context:"standalone"})||s.day(n,{width:"abbreviated",context:"standalone"})||s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,s,i){return n=Xh(n,s,i),n.setHours(0,0,0,0),n}}function i2(t,e,n){const r=Q(t,n==null?void 0:n.in),s=NC(r,n),i=e-s;return nc(r,i,n)}class o2 extends le{constructor(){super(...arguments);F(this,"priority",90);F(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,s){const i=o=>o===0?7:o;switch(r){case"i":case"ii":return De(r.length,n);case"io":return s.ordinalNumber(n,{unit:"day"});case"iii":return je(s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),i);case"iiiii":return je(s.day(n,{width:"narrow",context:"formatting"}),i);case"iiiiii":return je(s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),i);case"iiii":default:return je(s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),i)}}validate(n,r){return r>=1&&r<=7}set(n,r,s){return n=i2(n,s),n.setHours(0,0,0,0),n}}class a2 extends le{constructor(){super(...arguments);F(this,"priority",80);F(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,s){switch(r){case"a":case"aa":case"aaa":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,s){return n.setHours(Kh(s),0,0,0),n}}class l2 extends le{constructor(){super(...arguments);F(this,"priority",80);F(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,s){switch(r){case"b":case"bb":case"bbb":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,s){return n.setHours(Kh(s),0,0,0),n}}class c2 extends le{constructor(){super(...arguments);F(this,"priority",80);F(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,s){switch(r){case"B":case"BB":case"BBB":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,s){return n.setHours(Kh(s),0,0,0),n}}class u2 extends le{constructor(){super(...arguments);F(this,"priority",70);F(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,s){switch(r){case"h":return ke(Ne.hour12h,n);case"ho":return s.ordinalNumber(n,{unit:"hour"});default:return De(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,s){const i=n.getHours()>=12;return i&&s<12?n.setHours(s+12,0,0,0):!i&&s===12?n.setHours(0,0,0,0):n.setHours(s,0,0,0),n}}class d2 extends le{constructor(){super(...arguments);F(this,"priority",70);F(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,s){switch(r){case"H":return ke(Ne.hour23h,n);case"Ho":return s.ordinalNumber(n,{unit:"hour"});default:return De(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,s){return n.setHours(s,0,0,0),n}}class h2 extends le{constructor(){super(...arguments);F(this,"priority",70);F(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,s){switch(r){case"K":return ke(Ne.hour11h,n);case"Ko":return s.ordinalNumber(n,{unit:"hour"});default:return De(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,s){return n.getHours()>=12&&s<12?n.setHours(s+12,0,0,0):n.setHours(s,0,0,0),n}}class f2 extends le{constructor(){super(...arguments);F(this,"priority",70);F(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,s){switch(r){case"k":return ke(Ne.hour24h,n);case"ko":return s.ordinalNumber(n,{unit:"hour"});default:return De(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,s){const i=s<=24?s%24:s;return n.setHours(i,0,0,0),n}}class g2 extends le{constructor(){super(...arguments);F(this,"priority",60);F(this,"incompatibleTokens",["t","T"])}parse(n,r,s){switch(r){case"m":return ke(Ne.minute,n);case"mo":return s.ordinalNumber(n,{unit:"minute"});default:return De(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,s){return n.setMinutes(s,0,0),n}}class p2 extends le{constructor(){super(...arguments);F(this,"priority",50);F(this,"incompatibleTokens",["t","T"])}parse(n,r,s){switch(r){case"s":return ke(Ne.second,n);case"so":return s.ordinalNumber(n,{unit:"second"});default:return De(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,s){return n.setSeconds(s,0),n}}class m2 extends le{constructor(){super(...arguments);F(this,"priority",30);F(this,"incompatibleTokens",["t","T"])}parse(n,r){const s=i=>Math.trunc(i*Math.pow(10,-r.length+3));return je(De(r.length,n),s)}set(n,r,s){return n.setMilliseconds(s),n}}class y2 extends le{constructor(){super(...arguments);F(this,"priority",10);F(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return gn(fn.basicOptionalMinutes,n);case"XX":return gn(fn.basic,n);case"XXXX":return gn(fn.basicOptionalSeconds,n);case"XXXXX":return gn(fn.extendedOptionalSeconds,n);case"XXX":default:return gn(fn.extended,n)}}set(n,r,s){return r.timestampIsSet?n:Me(n,n.getTime()-Ol(n)-s)}}class v2 extends le{constructor(){super(...arguments);F(this,"priority",10);F(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return gn(fn.basicOptionalMinutes,n);case"xx":return gn(fn.basic,n);case"xxxx":return gn(fn.basicOptionalSeconds,n);case"xxxxx":return gn(fn.extendedOptionalSeconds,n);case"xxx":default:return gn(fn.extended,n)}}set(n,r,s){return r.timestampIsSet?n:Me(n,n.getTime()-Ol(n)-s)}}class x2 extends le{constructor(){super(...arguments);F(this,"priority",40);F(this,"incompatibleTokens","*")}parse(n){return gx(n)}set(n,r,s){return[Me(n,s*1e3),{timestampIsSet:!0}]}}class w2 extends le{constructor(){super(...arguments);F(this,"priority",20);F(this,"incompatibleTokens","*")}parse(n){return gx(n)}set(n,r,s){return[Me(n,s),{timestampIsSet:!0}]}}const b2={G:new FC,y:new $C,Y:new BC,R:new WC,u:new HC,Q:new UC,q:new VC,M:new YC,L:new qC,w:new KC,I:new QC,d:new e2,D:new t2,E:new n2,e:new r2,c:new s2,i:new o2,a:new a2,b:new l2,B:new c2,h:new u2,H:new d2,K:new h2,k:new f2,m:new g2,s:new p2,S:new m2,X:new y2,x:new v2,t:new x2,T:new w2},_2=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,k2=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,S2=/^'([^]*?)'?$/,T2=/''/g,E2=/\S/,P2=/[a-zA-Z]/;function C2(t,e,n,r){var _,y,m,w,k,S,E,C;const s=()=>Me((r==null?void 0:r.in)||n,NaN),i=OC(),o=(r==null?void 0:r.locale)??i.locale??ax,a=(r==null?void 0:r.firstWeekContainsDate)??((y=(_=r==null?void 0:r.locale)==null?void 0:_.options)==null?void 0:y.firstWeekContainsDate)??i.firstWeekContainsDate??((w=(m=i.locale)==null?void 0:m.options)==null?void 0:w.firstWeekContainsDate)??1,l=(r==null?void 0:r.weekStartsOn)??((S=(k=r==null?void 0:r.locale)==null?void 0:k.options)==null?void 0:S.weekStartsOn)??i.weekStartsOn??((C=(E=i.locale)==null?void 0:E.options)==null?void 0:C.weekStartsOn)??0;if(!e)return t?s():Q(n,r==null?void 0:r.in);const c={firstWeekContainsDate:a,weekStartsOn:l,locale:o},u=[new zC(r==null?void 0:r.in,n)],d=e.match(k2).map(P=>{const R=P[0];if(R in xd){const B=xd[R];return B(P,o.formatLong)}return P}).join("").match(_2),h=[];for(let P of d){!(r!=null&&r.useAdditionalWeekYearTokens)&&hx(P)&&wd(P,e,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&dx(P)&&wd(P,e,t);const R=P[0],B=b2[R];if(B){const{incompatibleTokens:I}=B;if(Array.isArray(I)){const L=h.find(M=>I.includes(M.token)||M.token===R);if(L)throw new RangeError(`The format string mustn't contain \`${L.fullToken}\` and \`${P}\` at the same time`)}else if(B.incompatibleTokens==="*"&&h.length>0)throw new RangeError(`The format string mustn't contain \`${P}\` and any other token at the same time`);h.push({token:R,fullToken:P});const O=B.run(t,P,o.match,c);if(!O)return s();u.push(O.setter),t=O.rest}else{if(R.match(P2))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");if(P==="''"?P="'":R==="'"&&(P=M2(P)),t.indexOf(P)===0)t=t.slice(P.length);else return s()}}if(t.length>0&&E2.test(t))return s();const f=u.map(P=>P.priority).sort((P,R)=>R-P).filter((P,R,B)=>B.indexOf(P)===R).map(P=>u.filter(R=>R.priority===P).sort((R,B)=>B.subPriority-R.subPriority)).map(P=>P[0]);let p=Q(n,r==null?void 0:r.in);if(isNaN(+p))return s();const v={};for(const P of f){if(!P.validate(p,c))return s();const R=P.set(p,v,c);Array.isArray(R)?(p=R[0],Object.assign(v,R[1])):p=R}return p}function M2(t){return t.match(S2)[1].replace(T2,"'")}function D2(t,e){const n=Q(t,e==null?void 0:e.in);return n.setMinutes(0,0,0),n}function A2(t,e){const n=Q(t,e==null?void 0:e.in);return n.setSeconds(0,0),n}function O2(t,e){const n=Q(t,e==null?void 0:e.in);return n.setMilliseconds(0),n}function N2(t,e){const n=()=>Me(e==null?void 0:e.in,NaN),r=(e==null?void 0:e.additionalDigits)??2,s=L2(t);let i;if(s.date){const c=z2(s.date,r);i=F2(c.restDateString,c.year)}if(!i||isNaN(+i))return n();const o=+i;let a=0,l;if(s.time&&(a=$2(s.time),isNaN(a)))return n();if(s.timezone){if(l=B2(s.timezone),isNaN(l))return n()}else{const c=new Date(o+a),u=Q(0,e==null?void 0:e.in);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return Q(o+a+l,e==null?void 0:e.in)}const Oa={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},j2=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,R2=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,I2=/^([+-])(\d{2})(?::?(\d{2}))?$/;function L2(t){const e={},n=t.split(Oa.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Oa.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Oa.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const s=Oa.timezone.exec(r);s?(e.time=r.replace(s[1],""),e.timezone=s[1]):e.time=r}return e}function z2(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const s=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?s:i*100,restDateString:t.slice((r[1]||r[2]).length)}}function F2(t,e){if(e===null)return new Date(NaN);const n=t.match(j2);if(!n)return new Date(NaN);const r=!!n[4],s=Ti(n[1]),i=Ti(n[2])-1,o=Ti(n[3]),a=Ti(n[4]),l=Ti(n[5])-1;if(r)return Y2(e,a,l)?W2(e,a,l):new Date(NaN);{const c=new Date(0);return!U2(e,i,o)||!V2(e,s)?new Date(NaN):(c.setUTCFullYear(e,i,Math.max(s,o)),c)}}function Ti(t){return t?parseInt(t):1}function $2(t){const e=t.match(R2);if(!e)return NaN;const n=su(e[1]),r=su(e[2]),s=su(e[3]);return q2(n,r,s)?n*Fo+r*zo+s*1e3:NaN}function su(t){return t&&parseFloat(t.replace(",","."))||0}function B2(t){if(t==="Z")return 0;const e=t.match(I2);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return G2(r,s)?n*(r*Fo+s*zo):NaN}function W2(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const s=r.getUTCDay()||7,i=(e-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}const H2=[31,null,31,30,31,30,31,31,30,31,30,31];function yx(t){return t%400===0||t%4===0&&t%100!==0}function U2(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(H2[e]||(yx(t)?29:28))}function V2(t,e){return e>=1&&e<=(yx(t)?366:365)}function Y2(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function q2(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function G2(t,e){return e>=0&&e<=59}/*!
 * chartjs-adapter-date-fns v3.0.0
 * https://www.chartjs.org
 * (c) 2022 chartjs-adapter-date-fns Contributors
 * Released under the MIT license
 */const K2={datetime:"MMM d, yyyy, h:mm:ss aaaa",millisecond:"h:mm:ss.SSS aaaa",second:"h:mm:ss aaaa",minute:"h:mm aaaa",hour:"ha",day:"MMM d",week:"PP",month:"MMM yyyy",quarter:"qqq - yyyy",year:"yyyy"};_v._date.override({_id:"date-fns",formats:function(){return K2},parse:function(t,e){if(t===null||typeof t>"u")return null;const n=typeof t;return n==="number"||t instanceof Date?t=Q(t):n==="string"&&(typeof e=="string"?t=C2(t,e,new Date,this.options):t=N2(t,this.options)),tx(t)?t.getTime():null},format:function(t,e){return DC(t,e,this.options)},add:function(t,e,n){switch(n){case"millisecond":return Yh(t,e);case"second":return xP(t,e);case"minute":return yP(t,e);case"hour":return gP(t,e);case"day":return nc(t,e);case"week":return wP(t,e);case"month":return Vh(t,e);case"quarter":return vP(t,e);case"year":return bP(t,e);default:return t}},diff:function(t,e,n){switch(n){case"millisecond":return qh(t,e);case"second":return MP(t,e);case"minute":return EP(t,e);case"hour":return TP(t,e);case"day":return nx(t,e);case"week":return DP(t,e);case"month":return ix(t,e);case"quarter":return CP(t,e);case"year":return AP(t,e);default:return 0}},startOf:function(t,e,n){switch(e){case"second":return O2(t);case"minute":return A2(t);case"hour":return D2(t);case"day":return vd(t);case"week":return yn(t);case"isoWeek":return yn(t,{weekStartsOn:+n});case"month":return NP(t);case"quarter":return OP(t);case"year":return ox(t);default:return t}},endOf:function(t,e){switch(e){case"second":return FP(t);case"minute":return LP(t);case"hour":return RP(t);case"day":return rx(t);case"week":return IP(t);case"month":return sx(t);case"quarter":return zP(t);case"year":return jP(t);default:return t}}});const vx="label";function dm(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function X2(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function xx(t,e){t.labels=e}function wx(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:vx;const r=[];t.datasets=e.map(s=>{const i=t.datasets.find(o=>o[n]===s[n]);return!i||!s.data||r.includes(i)?{...s}:(r.push(i),Object.assign(i,s),i)})}function Q2(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vx;const n={labels:[],datasets:[]};return xx(n,t.labels),wx(n,t.datasets,e),n}function Z2(t,e){const{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:i,type:o,data:a,options:l,plugins:c=[],fallbackContent:u,updateMode:d,...h}=t,f=ie.useRef(null),p=ie.useRef(null),v=()=>{f.current&&(p.current=new Ht(f.current,{type:o,data:Q2(a,i),options:l&&{...l},plugins:c}),dm(e,p.current))},_=()=>{dm(e,null),p.current&&(p.current.destroy(),p.current=null)};return ie.useEffect(()=>{!s&&p.current&&l&&X2(p.current,l)},[s,l]),ie.useEffect(()=>{!s&&p.current&&xx(p.current.config.data,a.labels)},[s,a.labels]),ie.useEffect(()=>{!s&&p.current&&a.datasets&&wx(p.current.config.data,a.datasets,i)},[s,a.datasets]),ie.useEffect(()=>{p.current&&(s?(_(),setTimeout(v)):p.current.update(d))},[s,l,a.labels,a.datasets,d]),ie.useEffect(()=>{p.current&&(_(),setTimeout(v))},[o]),ie.useEffect(()=>(v(),()=>_()),[]),Y.createElement("canvas",{ref:f,role:"img",height:n,width:r,...h},u)}const J2=ie.forwardRef(Z2);function Qh(t,e){return Ht.register(e),ie.forwardRef((n,r)=>Y.createElement(J2,{...n,ref:r,type:t}))}const Gs=Qh("line",Xa),hm=Qh("bar",Ka),eM=Qh("doughnut",Oi);Ht.register(Xr,Qr,Ln,hr,An,Io,Lo,Ro,tc);const tM={id:"solarBackground",beforeDraw:t=>{var u;const{ctx:e,chartArea:n,scales:r,options:s}=t;if(!n||!(r!=null&&r.x))return;const i=((u=s==null?void 0:s.plugins)==null?void 0:u.solarBackground)||{},o=i.labels||[],a=i.activity||[];if(!o.length||o.length!==a.length)return;e.save();const l=(d,h)=>{const f=Math.max(n.left,d),p=Math.min(n.right,h);p>f&&(e.fillStyle="rgba(249, 115, 22, 0.15)",e.fillRect(f,n.top,p-f,n.height))};let c=null;for(let d=0;d<o.length;d++){const h=o[d].getTime(),f=r.x.getPixelForValue(h),p=a[d]===1;p&&c===null?c=f:!p&&c!==null&&(l(c,f),c=null)}c!==null&&l(c,n.right),e.restore()}},nM=({data:t})=>{const{t:e}=Fn(),[n,r]=Y.useState(null),[s,i]=Y.useState(null),[o,a]=Y.useState(!1),l=Y.useMemo(()=>t,[t]),c=Y.useMemo(()=>l.map(k=>{const[S,E,C]=k.date.split("."),[P,R]=k.time.split(":");return new Date(parseInt(C),parseInt(E)-1,parseInt(S),parseInt(P),parseInt(R))}),[l]),u=Y.useMemo(()=>l.map(k=>k.solarStatus.includes("Charging")||k.collectorPump==="On"||k.collectorTemp>k.dhwTempTop+5?1:0),[l]),d=Y.useMemo(()=>({id:"markers",afterDraw:k=>{const{ctx:S,chartArea:E,scales:C}=k;if(!(!E||!(C!=null&&C.x))){if(S.save(),n!==null&&n<c.length){const P=c[n].getTime(),R=C.x.getPixelForValue(P);S.strokeStyle="#10B981",S.lineWidth=2,S.setLineDash([5,5]),S.beginPath(),S.moveTo(R,E.top),S.lineTo(R,E.bottom),S.stroke(),S.fillStyle="#10B981",S.font="bold 12px Arial",S.fillText("START",R+5,E.top+15)}if(s!==null&&s<c.length){const P=c[s].getTime(),R=C.x.getPixelForValue(P);S.strokeStyle="#EF4444",S.lineWidth=2,S.setLineDash([5,5]),S.beginPath(),S.moveTo(R,E.top),S.lineTo(R,E.bottom),S.stroke(),S.fillStyle="#EF4444",S.font="bold 12px Arial",S.fillText("END",R+5,E.top+30)}S.restore()}}}),[n,s,c]),h=(k,S,E)=>{if(!o||c.length===0)return;const C=ft(k,E),P=E.scales.x.getValueForPixel(C.x);let R=0,B=Math.abs(c[0].getTime()-P);for(let I=1;I<c.length;I++){const O=Math.abs(c[I].getTime()-P);O<B&&(B=O,R=I)}n===null?r(R):s===null?(i(R),a(!1)):(r(R),i(null))},f=Y.useMemo(()=>{const k=l.length,S=u.filter(C=>C===1).length,E=k>0?(S/k*100).toFixed(1):"0";return{activePoints:S,totalPoints:k,solarEfficiencyPercent:E}},[l.length,u]),p=Y.useMemo(()=>({labels:c,datasets:[{label:e("chart.collectorTempB6"),data:l.map(k=>k.collectorTemp),borderColor:"#EAB308",backgroundColor:"rgba(234, 179, 8, 0.1)",borderWidth:1,tension:.4,pointRadius:0},{label:e("chart.dhwTemp"),data:l.map(k=>k.dhwTempTop),borderColor:"#DC2626",backgroundColor:"rgba(220, 38, 38, 0.1)",borderWidth:1,tension:.4,pointRadius:0},{label:e("chart.b31Temp"),data:l.map(k=>k.sensorTemp),borderColor:"#8B5CF6",backgroundColor:"rgba(139, 92, 246, 0.1)",borderWidth:1,tension:.4,pointRadius:0}]}),[c,l,e]),v=Y.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,onClick:h,interaction:{intersect:!1,mode:"index"},plugins:{legend:{position:"top",labels:{usePointStyle:!0,font:{size:12}}},title:{display:!0,text:e("chart.solarActivity"),font:{size:16,weight:"bold"}},tooltip:{mode:"index",intersect:!1,backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"white",bodyColor:"white",borderColor:"rgba(255, 255, 255, 0.2)",borderWidth:1,callbacks:{afterTitle:k=>{const S=k[0].dataIndex;return u[S]===1?" Solar: Active":" Solar: Inactive"},label:k=>`${k.dataset.label}: ${k.parsed.y.toFixed(1)}C`}},solarBackground:{labels:c,activity:u},zoom:{zoom:{wheel:{enabled:!o},pinch:{enabled:!o},mode:"x"},pan:{enabled:!o,mode:"x"},limits:{x:{min:"original",max:"original"}}}},scales:{x:{type:"time",time:{displayFormats:{hour:"HH:mm",day:"MMM dd"}},grid:{color:"rgba(0, 0, 0, 0.1)"}},y:{grid:{color:"rgba(0, 0, 0, 0.1)"},title:{display:!0,text:e("chart.temperatureAxis")}}}}),[h,o,e,c,u]),_=()=>{const k=Ht.getChart("solar-activity-chart");k&&k.resetZoom()},y=()=>{r(null),i(null),a(!1)},m=()=>{y(),a(!0)},w=Y.useMemo(()=>{if(n===null||s===null)return null;const k=Math.min(n,s),S=Math.max(n,s),E=l.slice(k,S+1),P=u.slice(k,S+1).filter(M=>M===1).length,R=E.length,B=R>0?(P/R*100).toFixed(1):"0",I=E.reduce((M,A)=>M+A.collectorTemp,0)/Math.max(1,E.length),O=E.reduce((M,A)=>M+A.dhwTempTop,0)/Math.max(1,E.length),L=E.reduce((M,A)=>M+A.sensorTemp,0)/Math.max(1,E.length);return{startTime:`${E[0].date} ${E[0].time}`,endTime:`${E[E.length-1].date} ${E[E.length-1].time}`,activePercent:B,duration:`${Math.round((S-k)*5)} minutes`,avgCollectorTemp:I.toFixed(1),avgDhwTemp:O.toFixed(1),avgSensorTemp:L.toFixed(1)}},[n,s,l,u]);return g.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold",children:e("chart.solarActivity")}),g.jsxs("p",{className:"text-sm text-gray-600",children:[e("chart.solarActivePercent"),": ",f.solarEfficiencyPercent,"% (",f.activePoints,"/",f.totalPoints," ",e("chart.dataPoints"),")"]})]}),g.jsxs("div",{className:"flex space-x-2",children:[g.jsx("button",{onClick:m,className:`px-3 py-1 text-sm rounded-md transition-colors ${o?"bg-green-100 text-green-700 border border-green-300":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:e(o?"button.clickToMark":"button.markPeriod")}),g.jsx("button",{onClick:y,className:"px-3 py-1 text-sm bg-red-100 text-red-700 rounded-md hover:bg-red-200 transition-colors",children:e("button.clearMarkers")}),g.jsx("button",{onClick:_,className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors",children:e("button.resetZoom")})]})]}),o&&g.jsx("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:g.jsxs("p",{className:"text-sm text-green-700",children:[" ",e("chart.markingModeActive"),": ",e(n===null?"chart.startMarker":"chart.endMarker")]})}),w&&g.jsxs("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[g.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:e("chart.markedPeriodAnalysis")}),g.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[g.jsxs("div",{children:[g.jsxs("span",{className:"text-blue-600 font-medium",children:[e("chart.start"),":"]}),g.jsx("p",{className:"text-blue-800",children:w.startTime})]}),g.jsxs("div",{children:[g.jsxs("span",{className:"text-blue-600 font-medium",children:[e("chart.end"),":"]}),g.jsx("p",{className:"text-blue-800",children:w.endTime})]}),g.jsxs("div",{children:[g.jsxs("span",{className:"text-blue-600 font-medium",children:[e("chart.duration"),":"]}),g.jsx("p",{className:"text-blue-800",children:w.duration})]}),g.jsxs("div",{children:[g.jsxs("span",{className:"text-blue-600 font-medium",children:[e("chart.solarActive"),":"]}),g.jsxs("p",{className:"text-blue-800 font-semibold",children:[w.activePercent,"%"]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-sm mt-3",children:[g.jsxs("div",{children:[g.jsxs("span",{className:"text-blue-600 font-medium",children:[e("chart.avgCollectorTemp"),":"]}),g.jsxs("p",{className:"text-blue-800",children:[w.avgCollectorTemp,"C"]})]}),g.jsxs("div",{children:[g.jsxs("span",{className:"text-blue-600 font-medium",children:[e("chart.avgDhwTemp"),":"]}),g.jsxs("p",{className:"text-blue-800",children:[w.avgDhwTemp,"C"]})]}),g.jsxs("div",{children:[g.jsxs("span",{className:"text-blue-600 font-medium",children:[e("chart.avgB31Temp"),":"]}),g.jsxs("p",{className:"text-blue-800",children:[w.avgSensorTemp,"C"]})]})]})]}),g.jsx("div",{style:{height:"400px"},children:g.jsx(Gs,{id:"solar-activity-chart",data:p,options:v,plugins:[tM,d]})}),g.jsxs("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[g.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),g.jsx("span",{className:"font-medium",children:e("chart.solarActiveBackground")})]}),g.jsx("p",{className:"text-gray-600 mt-1",children:e("chart.solarActiveBackgroundDesc")})]}),g.jsxs("div",{className:"bg-yellow-50 p-3 rounded-lg",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),g.jsx("span",{className:"font-medium",children:e("chart.collectorTempB6Legend")})]}),g.jsx("p",{className:"text-gray-600 mt-1",children:e("chart.collectorTempB6Desc")})]}),g.jsxs("div",{className:"bg-red-50 p-3 rounded-lg",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("div",{className:"w-3 h-3 bg-red-600 rounded-full"}),g.jsx("span",{className:"font-medium",children:e("chart.dhwTempLegend")})]}),g.jsx("p",{className:"text-gray-600 mt-1",children:e("chart.dhwTempDesc")})]}),g.jsxs("div",{className:"bg-purple-50 p-3 rounded-lg",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("div",{className:"w-3 h-3 bg-purple-600 rounded-full"}),g.jsx("span",{className:"font-medium",children:e("chart.b31TempLegend")})]}),g.jsx("p",{className:"text-gray-600 mt-1",children:e("chart.b31TempDesc")})]})]}),g.jsx("div",{className:"mt-2 text-xs text-gray-500 text-center",children:e("chart.zoomInstructions")})]})};Ht.register(Xr,Qr,Ln,hr,An,Io,Lo,Ro,tc);const rM={id:"solarBackground",beforeDraw:t=>{var u;const{ctx:e,chartArea:n,scales:r,options:s}=t;if(!n||!(r!=null&&r.x))return;const i=((u=s==null?void 0:s.plugins)==null?void 0:u.solarBackground)||{},o=i.labels||[],a=i.activity||[];if(!o.length||o.length!==a.length)return;e.save();let l=null;const c=(d,h)=>{const f=Math.max(n.left,d),p=Math.min(n.right,h);p>f&&(e.fillStyle="rgba(249, 115, 22, 0.20)",e.fillRect(f,n.top,p-f,n.height))};for(let d=0;d<o.length;d++){const h=o[d].getTime(),f=r.x.getPixelForValue(h),p=a[d]===1;p&&l===null?l=f:!p&&l!==null&&(c(l,f),l=null)}l!==null&&c(l,n.right),e.restore()}},sM=({data:t})=>{const{t:e}=Fn(),n=Y.useRef(null),[r,s]=Y.useState(null),[i,o]=Y.useState(null),[a,l]=Y.useState(!1),[,c]=Y.useState(0),u=Y.useCallback(()=>c(M=>M+1),[]),d=Y.useMemo(()=>t,[t]),h=Y.useMemo(()=>d.map(M=>{const[A,z,N]=M.date.split("."),[D,$]=M.time.split(":");return new Date(parseInt(N),parseInt(z)-1,parseInt(A),parseInt(D),parseInt($))}),[d]),f=Y.useMemo(()=>d.map(M=>M.collectorTemp-M.sensorTemp),[d]),p=Y.useMemo(()=>d.map(M=>M.solarStatus.includes("Charging")||M.collectorPump==="On"?1:0),[d]),v=Y.useMemo(()=>d.map((A,z)=>{const N=A.collectorTemp-A.sensorTemp;return!(p[z]===1)||N<=0?0:5.5*4.18*N/60}),[d,p]),_=Y.useMemo(()=>{const M=[];let A=0;const z=1/60;for(let N=0;N<v.length;N++)v[N]>0&&(A+=v[N]*z),M.push(A);return M},[v]),y=Y.useCallback(()=>{if(!n.current||h.length===0){const $=_[_.length-1]||0,U=d.length,V=p.filter(de=>de===1).length,K=U>0?(V/U*100).toFixed(1):"0";return{totalSolarEnergy:$,activePoints:V,totalPoints:U,solarActivePercent:K}}const M=[];h.forEach(($,U)=>{const V=$.getTime();V>=n.current.min&&V<=n.current.max&&M.push(U)});let A=0;if(M.length>0){const $=M[0],U=M[M.length-1],V=$>0?_[$-1]:0;A=_[U]-V}const z=M.filter($=>p[$]===1).length,N=M.length,D=N>0?(z/N*100).toFixed(1):"0";return{totalSolarEnergy:A,activePoints:z,totalPoints:N,solarActivePercent:D}},[h,d.length,p,_]),m=Y.useCallback(()=>{const M=y(),A=document.querySelector("[data-energy-total]");if(A){const $=n.current!==null?" | (Zoomed View)":"";A.innerHTML=`${e("chart.powerCalculationNote")} | <span class="font-semibold text-amber-700">${e("chart.totalSolarEnergy")}: ${M.totalSolarEnergy.toFixed(2)} kWh</span>${$}`}const z=document.querySelector("[data-legend-energy]");z&&(z.textContent=`${M.totalSolarEnergy.toFixed(2)} kWh`);const N=document.querySelector("[data-detailed-stats]");N&&(N.innerHTML=`<span class="font-semibold text-orange-700">${e("chart.solarActive")}: ${M.solarActivePercent}%</span><span class="text-gray-500 ml-2">(${M.activePoints}/${M.totalPoints} ${e("chart.dataPoints")})</span><span class="font-semibold text-amber-700 ml-4">${e("chart.totalSolarEnergy")}: ${M.totalSolarEnergy.toFixed(2)} kWh</span>`)},[y,e]),w=Y.useCallback(M=>{var z,N,D;const A=(z=M.scales)==null?void 0:z.x;if(A){const $=A.min,U=A.max,V=(N=h[0])==null?void 0:N.getTime(),K=(D=h[h.length-1])==null?void 0:D.getTime();$>V||U<K?n.current={min:$,max:U}:n.current=null,m()}},[h,m]);Y.useEffect(()=>{m()},[t,h,_,p,m]);const k=Y.useMemo(()=>({id:"markers",afterDraw:M=>{const{ctx:A,chartArea:z,scales:N}=M;if(!(!z||!(N!=null&&N.x))){if(A.save(),r!==null&&r<h.length){const D=h[r].getTime(),$=N.x.getPixelForValue(D);A.strokeStyle="#10B981",A.lineWidth=2,A.setLineDash([5,5]),A.beginPath(),A.moveTo($,z.top),A.lineTo($,z.bottom),A.stroke(),A.fillStyle="#10B981",A.font="bold 12px Arial",A.fillText("START",$+5,z.top+15)}if(i!==null&&i<h.length){const D=h[i].getTime(),$=N.x.getPixelForValue(D);A.strokeStyle="#EF4444",A.lineWidth=2,A.setLineDash([5,5]),A.beginPath(),A.moveTo($,z.top),A.lineTo($,z.bottom),A.stroke(),A.fillStyle="#EF4444",A.font="bold 12px Arial",A.fillText("END",$+5,z.top+30)}A.restore()}}}),[r,i,h]),S=(M,A,z)=>{if(!a||h.length===0)return;const N=ft(M,z),D=z.scales.x.getValueForPixel(N.x);let $=0,U=Math.abs(h[0].getTime()-D);for(let V=1;V<h.length;V++){const K=Math.abs(h[V].getTime()-D);K<U&&(U=K,$=V)}r===null?s($):i===null?(o($),l(!1)):(s($),o(null))},E=Y.useMemo(()=>({labels:h,datasets:[{label:e("chart.solarPower"),data:v,borderColor:"#F59E0B",backgroundColor:"rgba(245, 158, 11, 0.1)",borderWidth:1,tension:.4,pointRadius:0,yAxisID:"y"},{label:e("chart.tempDiffB6B31"),data:f,borderColor:"#10B981",backgroundColor:"rgba(16, 185, 129, 0.1)",borderWidth:1,tension:.4,pointRadius:0,yAxisID:"y1"}]}),[h,v,f,e]),C=Y.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,onClick:S,interaction:{intersect:!1,mode:"index"},plugins:{legend:{position:"top",labels:{usePointStyle:!0,font:{size:12}}},title:{display:!0,text:e("chart.solarPowerAnalysis"),font:{size:16,weight:"bold"}},tooltip:{mode:"index",intersect:!1,backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"white",bodyColor:"white",borderColor:"rgba(255, 255, 255, 0.2)",borderWidth:1,callbacks:{afterTitle:M=>{const A=M[0].dataIndex;return p[A]===1?" Solar: Active":" Solar: Inactive"}}},solarBackground:{labels:h,activity:p},zoom:{zoom:{wheel:{enabled:!a},pinch:{enabled:!a},mode:"x",onZoomComplete:({chart:M})=>{w(M)}},pan:{enabled:!a,mode:"x",onPanComplete:({chart:M})=>{w(M)}},limits:{x:{min:"original",max:"original"}}}},scales:{x:{type:"time",time:{displayFormats:{hour:"HH:mm",day:"MMM dd"}},grid:{color:"rgba(0, 0, 0, 0.1)"}},y:{type:"linear",display:!0,position:"left",grid:{color:"rgba(0, 0, 0, 0.1)"},title:{display:!0,text:e("chart.solarPowerAxis")}},y1:{type:"linear",display:!0,position:"right",grid:{drawOnChartArea:!1},title:{display:!0,text:e("chart.temperatureDifferenceAxis")}}}}),[S,a,e,h,p,w]),P=()=>{const M=Ht.getChart("energy-chart");M&&(M.resetZoom(),n.current=null,u(),m())},R=()=>{s(null),o(null),l(!1)},B=()=>{R(),l(!0)},O=Y.useCallback(()=>{if(r===null||i===null)return null;const M=Math.min(r,i),A=Math.max(r,i),z=d.slice(M,A+1),N=v.slice(M,A+1),D=p.slice(M,A+1),$=N.reduce((de,se)=>de+se/60,0),U=D.filter(de=>de===1).length,V=z.length,K=V>0?(U/V*100).toFixed(1):"0";return{startTime:`${z[0].date} ${z[0].time}`,endTime:`${z[z.length-1].date} ${z[z.length-1].time}`,totalEnergy:$.toFixed(2),activePercent:K,duration:`${Math.round((A-M)*5)} minutes`}},[r,i,d,v,p])(),L=y();return g.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold",children:e("chart.solarPowerAnalysis")}),g.jsxs("p",{className:"text-sm text-gray-600","data-energy-total":!0,children:[e("chart.powerCalculationNote")," |"," ",g.jsxs("span",{className:"font-semibold text-amber-700",children:[e("chart.totalSolarEnergy"),": ",L.totalSolarEnergy.toFixed(2)," kWh"]})]})]}),g.jsxs("div",{className:"flex space-x-2",children:[g.jsx("button",{onClick:B,className:`px-3 py-1 text-sm rounded-md transition-colors ${a?"bg-green-100 text-green-700 border border-green-300":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:e(a?"button.clickToMark":"button.markPeriod")}),g.jsx("button",{onClick:R,className:"px-3 py-1 text-sm bg-red-100 text-red-700 rounded-md hover:bg-red-200 transition-colors",children:e("button.clearMarkers")}),g.jsx("button",{onClick:P,className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors",children:e("button.resetZoom")})]})]}),a&&g.jsx("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:g.jsxs("p",{className:"text-sm text-green-700",children:[" ",e("chart.markingModeActive"),":"," ",e(r===null?"chart.startMarker":"chart.endMarker")]})}),O&&g.jsxs("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[g.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:e("chart.markedPeriodAnalysis")}),g.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 text-sm",children:[g.jsxs("div",{children:[g.jsxs("span",{className:"text-blue-600 font-medium",children:[e("chart.start"),":"]}),g.jsx("p",{className:"text-blue-800",children:O.startTime})]}),g.jsxs("div",{children:[g.jsxs("span",{className:"text-blue-600 font-medium",children:[e("chart.end"),":"]}),g.jsx("p",{className:"text-blue-800",children:O.endTime})]}),g.jsxs("div",{children:[g.jsxs("span",{className:"text-blue-600 font-medium",children:[e("chart.duration"),":"]}),g.jsx("p",{className:"text-blue-800",children:O.duration})]}),g.jsxs("div",{children:[g.jsxs("span",{className:"text-blue-600 font-medium",children:[e("chart.solarEnergy"),":"]}),g.jsxs("p",{className:"text-blue-800 font-semibold",children:[O.totalEnergy," kWh"]})]}),g.jsxs("div",{children:[g.jsxs("span",{className:"text-blue-600 font-medium",children:[e("chart.solarActive"),":"]}),g.jsxs("p",{className:"text-blue-800",children:[O.activePercent,"%"]})]})]})]}),g.jsx("div",{style:{height:"400px"},children:g.jsx(Gs,{id:"energy-chart",data:E,options:C,plugins:[rM,k]})}),g.jsxs("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 text-sm",children:[g.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),g.jsx("span",{className:"font-medium",children:e("chart.solarActiveBackground")})]}),g.jsx("p",{className:"text-gray-600 mt-1",children:e("chart.solarActiveBackgroundDesc")})]}),g.jsxs("div",{className:"bg-amber-50 p-3 rounded-lg",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("div",{className:"w-3 h-3 bg-amber-500 rounded-full"}),g.jsx("span",{className:"font-medium",children:e("chart.solarPowerLegend")})]}),g.jsx("p",{className:"text-gray-600 mt-1",children:e("chart.solarPowerDesc")}),g.jsxs("p",{className:"font-semibold text-amber-700","data-legend-energy":!0,children:[L.totalSolarEnergy.toFixed(2)," kWh"]})]}),g.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),g.jsx("span",{className:"font-medium",children:e("chart.temperatureDiffLegend")})]}),g.jsx("p",{className:"text-gray-600 mt-1",children:e("chart.temperatureDiffDesc")})]})]}),g.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg text-xs text-gray-600",children:[g.jsxs("div",{className:"mb-2","data-detailed-stats":!0,children:[g.jsxs("span",{className:"font-semibold text-orange-700",children:[e("chart.solarActive"),": ",L.solarActivePercent,"%"]}),g.jsxs("span",{className:"text-gray-500 ml-2",children:["(",L.activePoints,"/",L.totalPoints," ",e("chart.dataPoints"),")"]}),g.jsxs("span",{className:"font-semibold text-amber-700 ml-4",children:[e("chart.totalSolarEnergy"),": ",L.totalSolarEnergy.toFixed(2)," kWh"]})]}),g.jsxs("p",{children:[g.jsxs("strong",{children:[e("chart.note"),":"]})," ",e("chart.solarPowerCalculationNote")]}),g.jsxs("ul",{className:"mt-1 ml-4 list-disc",children:[g.jsx("li",{children:e("chart.solarPowerFormula")}),g.jsx("li",{children:e("chart.energyValuesCumulative")}),g.jsx("li",{children:e("chart.orangeBackgroundNote")}),g.jsxs("li",{children:[g.jsxs("strong",{children:[e("chart.marking"),":"]})," ",e("chart.markingInstructions")]})]})]}),g.jsx("div",{className:"mt-2 text-xs text-gray-500 text-center",children:e("chart.zoomMarkingInstructions")})]})};Ht.register(Xr,Qr,Ln,hr,An,Io,Lo,Ro,tc);const iM={id:"gasBackground",beforeDraw:t=>{var u;const{ctx:e,chartArea:n,scales:r,options:s}=t;if(!n||!(r!=null&&r.x))return;const i=((u=s==null?void 0:s.plugins)==null?void 0:u.gasBackground)||{},o=i.labels||[],a=i.activity||[];if(!o.length||o.length!==a.length)return;e.save();let l=null;const c=(d,h)=>{const f=Math.max(n.left,d),p=Math.min(n.right,h);p>f&&(e.fillStyle="rgba(239, 68, 68, 0.2)",e.fillRect(f,n.top,p-f,n.height))};for(let d=0;d<o.length;d++){const h=o[d].getTime(),f=r.x.getPixelForValue(h),p=a[d]===1;p&&l===null?l=f:!p&&l!==null&&(c(l,f),l=null)}l!==null&&c(l,n.right),e.restore()}},oM=({data:t})=>{const{t:e}=Fn(),[n,r]=Y.useState(null),[s,i]=Y.useState(null),[o,a]=Y.useState(!1),l=Y.useRef(null),c=Y.useMemo(()=>t,[t]),u=Y.useMemo(()=>c.map(I=>{const[O,L,M]=I.date.split("."),[A,z]=I.time.split(":");return new Date(parseInt(M),parseInt(L)-1,parseInt(O),parseInt(A),parseInt(z))}),[c]),d=Y.useMemo(()=>c.map(I=>I.dhwPump==="On"?1:0),[c]),h=Y.useMemo(()=>c.map((I,O)=>{if(d[O]!==1||!I.boilerModulation||I.boilerModulation==="----")return 0;const L=parseFloat(I.boilerModulation.replace("%","").trim()),M=isNaN(L)?0:L;return M<=0?0:10*(M/100)}),[c,d]),f=Y.useMemo(()=>{const I=[];let O=0;const L=1/60;for(let M=0;M<h.length;M++)h[M]>0&&(O+=h[M]*L),I.push(O);return I},[h]),p=Y.useMemo(()=>c.map(I=>{if(!I.boilerModulation||I.boilerModulation==="----")return 0;const O=parseFloat(I.boilerModulation.replace("%","").trim());return isNaN(O)?0:O}),[c]),v=Y.useMemo(()=>({id:"markers",afterDraw:I=>{const{ctx:O,chartArea:L,scales:M}=I;if(!(!L||!(M!=null&&M.x))){if(O.save(),n!==null&&n<u.length){const A=M.x.getPixelForValue(u[n].getTime());O.strokeStyle="#10B981",O.lineWidth=2,O.setLineDash([5,5]),O.beginPath(),O.moveTo(A,L.top),O.lineTo(A,L.bottom),O.stroke(),O.fillStyle="#10B981",O.font="bold 12px Arial",O.fillText("START",A+5,L.top+15)}if(s!==null&&s<u.length){const A=M.x.getPixelForValue(u[s].getTime());O.strokeStyle="#EF4444",O.lineWidth=2,O.setLineDash([5,5]),O.beginPath(),O.moveTo(A,L.top),O.lineTo(A,L.bottom),O.stroke(),O.fillStyle="#EF4444",O.font="bold 12px Arial",O.fillText("END",A+5,L.top+30)}O.restore()}}}),[n,s,u]),_=(I,O,L)=>{if(!o||u.length===0)return;const M=ft(I,L),A=L.scales.x.getValueForPixel(M.x);let z=0,N=Math.abs(u[0].getTime()-A);for(let D=1;D<u.length;D++){const $=Math.abs(u[D].getTime()-A);$<N&&(N=$,z=D)}n===null?r(z):s===null?(i(z),a(!1)):(r(z),i(null))},y=Y.useCallback(I=>{var N,D,$;const O=(N=I.scales)==null?void 0:N.x;if(!O)return;const L=O.min,M=O.max,A=(D=u[0])==null?void 0:D.getTime(),z=($=u[u.length-1])==null?void 0:$.getTime();A==null||z==null?l.current={min:L,max:M}:L>A||M<z?l.current={min:L,max:M}:l.current=null,w()},[u]),m=Y.useCallback(()=>{if(!l.current||u.length===0){const z=f[f.length-1]||0,N=c.length,D=d.filter(U=>U===1).length,$=N>0?(D/N*100).toFixed(1):"0";return{totalGasEnergy:z,activePoints:D,totalPoints:N,gasActivePercent:$}}const I=[];u.forEach((z,N)=>{const D=z.getTime();D>=l.current.min&&D<=l.current.max&&I.push(N)});let O=0;if(I.length>0){const z=I[0],N=I[I.length-1],D=z>0?f[z-1]:0;O=f[N]-D}const L=I.filter(z=>d[z]===1).length,M=I.length,A=M>0?(L/M*100).toFixed(1):"0";return{totalGasEnergy:O,activePoints:L,totalPoints:M,gasActivePercent:A}},[u,f,d,c.length]),w=Y.useCallback(()=>{const I=m(),O=document.querySelector("[data-gas-energy-total]");if(O){const z=l.current!==null?" | (Zoomed View)":"";O.innerHTML=`${e("chart.gasPowerCalculationNote")} | <span class="font-semibold text-red-700">${e("chart.totalGasEnergy")}: ${I.totalGasEnergy.toFixed(2)} kWh</span>${z}`}const L=document.querySelector("[data-gas-legend-energy]");L&&(L.textContent=`${I.totalGasEnergy.toFixed(2)} kWh`);const M=document.querySelector("[data-gas-detailed-stats]");M&&(M.innerHTML=`<span class="font-semibold text-red-700">${e("chart.gasActive")}: ${I.gasActivePercent}%</span><span class="text-gray-500 ml-2">(${I.activePoints}/${I.totalPoints} ${e("chart.dataPoints")})</span><span class="font-semibold text-red-700 ml-4">${e("chart.totalGasEnergy")}: ${I.totalGasEnergy.toFixed(2)} kWh</span>`)},[m,e]);Y.useEffect(()=>{w()},[t,u,f,d,w]);const k=Y.useMemo(()=>({labels:u,datasets:[{label:e("chart.gasPower"),data:h,borderColor:"#DC2626",backgroundColor:"rgba(220, 38, 38, 0.1)",borderWidth:1,tension:.4,pointRadius:0,yAxisID:"y"},{label:e("chart.boilerModulation"),data:p,borderColor:"#7C3AED",backgroundColor:"rgba(124, 58, 237, 0.1)",borderWidth:1,tension:.4,pointRadius:0,yAxisID:"y1"}]}),[u,h,p,e]),S=Y.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,onClick:_,interaction:{intersect:!1,mode:"index"},plugins:{legend:{position:"top",labels:{usePointStyle:!0,font:{size:12}}},title:{display:!0,text:e("chart.gasPowerAnalysis"),font:{size:16,weight:"bold"}},tooltip:{mode:"index",intersect:!1,backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"white",bodyColor:"white",borderColor:"rgba(255, 255, 255, 0.2)",borderWidth:1,callbacks:{afterTitle:I=>{const O=I[0].dataIndex;return d[O]===1?" Gas: Active":" Gas: Inactive"}}},gasBackground:{labels:u,activity:d},zoom:{zoom:{wheel:{enabled:!o},pinch:{enabled:!o},mode:"x",onZoomComplete:({chart:I})=>y(I)},pan:{enabled:!o,mode:"x",onPanComplete:({chart:I})=>y(I)},limits:{x:{min:"original",max:"original"}}}},scales:{x:{type:"time",time:{displayFormats:{hour:"HH:mm",day:"MMM dd"}},grid:{color:"rgba(0, 0, 0, 0.1)"}},y:{type:"linear",display:!0,position:"left",grid:{color:"rgba(0, 0, 0, 0.1)"},title:{display:!0,text:e("chart.gasPowerAxis")}},y1:{type:"linear",display:!0,position:"right",grid:{drawOnChartArea:!1},title:{display:!0,text:e("chart.boilerModulationAxis")}}}}),[_,o,e,u,d,y]),E=()=>{const I=Ht.getChart("gas-power-chart");I&&(I.resetZoom(),l.current=null,w())},C=()=>{r(null),i(null),a(!1)},P=()=>{C(),a(!0)},R=Y.useMemo(()=>{if(n===null||s===null)return null;const I=Math.min(n,s),O=Math.max(n,s),L=c.slice(I,O+1),M=h.slice(I,O+1),A=d.slice(I,O+1),z=M.reduce((U,V)=>U+V/60,0),N=A.filter(U=>U===1).length,D=L.length,$=D>0?(N/D*100).toFixed(1):"0";return{startTime:`${L[0].date} ${L[0].time}`,endTime:`${L[L.length-1].date} ${L[L.length-1].time}`,totalEnergy:z.toFixed(2),activePercent:$,duration:`${Math.round((O-I)*5)} minutes`}},[n,s,c,h,d]),B=m();return g.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold",children:e("chart.gasPowerAnalysis")}),g.jsxs("p",{className:"text-sm text-gray-600","data-gas-energy-total":!0,children:[e("chart.gasPowerCalculationNote")," |"," ",g.jsxs("span",{className:"font-semibold text-red-700",children:[e("chart.totalGasEnergy"),": ",B.totalGasEnergy.toFixed(2)," kWh"]})]})]}),g.jsxs("div",{className:"flex space-x-2",children:[g.jsx("button",{onClick:P,className:`px-3 py-1 text-sm rounded-md transition-colors ${o?"bg-green-100 text-green-700 border border-green-300":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:e(o?"button.clickToMark":"button.markPeriod")}),g.jsx("button",{onClick:C,className:"px-3 py-1 text-sm bg-red-100 text-red-700 rounded-md hover:bg-red-200 transition-colors",children:e("button.clearMarkers")}),g.jsx("button",{onClick:E,className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors",children:e("button.resetZoom")})]})]}),o&&g.jsx("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:g.jsxs("p",{className:"text-sm text-green-700",children:[" ",e("chart.markingModeActive"),":"," ",e(n===null?"chart.startMarker":"chart.endMarker")]})}),R&&g.jsxs("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[g.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:e("chart.markedPeriodAnalysis")}),g.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 text-sm",children:[g.jsxs("div",{children:[g.jsxs("span",{className:"text-blue-600 font-medium",children:[e("chart.start"),":"]}),g.jsx("p",{className:"text-blue-800",children:R.startTime})]}),g.jsxs("div",{children:[g.jsxs("span",{className:"text-blue-600 font-medium",children:[e("chart.end"),":"]}),g.jsx("p",{className:"text-blue-800",children:R.endTime})]}),g.jsxs("div",{children:[g.jsxs("span",{className:"text-blue-600 font-medium",children:[e("chart.duration"),":"]}),g.jsx("p",{className:"text-blue-800",children:R.duration})]}),g.jsxs("div",{children:[g.jsxs("span",{className:"text-blue-600 font-medium",children:[e("chart.gasEnergy"),":"]}),g.jsxs("p",{className:"text-blue-800 font-semibold",children:[R.totalEnergy," kWh"]})]}),g.jsxs("div",{children:[g.jsxs("span",{className:"text-blue-600 font-medium",children:[e("chart.gasActive"),":"]}),g.jsxs("p",{className:"text-blue-800",children:[R.activePercent,"%"]})]})]})]}),g.jsx("div",{style:{height:"400px"},children:g.jsx(Gs,{id:"gas-power-chart",data:k,options:S,plugins:[iM,v]})}),g.jsxs("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 text-sm",children:[g.jsxs("div",{className:"bg-red-50 p-3 rounded-lg",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),g.jsx("span",{className:"font-medium",children:e("chart.gasActiveBackground")})]}),g.jsx("p",{className:"text-gray-600 mt-1",children:e("chart.gasActiveBackgroundDesc")})]}),g.jsxs("div",{className:"bg-red-50 p-3 rounded-lg",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("div",{className:"w-3 h-3 bg-red-600 rounded-full"}),g.jsx("span",{className:"font-medium",children:e("chart.gasPowerLegend")})]}),g.jsx("p",{className:"text-gray-600 mt-1",children:e("chart.gasPowerDesc")}),g.jsxs("p",{className:"font-semibold text-red-700","data-gas-legend-energy":!0,children:[B.totalGasEnergy.toFixed(2)," kWh"]})]}),g.jsxs("div",{className:"bg-purple-50 p-3 rounded-lg",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("div",{className:"w-3 h-3 bg-purple-600 rounded-full"}),g.jsx("span",{className:"font-medium",children:e("chart.boilerModulationLegend")})]}),g.jsx("p",{className:"text-gray-600 mt-1",children:e("chart.boilerModulationDesc")})]})]}),g.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg text-xs text-gray-600",children:[g.jsxs("div",{className:"mb-2","data-gas-detailed-stats":!0,children:[g.jsxs("span",{className:"font-semibold text-red-700",children:[e("chart.gasActive"),": ",B.gasActivePercent,"%"]}),g.jsxs("span",{className:"text-gray-500 ml-2",children:["(",B.activePoints,"/",B.totalPoints," ",e("chart.dataPoints"),")"]}),g.jsxs("span",{className:"font-semibold text-red-700 ml-4",children:[e("chart.totalGasEnergy"),": ",B.totalGasEnergy.toFixed(2)," kWh"]})]}),g.jsxs("p",{children:[g.jsxs("strong",{children:[e("chart.note"),":"]})," ",e("chart.gasPowerCalculationNote")]}),g.jsxs("ul",{className:"mt-1 ml-4 list-disc",children:[g.jsx("li",{children:e("chart.gasPowerFormula")}),g.jsx("li",{children:e("chart.energyValuesCumulative")}),g.jsx("li",{children:e("chart.redBackgroundNote")}),g.jsxs("li",{children:[g.jsxs("strong",{children:[e("chart.marking"),":"]})," ",e("chart.markingInstructions")]})]})]}),g.jsx("div",{className:"mt-2 text-xs text-gray-500 text-center",children:e("chart.zoomMarkingInstructions")})]})};Ht.register(Xr,Qr,Ln,hr,An,Io,Lo,Ro,tc);const aM={id:"activityBackground",beforeDraw:t=>{var u;const{ctx:e,chartArea:n,scales:r,options:s}=t;if(!n||!(r!=null&&r.x))return;const i=((u=s==null?void 0:s.plugins)==null?void 0:u.activityBackground)||{},o=i.labels||[],a=i.solarActivity||[],l=i.gasActivity||[];if(!o.length)return;e.save();const c=(d,h)=>{let f=null;const p=(v,_)=>{const y=Math.max(n.left,v),m=Math.min(n.right,_);m>y&&(e.fillStyle=h,e.fillRect(y,n.top,m-y,n.height))};for(let v=0;v<o.length;v++){const _=o[v].getTime(),y=r.x.getPixelForValue(_),m=d[v]===1;m&&f===null?f=y:!m&&f!==null&&(p(f,y),f=null)}f!==null&&p(f,n.right)};c(a,"rgba(249, 115, 22, 0.15)"),c(l,"rgba(239, 68, 68, 0.15)"),e.restore()}},lM=({data:t})=>{const{t:e}=Fn(),[n,r]=Y.useState(null),[s,i]=Y.useState(null),[o,a]=Y.useState(!1),l=Y.useRef(null),c=Y.useMemo(()=>t,[t]),u=Y.useMemo(()=>c.map(L=>{const[M,A,z]=L.date.split("."),[N,D]=L.time.split(":");return new Date(parseInt(z),parseInt(A)-1,parseInt(M),parseInt(N),parseInt(D))}),[c]),d=Y.useMemo(()=>c.map(L=>L.solarStatus.includes("Charging")||L.collectorPump==="On"?1:0),[c]),h=Y.useMemo(()=>c.map(L=>L.dhwPump==="On"?1:0),[c]),f=Y.useMemo(()=>c.map((M,A)=>{const z=M.collectorTemp-M.sensorTemp;return!(d[A]===1)||z<=0?0:5.5*4.18*z/60}),[c,d]),p=Y.useMemo(()=>c.map((L,M)=>{if(h[M]!==1)return 0;let A=0;if(L.boilerModulation&&L.boilerModulation!=="----"){const z=parseFloat(L.boilerModulation.replace("%","").trim());A=isNaN(z)?0:z}return A<=0?0:10*(A/100)}),[c,h]),{solarEnergy:v,gasEnergy:_}=Y.useMemo(()=>{const L=[],M=[];let A=0,z=0;const N=1/60;for(let D=0;D<f.length;D++)f[D]>0&&(A+=f[D]*N),p[D]>0&&(z+=p[D]*N),L.push(A),M.push(z);return{solarEnergy:L,gasEnergy:M}},[f,p]),y=Y.useMemo(()=>({id:"markers",afterDraw:L=>{const{ctx:M,chartArea:A,scales:z}=L;if(!(!A||!(z!=null&&z.x))){if(M.save(),n!==null&&n<u.length){const N=u[n].getTime(),D=z.x.getPixelForValue(N);M.strokeStyle="#10B981",M.lineWidth=2,M.setLineDash([5,5]),M.beginPath(),M.moveTo(D,A.top),M.lineTo(D,A.bottom),M.stroke(),M.fillStyle="#10B981",M.font="bold 12px Arial",M.fillText("START",D+5,A.top+15)}if(s!==null&&s<u.length){const N=u[s].getTime(),D=z.x.getPixelForValue(N);M.strokeStyle="#EF4444",M.lineWidth=2,M.setLineDash([5,5]),M.beginPath(),M.moveTo(D,A.top),M.lineTo(D,A.bottom),M.stroke(),M.fillStyle="#EF4444",M.font="bold 12px Arial",M.fillText("END",D+5,A.top+30)}M.restore()}}}),[n,s,u]),m=(L,M,A)=>{if(!o||u.length===0)return;const z=ft(L,A),N=A.scales.x.getValueForPixel(z.x);let D=0,$=Math.abs(u[0].getTime()-N);for(let U=1;U<u.length;U++){const V=Math.abs(u[U].getTime()-N);V<$&&($=V,D=U)}n===null?r(D):s===null?(i(D),a(!1)):(r(D),i(null))},w=Y.useCallback(L=>{var $,U,V;const M=($=L.scales)==null?void 0:$.x;if(!M)return;const A=M.min,z=M.max,N=(U=u[0])==null?void 0:U.getTime(),D=(V=u[u.length-1])==null?void 0:V.getTime();N==null||D==null?l.current={min:A,max:z}:A>N||z<D?l.current={min:A,max:z}:l.current=null,S()},[u]),k=Y.useCallback(()=>{if(!l.current||u.length===0){const V=v[v.length-1]||0,K=_[_.length-1]||0,de=V+K,se=c.length,We=d.filter(xe=>xe===1).length,be=h.filter(xe=>xe===1).length,ce=se>0?(We/se*100).toFixed(1):"0",bt=se>0?(be/se*100).toFixed(1):"0";return{totalSolarEnergy:V,totalGasEnergy:K,totalCombinedEnergy:de,solarActivePoints:We,gasActivePoints:be,totalPoints:se,solarActivePercent:ce,gasActivePercent:bt}}const L=[];u.forEach((V,K)=>{const de=V.getTime();de>=l.current.min&&de<=l.current.max&&L.push(K)});let M=0,A=0;if(L.length>0){const V=L[0],K=L[L.length-1],de=V>0?v[V-1]:0;M=v[K]-de;const We=V>0?_[V-1]:0;A=_[K]-We}const z=L.filter(V=>d[V]===1).length,N=L.filter(V=>h[V]===1).length,D=L.length,$=D>0?(z/D*100).toFixed(1):"0",U=D>0?(N/D*100).toFixed(1):"0";return{totalSolarEnergy:M,totalGasEnergy:A,totalCombinedEnergy:M+A,solarActivePoints:z,gasActivePoints:N,totalPoints:D,solarActivePercent:$,gasActivePercent:U}},[u,c.length,d,h,v,_]),S=Y.useCallback(()=>{const L=k(),M=document.querySelector("[data-combined-energy-total]");if(M){const $=l.current!==null?" | (Zoomed View)":"";M.innerHTML=`${e("chart.combinedPowerNote")} | <span class="font-semibold text-blue-700">${e("chart.totalCombinedEnergy")}: ${L.totalCombinedEnergy.toFixed(2)} kWh</span>${$}`}const A=document.querySelector("[data-combined-solar-legend-energy]");A&&(A.textContent=`${L.totalSolarEnergy.toFixed(2)} kWh`);const z=document.querySelector("[data-combined-gas-legend-energy]");z&&(z.textContent=`${L.totalGasEnergy.toFixed(2)} kWh`);const N=document.querySelector("[data-combined-detailed-stats]");N&&(N.innerHTML=`
        <span class="font-semibold text-amber-700">${e("chart.solarActive")}: ${L.solarActivePercent}%</span>
        <span class="font-semibold text-red-700 ml-4">${e("chart.gasActive")}: ${L.gasActivePercent}%</span>
        <span class="font-semibold text-amber-700 ml-4">${e("chart.totalSolarEnergy")}: ${L.totalSolarEnergy.toFixed(2)} kWh</span>
        <span class="font-semibold text-red-700 ml-4">${e("chart.totalGasEnergy")}: ${L.totalGasEnergy.toFixed(2)} kWh</span>
      `)},[k,e]);Y.useEffect(()=>{S()},[t,u,v,_,S]);const E=Y.useMemo(()=>({labels:u,datasets:[{label:e("chart.solarPower"),data:f,borderColor:"#F59E0B",backgroundColor:"rgba(245, 158, 11, 0.1)",borderWidth:1,tension:.4,pointRadius:0},{label:e("chart.gasPower"),data:p,borderColor:"#DC2626",backgroundColor:"rgba(220, 38, 38, 0.1)",borderWidth:1,tension:.4,pointRadius:0}]}),[u,f,p,e]),C=Y.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,onClick:m,interaction:{intersect:!1,mode:"index"},plugins:{legend:{position:"top",labels:{usePointStyle:!0,font:{size:12}}},title:{display:!0,text:e("chart.combinedPowerAnalysis"),font:{size:16,weight:"bold"}},tooltip:{mode:"index",intersect:!1,backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"white",bodyColor:"white",borderColor:"rgba(255, 255, 255, 0.2)",borderWidth:1,callbacks:{afterTitle:L=>{const M=L[0].dataIndex,A=d[M]===1,z=h[M]===1;return A&&z?" Solar + Gas: Active":A?" Solar: Active":z?" Gas: Active":" Both: Inactive"}}},activityBackground:{labels:u,solarActivity:d,gasActivity:h},zoom:{zoom:{wheel:{enabled:!o},pinch:{enabled:!o},mode:"x",onZoomComplete:({chart:L})=>w(L)},pan:{enabled:!o,mode:"x",onPanComplete:({chart:L})=>w(L)},limits:{x:{min:"original",max:"original"}}}},scales:{x:{type:"time",time:{displayFormats:{hour:"HH:mm",day:"MMM dd"}},grid:{color:"rgba(0, 0, 0, 0.1)"}},y:{grid:{color:"rgba(0, 0, 0, 0.1)"},title:{display:!0,text:e("chart.powerAxis")}}}}),[m,o,e,u,d,h,w]),P=()=>{const L=Ht.getChart("combined-power-chart");L&&(L.resetZoom(),l.current=null,S())},R=()=>{r(null),i(null),a(!1)},B=()=>{R(),a(!0)},I=Y.useMemo(()=>{if(n===null||s===null)return null;const L=Math.min(n,s),M=Math.max(n,s),A=c.slice(L,M+1),z=f.slice(L,M+1),N=p.slice(L,M+1),D=d.slice(L,M+1),$=h.slice(L,M+1),U=z.reduce((ce,bt)=>ce+bt/60,0),V=N.reduce((ce,bt)=>ce+bt/60,0),K=D.filter(ce=>ce===1).length,de=$.filter(ce=>ce===1).length,se=A.length,We=se>0?(K/se*100).toFixed(1):"0",be=se>0?(de/se*100).toFixed(1):"0";return{startTime:`${A[0].date} ${A[0].time}`,endTime:`${A[A.length-1].date} ${A[A.length-1].time}`,totalSolarEnergy:U.toFixed(2),totalGasEnergy:V.toFixed(2),solarActivePercent:We,gasActivePercent:be,duration:`${Math.round((M-L)*5)} minutes`}},[n,s,c,f,p,d,h]),O=k();return g.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold",children:e("chart.combinedPowerAnalysis")}),g.jsxs("p",{className:"text-sm text-gray-600","data-combined-energy-total":!0,children:[e("chart.combinedPowerNote")," |"," ",g.jsxs("span",{className:"font-semibold text-blue-700",children:[e("chart.totalCombinedEnergy"),": ",O.totalCombinedEnergy.toFixed(2)," kWh"]})]})]}),g.jsxs("div",{className:"flex space-x-2",children:[g.jsx("button",{onClick:B,className:`px-3 py-1 text-sm rounded-md transition-colors ${o?"bg-green-100 text-green-700 border border-green-300":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:e(o?"button.clickToMark":"button.markPeriod")}),g.jsx("button",{onClick:R,className:"px-3 py-1 text-sm bg-red-100 text-red-700 rounded-md hover:bg-red-200 transition-colors",children:e("button.clearMarkers")}),g.jsx("button",{onClick:P,className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors",children:e("button.resetZoom")})]})]}),o&&g.jsx("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:g.jsxs("p",{className:"text-sm text-green-700",children:[" ",e("chart.markingModeActive"),":"," ",e(n===null?"chart.startMarker":"chart.endMarker")]})}),I&&g.jsxs("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[g.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:e("chart.markedPeriodAnalysis")}),g.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 text-sm mb-3",children:[g.jsxs("div",{children:[g.jsxs("span",{className:"text-blue-600 font-medium",children:[e("chart.start"),":"]}),g.jsx("p",{className:"text-blue-800",children:I.startTime})]}),g.jsxs("div",{children:[g.jsxs("span",{className:"text-blue-600 font-medium",children:[e("chart.end"),":"]}),g.jsx("p",{className:"text-blue-800",children:I.endTime})]}),g.jsxs("div",{children:[g.jsxs("span",{className:"text-blue-600 font-medium",children:[e("chart.duration"),":"]}),g.jsx("p",{className:"text-blue-800",children:I.duration})]})]}),g.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[g.jsxs("div",{children:[g.jsxs("span",{className:"text-blue-600 font-medium",children:[e("chart.solarEnergy"),":"]}),g.jsxs("p",{className:"text-blue-800 font-semibold",children:[I.totalSolarEnergy," kWh"]})]}),g.jsxs("div",{children:[g.jsxs("span",{className:"text-blue-600 font-medium",children:[e("chart.gasEnergy"),":"]}),g.jsxs("p",{className:"text-blue-800 font-semibold",children:[I.totalGasEnergy," kWh"]})]}),g.jsxs("div",{children:[g.jsxs("span",{className:"text-blue-600 font-medium",children:[e("chart.solarActive"),":"]}),g.jsxs("p",{className:"text-blue-800",children:[I.solarActivePercent,"%"]})]}),g.jsxs("div",{children:[g.jsxs("span",{className:"text-blue-600 font-medium",children:[e("chart.gasActive"),":"]}),g.jsxs("p",{className:"text-blue-800",children:[I.gasActivePercent,"%"]})]})]})]}),g.jsx("div",{style:{height:"400px"},children:g.jsx(Gs,{id:"combined-power-chart",data:E,options:C,plugins:[aM,y]})}),g.jsxs("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[g.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),g.jsx("span",{className:"font-medium",children:e("chart.solarActiveBackground")})]}),g.jsx("p",{className:"text-gray-600 mt-1",children:e("chart.solarActiveBackgroundDesc")})]}),g.jsxs("div",{className:"bg-red-50 p-3 rounded-lg",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),g.jsx("span",{className:"font-medium",children:e("chart.gasActiveBackground")})]}),g.jsx("p",{className:"text-gray-600 mt-1",children:e("chart.gasActiveBackgroundDesc")})]}),g.jsxs("div",{className:"bg-amber-50 p-3 rounded-lg",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("div",{className:"w-3 h-3 bg-amber-500 rounded-full"}),g.jsx("span",{className:"font-medium",children:e("chart.solarPowerLegend")})]}),g.jsx("p",{className:"text-gray-600 mt-1",children:e("chart.solarPowerDesc")}),g.jsxs("p",{className:"font-semibold text-amber-700","data-combined-solar-legend-energy":!0,children:[O.totalSolarEnergy.toFixed(2)," kWh"]})]}),g.jsxs("div",{className:"bg-red-50 p-3 rounded-lg",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("div",{className:"w-3 h-3 bg-red-600 rounded-full"}),g.jsx("span",{className:"font-medium",children:e("chart.gasPowerLegend")})]}),g.jsx("p",{className:"text-gray-600 mt-1",children:e("chart.gasPowerDesc")}),g.jsxs("p",{className:"font-semibold text-red-700","data-combined-gas-legend-energy":!0,children:[O.totalGasEnergy.toFixed(2)," kWh"]})]})]}),g.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg text-xs text-gray-600",children:g.jsxs("div",{className:"mb-2 flex flex-wrap gap-4","data-combined-detailed-stats":!0,children:[g.jsxs("span",{className:"font-semibold text-amber-700",children:[e("chart.solarActive"),": ",O.solarActivePercent,"%"]}),g.jsxs("span",{className:"font-semibold text-red-700",children:[e("chart.gasActive"),": ",O.gasActivePercent,"%"]}),g.jsxs("span",{className:"font-semibold text-amber-700",children:[e("chart.totalSolarEnergy"),": ",O.totalSolarEnergy.toFixed(2)," kWh"]}),g.jsxs("span",{className:"font-semibold text-red-700",children:[e("chart.totalGasEnergy"),": ",O.totalGasEnergy.toFixed(2)," kWh"]})]})})]})},cM=t=>{if(t.length===0)return{totalBurnerStarts:0,avgCollectorTemp:0,maxOutsideTemp:0,maxDhwTemp:0,avgWaterPressure:0,solarActiveHours:0,gasActiveHours:0};const e=t.filter(i=>i.collectorTemp>0);t.filter(i=>i.outsideTemp>0);const n=t.filter(i=>i.waterPressure>0),r=t.filter(i=>i.solarStatus.includes("Charging")||i.collectorPump==="On").length,s=t.filter(i=>i.burnerState.includes("operation")||i.boilerModulation!=="----").length;return{totalBurnerStarts:Math.max(...t.map(i=>i.burnerStarts))-Math.min(...t.map(i=>i.burnerStarts)),avgCollectorTemp:e.reduce((i,o)=>i+o.collectorTemp,0)/e.length,maxOutsideTemp:Math.max(...t.map(i=>i.outsideTemp)),maxDhwTemp:Math.max(...t.map(i=>i.dhwTempTop)),avgWaterPressure:n.reduce((i,o)=>i+o.waterPressure,0)/n.length,solarActiveHours:r/60,gasActiveHours:s/60}},uM="modulepreload",dM=function(t){return"/"+t},fm={},Bo=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=dM(l),l in fm)return;fm[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":uM,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((h,f)=>{d.addEventListener("load",h),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},hM=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Bo(async()=>{const{default:r}=await Promise.resolve().then(()=>ti);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Zh extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class fM extends Zh{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class gm extends Zh{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class pm extends Zh{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var bd;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(bd||(bd={}));var gM=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class pM{constructor(e,{headers:n={},customFetch:r,region:s=bd.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=hM(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return gM(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region);const c=new URL(`${this.url}/${e}`);l&&l!=="any"&&(a["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:u}).catch(v=>{throw new fM(v)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new gm(d);if(!d.ok)throw new pm(d);let f=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield d.json():f==="application/octet-stream"?p=yield d.blob():f==="text/event-stream"?p=d:f==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null,response:d}}catch(s){return{data:null,error:s,response:s instanceof pm||s instanceof gm?s.context:void 0}}})}}var pt={},Jh={},rc={},Wo={},sc={},ic={},mM=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ks=mM();const yM=Ks.fetch,bx=Ks.fetch.bind(Ks),_x=Ks.Headers,vM=Ks.Request,xM=Ks.Response,ti=Object.freeze(Object.defineProperty({__proto__:null,Headers:_x,Request:vM,Response:xM,default:bx,fetch:yM},Symbol.toStringTag,{value:"Module"})),wM=xw(ti);var oc={};Object.defineProperty(oc,"__esModule",{value:!0});let bM=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};oc.default=bM;var kx=zt&&zt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ic,"__esModule",{value:!0});const _M=kx(wM),kM=kx(oc);let SM=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=_M.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l,c;let u=null,d=null,h=null,f=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?d=m:d=JSON.parse(m))}const _=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),y=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");_&&y&&y.length>1&&(h=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const _=await i.text();try{u=JSON.parse(_),Array.isArray(u)&&i.status===404&&(d=[],u=null,f=200,p="OK")}catch{i.status===404&&_===""?(f=204,p="No Content"):u={message:_}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,p="OK"),u&&this.shouldThrowOnError)throw new kM.default(u)}return{error:u,data:d,count:h,status:f,statusText:p}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};ic.default=SM;var TM=zt&&zt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(sc,"__esModule",{value:!0});const EM=TM(ic);let PM=class extends EM.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};sc.default=PM;var CM=zt&&zt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Wo,"__esModule",{value:!0});const MM=CM(sc);let DM=class extends MM.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Wo.default=DM;var AM=zt&&zt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(rc,"__esModule",{value:!0});const Ei=AM(Wo);let OM=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new Ei.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var s;const i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Ei.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Ei.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Ei.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Ei.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};rc.default=OM;var Sx=zt&&zt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Jh,"__esModule",{value:!0});const NM=Sx(rc),jM=Sx(Wo);let RM=class Tx{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new NM.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Tx(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let c;r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(a="POST",c=n);const u=new Headers(this.headers);return i&&u.set("Prefer",`count=${i}`),new jM.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};Jh.default=RM;var ni=zt&&zt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pt,"__esModule",{value:!0});pt.PostgrestError=pt.PostgrestBuilder=pt.PostgrestTransformBuilder=pt.PostgrestFilterBuilder=pt.PostgrestQueryBuilder=pt.PostgrestClient=void 0;const Ex=ni(Jh);pt.PostgrestClient=Ex.default;const Px=ni(rc);pt.PostgrestQueryBuilder=Px.default;const Cx=ni(Wo);pt.PostgrestFilterBuilder=Cx.default;const Mx=ni(sc);pt.PostgrestTransformBuilder=Mx.default;const Dx=ni(ic);pt.PostgrestBuilder=Dx.default;const Ax=ni(oc);pt.PostgrestError=Ax.default;var IM=pt.default={PostgrestClient:Ex.default,PostgrestQueryBuilder:Px.default,PostgrestFilterBuilder:Cx.default,PostgrestTransformBuilder:Mx.default,PostgrestBuilder:Dx.default,PostgrestError:Ax.default};const{PostgrestClient:LM,PostgrestQueryBuilder:IA,PostgrestFilterBuilder:LA,PostgrestTransformBuilder:zA,PostgrestBuilder:FA,PostgrestError:$A}=IM;class zM{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const n=parseInt(process.versions.node.split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const FM="2.15.1",$M=`realtime-js/${FM}`,BM="1.0.0",_d=1e4,WM=1e3,HM=100;var Ji;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ji||(Ji={}));var Ie;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ie||(Ie={}));var Xt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Xt||(Xt={}));var kd;(function(t){t.websocket="websocket"})(kd||(kd={}));var Nr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Nr||(Nr={}));class UM{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const l=r.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Ox{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var pe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(pe||(pe={}));const mm=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=VM(o,t,e,s),i),{})},VM=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?Nx(i,o):Sd(o)},Nx=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return KM(e,n)}switch(t){case pe.bool:return YM(e);case pe.float4:case pe.float8:case pe.int2:case pe.int4:case pe.int8:case pe.numeric:case pe.oid:return qM(e);case pe.json:case pe.jsonb:return GM(e);case pe.timestamp:return XM(e);case pe.abstime:case pe.date:case pe.daterange:case pe.int4range:case pe.int8range:case pe.money:case pe.reltime:case pe.text:case pe.time:case pe.timestamptz:case pe.timetz:case pe.tsrange:case pe.tstzrange:return Sd(e);default:return Sd(e)}},Sd=t=>t,YM=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},qM=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},GM=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},KM=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Nx(e,a))}return t},XM=t=>typeof t=="string"?t.replace(" ","T"):t,jx=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class iu{constructor(e,n,r={},s=_d){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ym;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(ym||(ym={}));class eo{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=eo.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=eo.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=eo.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=i[c];if(d){const h=u.map(_=>_.presence_ref),f=d.map(_=>_.presence_ref),p=u.filter(_=>f.indexOf(_.presence_ref)<0),v=d.filter(_=>h.indexOf(_.presence_ref)<0);p.length>0&&(a[c]=p),v.length>0&&(l[c]=v)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const d=e[a].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);e[a].unshift(...h)}r(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var vm;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(vm||(vm={}));var to;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(to||(to={}));var Tn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Tn||(Tn={}));class ef{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Ie.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new iu(this,Xt.join,this.params,this.timeout),this.rejoinTimer=new Ox(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ie.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ie.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ie.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Xt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new eo(this),this.broadcastEndpointURL=jx(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Ie.closed){const{config:{broadcast:i,presence:o,private:a}}=this.params,l=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[to.PRESENCE]&&this.bindings[to.PRESENCE].length>0,u={},d={broadcast:i,presence:Object.assign(Object.assign({},o),{enabled:c}),postgres_changes:l,private:a};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(h=>e==null?void 0:e(Tn.CHANNEL_ERROR,h)),this._onClose(()=>e==null?void 0:e(Tn.CLOSED)),this.updateJoinPayload(Object.assign({config:d},u)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:h})=>{var f;if(this.socket.setAuth(),h===void 0){e==null||e(Tn.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,v=(f=p==null?void 0:p.length)!==null&&f!==void 0?f:0,_=[];for(let y=0;y<v;y++){const m=p[y],{filter:{event:w,schema:k,table:S,filter:E}}=m,C=h&&h[y];if(C&&C.event===w&&C.schema===k&&C.table===S&&C.filter===E)_.push(Object.assign(Object.assign({},m),{id:C.id}));else{this.unsubscribe(),this.state=Ie.errored,e==null||e(Tn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(Tn.SUBSCRIBED);return}}).receive("error",h=>{this.state=Ie.errored,e==null||e(Tn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Tn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===Ie.joined&&e===to.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ie.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Xt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new iu(this,Xt.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ie.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new iu(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>HM){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=Xt;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var p,v,_;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((_=(v=f.filter)===null||v===void 0?void 0:v.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(f=>f.callback(h,r)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var p,v,_,y,m,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const k=f.id,S=(p=f.filter)===null||p===void 0?void 0:p.event;return k&&((v=n.ids)===null||v===void 0?void 0:v.includes(k))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const k=(m=(y=f==null?void 0:f.filter)===null||y===void 0?void 0:y.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return k==="*"||k===((w=n==null?void 0:n.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){const p=h.data,{schema:v,table:_,commit_timestamp:y,type:m,errors:w}=p;h=Object.assign(Object.assign({},{schema:v,table:_,commit_timestamp:y,eventType:m,new:{},old:{},errors:w}),this._getPayloadRecords(p))}f.callback(h,r)})}_isClosed(){return this.state===Ie.closed}_isJoined(){return this.state===Ie.joined}_isJoining(){return this.state===Ie.joining}_isLeaving(){return this.state===Ie.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&ef.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Xt.close,{},e)}_onError(e){this._on(Xt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ie.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=mm(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=mm(e.columns,e.old_record)),n}}const xm=()=>{},Na={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},QM=[1e3,2e3,5e3,1e4],ZM=1e4,JM=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class eD{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=_d,this.transport=null,this.heartbeatIntervalMs=Na.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=xm,this.ref=0,this.reconnectTimer=null,this.logger=xm,this.conn=null,this.sendBuffer=[],this.serializer=new UM,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>Bo(async()=>{const{default:a}=await Promise.resolve().then(()=>ti);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${kd.websocket}`,this.httpEndpoint=jx(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=zM.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:BM}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ji.connecting:return Nr.Connecting;case Ji.open:return Nr.Open;case Ji.closing:return Nr.Closing;default:return Nr.Closed}}isConnected(){return this.connectionState()===Nr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new ef(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(WM,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Na.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{n.topic==="phoenix"&&n.event==="phx_reply"&&this.heartbeatCallback(n.payload.status==="ok"?"ok":"error"),n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${s} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Xt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([JM],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:$M};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Xt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Ox(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Na.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,o,a,l,c;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:_d,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Na.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(a=e==null?void 0:e.reconnectAfterMs)!==null&&a!==void 0?a:u=>QM[u-1]||ZM,this.encode=(l=e==null?void 0:e.encode)!==null&&l!==void 0?l:(u,d)=>d(JSON.stringify(u)),this.decode=(c=e==null?void 0:e.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class tf extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Le(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class tD extends tf{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Td extends tf{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var nD=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Rx=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Bo(async()=>{const{default:r}=await Promise.resolve().then(()=>ti);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},rD=()=>nD(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Bo(()=>Promise.resolve().then(()=>ti),void 0)).Response:Response}),Ed=t=>{if(Array.isArray(t))return t.map(n=>Ed(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Ed(r)}),e},sD=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var ss=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const ou=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),iD=(t,e,n)=>ss(void 0,void 0,void 0,function*(){const r=yield rD();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new tD(ou(s),i,o))}).catch(s=>{e(new Td(ou(s),s))}):e(new Td(ou(t),t))}),oD=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(sD(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function Ho(t,e,n,r,s,i){return ss(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,oD(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>iD(l,a,r))})})}function jl(t,e,n,r){return ss(this,void 0,void 0,function*(){return Ho(t,"GET",e,n,r)})}function dn(t,e,n,r,s){return ss(this,void 0,void 0,function*(){return Ho(t,"POST",e,r,s,n)})}function Pd(t,e,n,r,s){return ss(this,void 0,void 0,function*(){return Ho(t,"PUT",e,r,s,n)})}function aD(t,e,n,r){return ss(this,void 0,void 0,function*(){return Ho(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Ix(t,e,n,r,s){return ss(this,void 0,void 0,function*(){return Ho(t,"DELETE",e,r,s,n)})}var it=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const lD={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},wm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class cD{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=Rx(s)}uploadOrUpdate(e,n,r,s){return it(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},wm),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),d=yield(e=="PUT"?Pd:dn)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(Le(i))return{data:null,error:i};throw i}})}upload(e,n,r){return it(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return it(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:wm.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield Pd(this.fetch,a.toString(),l,{headers:u});return{data:{path:i,fullPath:d.Key},error:null}}catch(l){if(Le(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return it(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield dn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new tf("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}})}update(e,n,r){return it(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return it(this,void 0,void 0,function*(){try{return{data:yield dn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Le(s))return{data:null,error:s};throw s}})}copy(e,n,r){return it(this,void 0,void 0,function*(){try{return{data:{path:(yield dn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Le(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return it(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield dn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Le(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return it(this,void 0,void 0,function*(){try{const s=yield dn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Le(s))return{data:null,error:s};throw s}})}download(e,n){return it(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield jl(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Le(a))return{data:null,error:a};throw a}})}info(e){return it(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield jl(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ed(r),error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}})}exists(e){return it(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield aD(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Le(r)&&r instanceof Td){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return it(this,void 0,void 0,function*(){try{return{data:yield Ix(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}})}list(e,n,r){return it(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},lD),n),{prefix:e||""});return{data:yield dn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Le(s))return{data:null,error:s};throw s}})}listV2(e,n){return it(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield dn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const uD="2.11.0",dD={"X-Client-Info":`storage-js/${uD}`};var us=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class hD{constructor(e,n={},r,s){const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},dD),n),this.fetch=Rx(r)}listBuckets(){return us(this,void 0,void 0,function*(){try{return{data:yield jl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Le(e))return{data:null,error:e};throw e}})}getBucket(e){return us(this,void 0,void 0,function*(){try{return{data:yield jl(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return us(this,void 0,void 0,function*(){try{return{data:yield dn(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return us(this,void 0,void 0,function*(){try{return{data:yield Pd(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}})}emptyBucket(e){return us(this,void 0,void 0,function*(){try{return{data:yield dn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}})}deleteBucket(e){return us(this,void 0,void 0,function*(){try{return{data:yield Ix(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}})}}class fD extends hD{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new cD(this.url,this.headers,e,this.fetch)}}const gD="2.56.0";let Ii="";typeof Deno<"u"?Ii="deno":typeof document<"u"?Ii="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ii="react-native":Ii="node";const pD={"X-Client-Info":`supabase-js-${Ii}/${gD}`},mD={headers:pD},yD={schema:"public"},vD={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},xD={};var wD=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const bD=t=>{let e;return t?e=t:typeof fetch>"u"?e=bx:e=fetch,(...n)=>e(...n)},_D=()=>typeof Headers>"u"?_x:Headers,kD=(t,e,n)=>{const r=bD(n),s=_D();return(i,o)=>wD(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var SD=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function TD(t){return t.endsWith("/")?t:t+"/"}function ED(t,e){var n,r;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:c,realtime:u,global:d}=e,h={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>SD(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}const Lx="2.71.1",ps=30*1e3,Cd=3,au=Cd*ps,PD="http://localhost:9999",CD="supabase.auth.token",MD={"X-Client-Info":`gotrue-js/${Lx}`},Md="X-Supabase-Api-Version",zx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},DD=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,AD=10*60*1e3;class nf extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function J(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class OD extends nf{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function ND(t){return J(t)&&t.name==="AuthApiError"}class Fx extends nf{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class wr extends nf{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class Yn extends wr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function jD(t){return J(t)&&t.name==="AuthSessionMissingError"}class ja extends wr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ra extends wr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ia extends wr{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function RD(t){return J(t)&&t.name==="AuthImplicitGrantRedirectError"}class bm extends wr{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Dd extends wr{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function lu(t){return J(t)&&t.name==="AuthRetryableFetchError"}class _m extends wr{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Ad extends wr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Rl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),km=` 	
\r=`.split(""),ID=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<km.length;e+=1)t[km[e].charCodeAt(0)]=-2;for(let e=0;e<Rl.length;e+=1)t[Rl[e].charCodeAt(0)]=e;return t})();function Sm(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Rl[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Rl[r]),e.queuedBits-=6}}function $x(t,e,n){const r=ID[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Tm(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{FD(o,r,n)};for(let o=0;o<t.length;o+=1)$x(t.charCodeAt(o),s,i);return e.join("")}function LD(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function zD(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}LD(r,e)}}function FD(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function $D(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)$x(t.charCodeAt(s),n,r);return new Uint8Array(e)}function BD(t){const e=[];return zD(t,n=>e.push(n)),new Uint8Array(e)}function WD(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>Sm(s,n,r)),Sm(null,n,r),e.join("")}function HD(t){return Math.round(Date.now()/1e3)+t}function UD(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Yt=()=>typeof window<"u"&&typeof document<"u",Er={tested:!1,writable:!1},Bx=()=>{if(!Yt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Er.tested)return Er.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Er.tested=!0,Er.writable=!0}catch{Er.tested=!0,Er.writable=!1}return Er.writable};function VD(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const Wx=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Bo(async()=>{const{default:r}=await Promise.resolve().then(()=>ti);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},YD=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ms=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Pr=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Un=async(t,e)=>{await t.removeItem(e)};class ac{constructor(){this.promise=new ac.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}ac.promiseConstructor=Promise;function cu(t){const e=t.split(".");if(e.length!==3)throw new Ad("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!DD.test(e[r]))throw new Ad("JWT not in base64url format");return{header:JSON.parse(Tm(e[0])),payload:JSON.parse(Tm(e[1])),signature:$D(e[2]),raw:{header:e[0],payload:e[1]}}}async function qD(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function GD(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function KD(t){return("0"+t.toString(16)).substr(-2)}function XD(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,KD).join("")}async function QD(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function ZD(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await QD(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ds(t,e,n=!1){const r=XD();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await ms(t,`${e}-code-verifier`,s);const i=await ZD(r);return[i,r===i?"plain":"s256"]}const JD=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function eA(t){const e=t.headers.get(Md);if(!e||!e.match(JD))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function tA(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function nA(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const rA=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function hs(t){if(!rA.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function uu(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Em(t){return JSON.parse(JSON.stringify(t))}var sA=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Or=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),iA=[502,503,504];async function Pm(t){var e;if(!YD(t))throw new Dd(Or(t),0);if(iA.includes(t.status))throw new Dd(Or(t),t.status);let n;try{n=await t.json()}catch(i){throw new Fx(Or(i),i)}let r;const s=eA(t);if(s&&s.getTime()>=zx["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new _m(Or(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Yn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new _m(Or(n),t.status,n.weak_password.reasons);throw new OD(Or(n),t.status||500,r)}const oA=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function te(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Md]||(i[Md]=zx["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await aA(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function aA(t,e,n,r,s,i){const o=oA(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new Dd(Or(l),0)}if(a.ok||await Pm(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Pm(l)}}function kn(t){var e;let n=null;dA(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=HD(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Cm(t){const e=kn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Qn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function lA(t){return{data:t,error:null}}function cA(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=sA(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function uA(t){return t}function dA(t){return t.access_token&&t.refresh_token&&t.expires_in}const du=["global","local","others"];var hA=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class fA{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Wx(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=du[0]){if(du.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${du.join(", ")}`);try{return await te(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await te(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Qn})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=hA(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:cA,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(J(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await te(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Qn})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:uA});if(u.error)throw u.error;const d=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(p=>{const v=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(p.split(";")[1].split("=")[1]);c[`${_}Page`]=v}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(J(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){hs(e);try{return await te(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Qn})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){hs(e);try{return await te(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Qn})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){hs(e);try{return await te(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Qn})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){hs(e.userId);try{const{data:n,error:r}=await te(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(J(n))return{data:null,error:n};throw n}}async _deleteFactor(e){hs(e.userId),hs(e.id);try{return{data:await te(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}}}function Mm(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function gA(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const fs={debug:!!(globalThis&&Bx()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Hx extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class pA extends Hx{}async function mA(t,e,n){fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),fs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new pA(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(fs.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}gA();const yA={url:PD,storageKey:CD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:MD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Dm(t,e,n){return await n()}const gs={};class Co{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Co.nextInstanceID,Co.nextInstanceID+=1,this.instanceID>0&&Yt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},yA),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new fA({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Wx(s.fetch),this.lock=s.lock||Dm,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Yt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=mA:this.lock=Dm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Bx()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Mm(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Mm(this.memoryStorage)),Yt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=gs[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){gs[this.storageKey]=Object.assign(Object.assign({},gs[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=gs[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){gs[this.storageKey]=Object.assign(Object.assign({},gs[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Lx}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=VD(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Yt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),RD(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return J(n)?{error:n}:{error:new Fx("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:kn}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(J(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:u,password:d,options:h}=e;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await ds(this.storage,this.storageKey)),i=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:p},xform:kn})}else if("phone"in e){const{phone:u,password:d,options:h}=e;i=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:kn})}else throw new Ra("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(J(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Cm})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Cm})}else throw new Ra("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ja}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(J(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,o,a,l,c,u,d,h,f;let p,v;if("message"in e)p=e.message,v=e.signature;else{const{chain:_,wallet:y,statement:m,options:w}=e;let k;if(Yt())if(typeof y=="object")k=y;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))k=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=y}const S=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in k&&k.signIn){const E=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),m?{statement:m}:null));let C;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")C=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)C=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)p=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),v=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${S.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(r=w==null?void 0:w.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((d=(u=w==null?void 0:w.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...w.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const E=await k.signMessage(new TextEncoder().encode(p),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=E}}try{const{data:_,error:y}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:WD(v)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:kn});if(y)throw y;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new ja}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:y})}catch(_){if(J(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(e){const n=await Pr(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:kn});if(await Un(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ja}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(J(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:kn}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new ja}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(J(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await ds(this.storage,this.storageKey));const{error:d}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Ra("You must provide either an email or phone number.")}catch(a){if(J(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:kn});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(J(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await ds(this.storage,this.storageKey)),await te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:lA})}catch(i){if(J(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Yn;const{error:s}=await te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(J(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await te(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await te(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Ra("You must provide either an email or phone number and a type")}catch(n){if(J(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Pr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<au:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await Pr(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=uu()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Qn}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Yn}:await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Qn})})}catch(n){if(J(n))return jD(n)&&(await this._removeSession(),await Un(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Yn;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await ds(this.storage,this.storageKey));const{data:c,error:u}=await te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Qn});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Yn;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=cu(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(J(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Yn;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(J(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Yt())throw new Ia("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ia(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new bm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ia("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new bm("No code detected.");const{data:m,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new Ia("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let h=u+d;l&&(h=parseInt(l));const f=h-u;f*1e3<=ps&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const p=h-d;u-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,u):u-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,u);const{data:v,error:_}=await this._getUser(i);if(_)throw _;const y={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:h,refresh_token:o,token_type:c,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(r){if(J(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Pr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(ND(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Un(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=UD(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await ds(this.storage,this.storageKey,!0));try{return await te(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(J(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,c,u;const{data:d,error:h}=i;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await te(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return Yt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(J(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await te(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(J(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await GD(async s=>(s>0&&await qD(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:kn})),(s,i)=>{const o=200*Math.pow(2,s);return i&&lu(i)&&Date.now()+o-r<ps})}catch(r){if(this._debug(n,"error",r),J(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Yt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Pr(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Pr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await ms(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:uu()}else if(s&&!s.user&&!s.user){const o=await Pr(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Un(this.storage,this.storageKey+"-user"),await ms(this.storage,this.storageKey,s)):s.user=uu()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<au;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${au}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),lu(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Yn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ac;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Yn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),J(i)){const o={session:null,error:i};return lu(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await ms(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Em(s);await ms(this.storage,this.storageKey,i)}else{const s=Em(n);await ms(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Un(this.storage,this.storageKey),await Un(this.storage,this.storageKey+"-code-verifier"),await Un(this.storage,this.storageKey+"-user"),this.userStorage&&await Un(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Yt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ps);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/ps);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ps}ms, refresh threshold is ${Cd} ticks`),s<=Cd&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Hx)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Yt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await ds(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await te(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(J(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await te(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(J(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await te(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(J(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await te(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(J(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=cu(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+AD>s)return r;const{data:i,error:o}=await te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:f,error:p}=await this.getSession();if(p||!f.session)return{data:null,error:p};r=f.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=cu(r);n!=null&&n.allowExpired||tA(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:f}=await this.getUser(r);if(f)throw f;return{data:{claims:i,header:s,signature:o},error:null}}const u=nA(s.alg),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,BD(`${a}.${l}`)))throw new Ad("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}}}Co.nextInstanceID=0;const vA=Co;class xA extends vA{constructor(e){super(e)}}var wA=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class bA{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=TD(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:yD,realtime:xD,auth:Object.assign(Object.assign({},vD),{storageKey:c}),global:mD},d=ED(r??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=kD(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new LM(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new fD(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new pM(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return wA(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},c,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new xA({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),c),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new eD(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const _A=(t,e,n)=>new bA(t,e,n);function kA(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}kA()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const SA="https://hcbyyssbmodqyhkblpvl.supabase.co",TA="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhjYnl5c3NibW9kcXloa2JscHZsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU1MTU0NzIsImV4cCI6MjA3MTA5MTQ3Mn0.8hz0CxEGUDDCxG04D3LvtD7HzATDHpno-ni7DEbNkRE",Nt=_A(SA,TA,{auth:{persistSession:!1}});class Am{static dbRowToDataPoint(e){return{date:e.date,time:e.time,collectorTemp:e.collector_temp,outsideTemp:e.outside_temp,dhwTempTop:e.dhw_temp_top,dhwTempBottom:e.dhw_temp_bottom,flowTemp:e.flow_temp,flowTempSetpoint:e.flow_temp_setpoint,burnerStarts:e.burner_starts,boilerModulation:e.boiler_modulation,fanControl:e.fan_control,collectorPump:e.collector_pump,boilerPump:e.boiler_pump,burnerState:e.burner_state,solarStatus:e.solar_status,waterPressure:e.water_pressure,dhwPump:e.dhw_pump,fanSpeed:e.fan_speed,returnTemp:e.return_temp,boilerPumpSpeed:e.boiler_pump_speed,sensorTemp:e.sensor_temp}}static dataPointToDbRow(e){return{date:e.date,time:e.time,collector_temp:e.collectorTemp,outside_temp:e.outsideTemp,dhw_temp_top:e.dhwTempTop,dhw_temp_bottom:e.dhwTempBottom,flow_temp:e.flowTemp,flow_temp_setpoint:e.flowTempSetpoint,burner_starts:e.burnerStarts,boiler_modulation:e.boilerModulation,fan_control:e.fanControl,collector_pump:e.collectorPump,boiler_pump:e.boilerPump,burner_state:e.burnerState,solar_status:e.solarStatus,water_pressure:e.waterPressure,dhw_pump:e.dhwPump,fan_speed:e.fanSpeed,return_temp:e.returnTemp,boiler_pump_speed:e.boilerPumpSpeed,sensor_temp:e.sensorTemp}}static async getAllData(){console.log("Fetching all heating data from database...");const{count:e,error:n}=await Nt.from("heating_data").select("*",{count:"exact",head:!0});if(n)throw console.error("Error getting count:",n),n;console.log(`Total records in database: ${e}`);const r=[],s=1e3;let i=0;for(;i<(e||0);){console.log(`Fetching chunk ${i} to ${i+s-1}`);const{data:l,error:c}=await Nt.from("heating_data").select("*").order("date").order("time").range(i,i+s-1);if(c)throw console.error("Error fetching chunk:",c),c;if(l&&(r.push(...l),console.log(`Fetched ${l.length} records, total so far: ${r.length}`)),i+=s,i>5e4){console.warn("Safety break: stopping at 50,000 records");break}}const o=r;if(!o||o.length===0)return console.log("Total records: 0"),[];console.log("RAW DATABASE DATA (first 5):"),o.slice(0,5).forEach((l,c)=>{console.log(`${c}: ${l.date} ${l.time}`)}),console.log("RAW DATABASE DATA (last 5):"),o.slice(-5).forEach((l,c)=>{console.log(`${o.length-5+c}: ${l.date} ${l.time}`)}),console.log("RAW DATABASE DATA (first 5):"),o.slice(0,5).forEach((l,c)=>{console.log(`${c}: ${l.date} ${l.time}`)}),console.log("RAW DATABASE DATA (last 5):"),o.slice(-5).forEach((l,c)=>{console.log(`${o.length-5+c}: ${l.date} ${l.time}`)});const a=o.map(this.dbRowToDataPoint);return a.sort((l,c)=>{const u=l.date.split(".").reverse().join("-"),d=c.date.split(".").reverse().join("-");return u!==d?u.localeCompare(d):l.time.localeCompare(c.time)}),console.log("AFTER JAVASCRIPT SORTING (first 5):"),a.slice(0,5).forEach((l,c)=>{console.log(`${c}: ${l.date} ${l.time}`)}),console.log("AFTER JAVASCRIPT SORTING (last 5):"),a.slice(-5).forEach((l,c)=>{console.log(`${a.length-5+c}: ${l.date} ${l.time}`)}),console.log("AFTER JAVASCRIPT SORTING (first 5):"),a.slice(0,5).forEach((l,c)=>{console.log(`${c}: ${l.date} ${l.time}`)}),console.log("AFTER JAVASCRIPT SORTING (last 5):"),a.slice(-5).forEach((l,c)=>{console.log(`${a.length-5+c}: ${l.date} ${l.time}`)}),console.log(`Total records: ${a.length}`),console.log("First record:",a[0]),console.log("Last record:",a[a.length-1]),a}static async insertData(e){try{console.log(`Inserting ${e.length} data points...`);const n=e.map(this.dataPointToDbRow),{data:r,error:s}=await Nt.from("heating_data").upsert(n,{onConflict:"date,time",ignoreDuplicates:!0}).select("id");if(s)throw console.error("Error inserting heating data:",s),s;const i=(r==null?void 0:r.length)||0,o=e.length-i;return console.log(`Inserted ${i} new records, ${o} duplicates skipped`),{inserted:i,duplicates:o}}catch(n){throw console.error("Error in insertData:",n),n}}static async checkDataExists(e,n){try{const{data:r,error:s}=await Nt.from("heating_data").select("id").gte("date",e).lte("date",n).limit(1);return s?(console.error("Error checking data existence:",s),!1):r.length>0}catch(r){return console.error("Error in checkDataExists:",r),!1}}static async getDataCount(){try{console.log("Getting total count from database...");const{count:e,error:n}=await Nt.from("heating_data").select("*",{count:"exact",head:!0});return n?(console.error("Error getting data count:",n),0):(console.log(`Database reports ${e} total records`),e||0)}catch(e){return console.error("Error in getDataCount:",e),0}}static async deleteAllData(){try{const{error:e}=await Nt.from("heating_data").delete().neq("id","00000000-0000-0000-0000-000000000000");if(e)throw console.error("Error deleting all data:",e),e;console.log("All heating data deleted")}catch(e){throw console.error("Error in deleteAllData:",e),e}}}const Om=()=>{var h,f,p,v;const{t}=Fn(),[e,n]=ie.useState([]),[r,s]=ie.useState(null),[i,o]=ie.useState(null),[a,l]=ie.useState(!0),[c,u]=ie.useState(0);ie.useEffect(()=>{d()},[]);const d=async()=>{var _,y,m,w,k,S,E,C,P,R,B,I;l(!0);try{const O=await Am.getAllData(),L=await Am.getDataCount();if(O.length>0){const M=cM(O);n(O),s(M),u(L),o(new Date().toLocaleString()),console.log("=== DASHBOARD DATA LOADED ==="),console.log("Total points:",O.length),console.log("First record:",O[0]),console.log("Last record:",O[O.length-1]),console.log("Date range display will show:",{start:`${(_=O[0])==null?void 0:_.date} ${(y=O[0])==null?void 0:y.time}`,end:`${(m=O[O.length-1])==null?void 0:m.date} ${(w=O[O.length-1])==null?void 0:w.time}`}),console.log("Raw data sample (first 3):",O.slice(0,3)),console.log("Raw data sample (last 3):",O.slice(-3)),console.log("================================"),console.log("Data loaded (summary):",{totalPoints:O.length,firstDate:(k=O[0])==null?void 0:k.date,firstTime:(S=O[0])==null?void 0:S.time,lastDate:(E=O[O.length-1])==null?void 0:E.date,lastTime:(C=O[O.length-1])==null?void 0:C.time,dateRange:`${(P=O[0])==null?void 0:P.date} ${(R=O[0])==null?void 0:R.time} - ${(B=O[O.length-1])==null?void 0:B.date} ${(I=O[O.length-1])==null?void 0:I.time}`})}}catch(O){console.error("Error loading data from database:",O)}finally{l(!1)}};return e.length>0&&e[e.length-1],g.jsx("div",{className:"min-h-screen bg-gray-50",children:g.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[g.jsx("div",{className:"mb-8",children:g.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:t("dashboard.title")}),g.jsx("p",{className:"text-gray-600",children:t("dashboard.subtitle")})]}),i&&g.jsxs("div",{className:"mt-4 sm:mt-0 flex items-center space-x-2 text-sm text-gray-500",children:[g.jsx(qy,{className:"w-4 h-4"}),g.jsxs("span",{children:[t("dashboard.lastUpdated"),": ",i]})]})]})}),e.length===0&&!a&&g.jsx("div",{className:"mb-8",children:g.jsxs("div",{className:"text-center py-12",children:[g.jsx(Sl,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),g.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:t("dashboard.noData")}),g.jsx("p",{className:"text-gray-500",children:"Data is automatically imported from email attachments every night at 4 AM European time."})]})}),a&&g.jsxs("div",{className:"mb-8 flex items-center justify-center py-12",children:[g.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full mr-3"}),g.jsx("span",{className:"text-gray-600",children:"Loading heating data..."})]}),e.length>0&&!a&&g.jsx("div",{className:"mb-8",children:g.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 rounded-xl p-6 text-white",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx(Yi,{className:"w-6 h-6"}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold",children:t("dashboard.historicalData")}),g.jsxs("p",{className:"opacity-90",children:[t("dashboard.analyzingPoints")," ",e.length," ",t("dashboard.dataPoints")," (DB: ",c,")"]})]})]}),g.jsxs("div",{className:"text-right",children:[g.jsx("p",{className:"text-sm opacity-90",children:t("dashboard.dataRange")}),g.jsx("p",{className:"font-semibold",children:e.length>0?`${(h=e[0])==null?void 0:h.date} ${(f=e[0])==null?void 0:f.time} - ${(p=e[e.length-1])==null?void 0:p.date} ${(v=e[e.length-1])==null?void 0:v.time}`:"No data"})]})]})})}),e.length>0&&r&&!a?g.jsxs("div",{className:"space-y-8",children:[g.jsx(l1,{metrics:r}),g.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[g.jsx(nM,{data:e}),g.jsx(sM,{data:e}),g.jsx(oM,{data:e}),g.jsx(lM,{data:e})]})]}):!a&&g.jsxs("div",{className:"text-center py-12",children:[g.jsx(Sl,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),g.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:t("dashboard.noData")}),g.jsx("p",{className:"text-gray-500",children:t("dashboard.uploadCsv")})]})]})})};class EA{static async getAllCalculations(){try{console.log("Fetching all energy calculations from database...");const{data:e,error:n}=await Nt.from("energy_calculations").select("*").order("date",{ascending:!1});if(n)throw console.error("Error fetching energy calculations:",n),n;return console.log(`Fetched ${(e==null?void 0:e.length)||0} energy calculation records`),e||[]}catch(e){throw console.error("Error in getAllCalculations:",e),e}}static async getCalculationsByDateRange(e,n){try{console.log(`Fetching energy calculations from ${e} to ${n}...`);const{data:r,error:s}=await Nt.from("energy_calculations").select("*").gte("date",e).lte("date",n).order("date",{ascending:!1});if(s)throw console.error("Error fetching energy calculations by date range:",s),s;return console.log(`Fetched ${(r==null?void 0:r.length)||0} energy calculation records for date range`),r||[]}catch(r){throw console.error("Error in getCalculationsByDateRange:",r),r}}static async getCalculationByDate(e){try{console.log(`Fetching energy calculation for date: ${e}`);const{data:n,error:r}=await Nt.from("energy_calculations").select("*").eq("date",e).single();if(r){if(r.code==="PGRST116")return console.log(`No energy calculation found for date: ${e}`),null;throw console.error("Error fetching energy calculation by date:",r),r}return console.log(`Fetched energy calculation for date: ${e}`),n}catch(n){throw console.error("Error in getCalculationByDate:",n),n}}static async getSummaryStatistics(){try{console.log("Calculating summary statistics...");const{data:e,error:n}=await Nt.from("energy_calculations").select("solar_energy_kwh, gas_energy_kwh, total_energy_kwh");if(n)throw console.error("Error fetching data for summary statistics:",n),n;const r=e||[],s=r.length,i=r.reduce((h,f)=>h+f.solar_energy_kwh,0),o=r.reduce((h,f)=>h+f.gas_energy_kwh,0),a=r.reduce((h,f)=>h+f.total_energy_kwh,0),l=s>0?a/s:0,c=a>0?i/a*100:0,u=a>0?o/a*100:0,d={totalDays:s,totalSolarEnergy:i,totalGasEnergy:o,totalCombinedEnergy:a,avgDailyEnergy:l,solarPercentage:c,gasPercentage:u};return console.log("Summary statistics calculated:",d),d}catch(e){throw console.error("Error in getSummaryStatistics:",e),e}}static async getTopEnergyDays(e=10){try{console.log(`Fetching top ${e} energy days...`);const{data:n,error:r}=await Nt.from("energy_calculations").select("*").order("total_energy_kwh",{ascending:!1}).limit(e);if(r)throw console.error("Error fetching top energy days:",r),r;return console.log(`Fetched top ${(n==null?void 0:n.length)||0} energy days`),n||[]}catch(n){throw console.error("Error in getTopEnergyDays:",n),n}}static async deleteAllCalculations(){try{console.log("Deleting all energy calculations...");const{error:e}=await Nt.from("energy_calculations").delete().neq("id","00000000-0000-0000-0000-000000000000");if(e)throw console.error("Error deleting all energy calculations:",e),e;console.log("All energy calculations deleted")}catch(e){throw console.error("Error in deleteAllCalculations:",e),e}}}Ht.register(Xr,Qr,hr,An,Ja,Io,Lo,Ro,ji,Ln);const PA=()=>{const{t}=Fn(),[e,n]=ie.useState([]),[r,s]=ie.useState(!0),[i,o]=ie.useState(null),[a,l]=ie.useState("date"),[c,u]=ie.useState("desc");ie.useEffect(()=>{d()},[]);const d=async()=>{s(!0),o(null);try{const N=await EA.getAllCalculations();n(N)}catch(N){console.error("Error loading energy calculations:",N),o("Failed to load energy calculations")}finally{s(!1)}},h=N=>{a===N?u(c==="asc"?"desc":"asc"):(l(N),u("desc"))},f=[...e].sort((N,D)=>{const $=N[a],U=D[a];return typeof $=="string"&&typeof U=="string"?c==="asc"?$.localeCompare(U):U.localeCompare($):typeof $=="number"&&typeof U=="number"?c==="asc"?$-U:U-$:0}),p=e.reduce((N,D)=>N+D.solar_energy_kwh,0),v=e.reduce((N,D)=>N+D.gas_energy_kwh,0),_=p+v,y=e.length>0?_/e.length:0,m=_>0?p/_*100:0,w=_>0?v/_*100:0,k=e.map(N=>{try{return new Date(N.date).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit"})}catch{return N.date}}),S={labels:k,datasets:[{label:t("analytics.solarEnergy"),data:e.map(N=>N.solar_energy_kwh),borderColor:"#F59E0B",backgroundColor:"rgba(245, 158, 11, 0.1)",borderWidth:1,tension:.4,fill:!0},{label:t("analytics.gasEnergy"),data:e.map(N=>N.gas_energy_kwh),borderColor:"#DC2626",backgroundColor:"rgba(220, 38, 38, 0.1)",borderWidth:1,tension:.4,fill:!0}]},E={labels:k,datasets:[{label:t("analytics.solarEnergy"),data:e.map(N=>N.solar_energy_kwh),backgroundColor:"#F59E0B",borderColor:"#D97706",borderWidth:1},{label:t("analytics.gasEnergy"),data:e.map(N=>N.gas_energy_kwh),backgroundColor:"#DC2626",borderColor:"#B91C1C",borderWidth:1}]},C={labels:[t("analytics.solarEnergy"),t("analytics.gasEnergy")],datasets:[{data:[p,v],backgroundColor:["#F59E0B","#DC2626"],borderColor:["#D97706","#B91C1C"],borderWidth:1}]},P={labels:k,datasets:[{label:t("analytics.avgCollectorTemp"),data:e.map(N=>N.avg_collector_temp),borderColor:"#F59E0B",backgroundColor:"rgba(245, 158, 11, 0.1)",borderWidth:1,tension:.4,yAxisID:"y"},{label:t("analytics.avgOutsideTemp"),data:e.map(N=>N.avg_outside_temp),borderColor:"#3B82F6",backgroundColor:"rgba(59, 130, 246, 0.1)",borderWidth:1,tension:.4,yAxisID:"y"},{label:t("analytics.avgDhwTemp"),data:e.map(N=>N.avg_dhw_temp),borderColor:"#DC2626",backgroundColor:"rgba(220, 38, 38, 0.1)",borderWidth:1,tension:.4,yAxisID:"y"}]},R={labels:k,datasets:[{label:t("analytics.solarActiveMinutes"),data:e.map(N=>N.solar_active_minutes),backgroundColor:"#F59E0B",borderColor:"#D97706",borderWidth:1},{label:t("analytics.gasActiveMinutes"),data:e.map(N=>N.gas_active_minutes),backgroundColor:"#DC2626",borderColor:"#B91C1C",borderWidth:1}]},B={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{mode:"index",intersect:!1}},scales:{x:{display:!0,title:{display:!0,text:"Date"}},y:{display:!0,title:{display:!0,text:"Energy (kWh)"}}},interaction:{mode:"nearest",axis:"x",intersect:!1}},I={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}},scales:{x:{stacked:!0,title:{display:!0,text:"Date"}},y:{stacked:!0,title:{display:!0,text:"Energy (kWh)"}}}},O={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}},scales:{x:{title:{display:!0,text:"Date"}},y:{title:{display:!0,text:"Time (minutes)"}}}},L={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"},tooltip:{callbacks:{label:function(N){const D=N.label||"",$=N.parsed,U=N.dataset.data.reduce((K,de)=>K+de,0),V=($/U*100).toFixed(1);return`${D}: ${$.toFixed(2)} kWh (${V}%)`}}}}},M={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}},scales:{x:{title:{display:!0,text:"Date"}},y:{title:{display:!0,text:"Temperature (C)"}}}},A=N=>{try{return new Date(N).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return N}},z=N=>a!==N?"":c==="asc"?"":"";return r?g.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full"}),g.jsx("span",{className:"text-gray-600",children:t("analytics.loadingData")})]})}):i?g.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:g.jsxs("div",{className:"text-center",children:[g.jsx(Sl,{className:"w-16 h-16 text-red-400 mx-auto mb-4"}),g.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:t("analytics.errorLoadingData")}),g.jsx("p",{className:"text-gray-500 mb-4",children:i}),g.jsx("button",{onClick:d,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:t("analytics.retry")})]})}):g.jsx("div",{className:"min-h-screen bg-gray-50",children:g.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[g.jsxs("div",{className:"mb-8",children:[g.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[g.jsx(Yi,{className:"w-8 h-8 text-blue-600"}),g.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:t("analytics.title")})]}),g.jsx("p",{className:"text-gray-600",children:t("analytics.subtitle")})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[g.jsx("div",{className:"bg-gradient-to-br from-amber-500 to-orange-600 rounded-xl p-6 text-white",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-amber-100 text-sm font-medium",children:t("analytics.totalSolarEnergy")}),g.jsxs("p",{className:"text-2xl font-bold",children:[p.toFixed(1)," kWh"]}),g.jsxs("p",{className:"text-amber-100 text-sm",children:[m.toFixed(1),"% ",t("analytics.ofTotal")]})]}),g.jsx(Ky,{className:"w-8 h-8 text-amber-100"})]})}),g.jsx("div",{className:"bg-gradient-to-br from-red-500 to-pink-600 rounded-xl p-6 text-white",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-red-100 text-sm font-medium",children:t("analytics.totalGasEnergy")}),g.jsxs("p",{className:"text-2xl font-bold",children:[v.toFixed(1)," kWh"]}),g.jsxs("p",{className:"text-red-100 text-sm",children:[w.toFixed(1),"% ",t("analytics.ofTotal")]})]}),g.jsx(Gy,{className:"w-8 h-8 text-red-100"})]})}),g.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl p-6 text-white",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-blue-100 text-sm font-medium",children:t("analytics.totalCombinedEnergy")}),g.jsxs("p",{className:"text-2xl font-bold",children:[_.toFixed(1)," kWh"]}),g.jsxs("p",{className:"text-blue-100 text-sm",children:[e.length," ",t("analytics.daysAnalyzed")]})]}),g.jsx(r1,{className:"w-8 h-8 text-blue-100"})]})}),g.jsx("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl p-6 text-white",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-green-100 text-sm font-medium",children:t("analytics.avgDailyEnergy")}),g.jsxs("p",{className:"text-2xl font-bold",children:[y.toFixed(1)," kWh"]}),g.jsx("p",{className:"text-green-100 text-sm",children:t("analytics.perDay")})]}),g.jsx(Ng,{className:"w-8 h-8 text-green-100"})]})})]}),e.length>0&&g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[g.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[g.jsx(J_,{className:"w-6 h-6 text-blue-600"}),g.jsx("h3",{className:"text-xl font-bold text-gray-900",children:t("analytics.energyTrendsOverTime")})]}),g.jsx("div",{style:{height:"400px"},children:g.jsx(Gs,{data:S,options:B})})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[g.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[g.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[g.jsx(Yi,{className:"w-6 h-6 text-green-600"}),g.jsx("h3",{className:"text-lg font-bold text-gray-900",children:t("analytics.dailyEnergyBreakdown")})]}),g.jsx("div",{style:{height:"300px"},children:g.jsx(hm,{data:E,options:I})})]}),g.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[g.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[g.jsx(e1,{className:"w-6 h-6 text-purple-600"}),g.jsx("h3",{className:"text-lg font-bold text-gray-900",children:t("analytics.totalEnergyDistribution")})]}),g.jsx("div",{style:{height:"300px"},children:g.jsx(eM,{data:C,options:L})})]}),g.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[g.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[g.jsx(Ng,{className:"w-6 h-6 text-orange-600"}),g.jsx("h3",{className:"text-lg font-bold text-gray-900",children:t("analytics.temperatureTrends")})]}),g.jsx("div",{style:{height:"300px"},children:g.jsx(Gs,{data:P,options:M})})]}),g.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[g.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[g.jsx(Yi,{className:"w-6 h-6 text-indigo-600"}),g.jsx("h3",{className:"text-lg font-bold text-gray-900",children:t("analytics.systemActivityTime")})]}),g.jsx("div",{style:{height:"300px"},children:g.jsx(hm,{data:R,options:O})})]})]})]}),g.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden mt-12",children:[g.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t("analytics.dailyEnergyCalculations")}),g.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[g.jsx(qy,{className:"w-4 h-4"}),g.jsxs("span",{children:[e.length," ",t("analytics.daysOfData")]})]})]})}),g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[g.jsx("thead",{className:"bg-gray-50",children:g.jsxs("tr",{children:[g.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>h("date"),children:[t("analytics.date")," ",z("date")]}),g.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>h("solar_energy_kwh"),children:[t("analytics.solarEnergyKwh")," ",z("solar_energy_kwh")]}),g.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>h("gas_energy_kwh"),children:[t("analytics.gasEnergyKwh")," ",z("gas_energy_kwh")]}),g.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>h("total_energy_kwh"),children:[t("analytics.totalEnergyKwh")," ",z("total_energy_kwh")]}),g.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>h("solar_active_minutes"),children:[t("analytics.solarActiveMin")," ",z("solar_active_minutes")]}),g.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>h("gas_active_minutes"),children:[t("analytics.gasActiveMin")," ",z("gas_active_minutes")]}),g.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>h("avg_collector_temp"),children:[t("analytics.avgCollectorC")," ",z("avg_collector_temp")]}),g.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>h("avg_outside_temp"),children:[t("analytics.avgOutsideC")," ",z("avg_outside_temp")]})]})}),g.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map(N=>g.jsxs("tr",{className:"hover:bg-gray-50",children:[g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:A(N.date)}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-full mr-2"}),N.solar_energy_kwh.toFixed(2)]})}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full mr-2"}),N.gas_energy_kwh.toFixed(2)]})}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:N.total_energy_kwh.toFixed(2)}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:N.solar_active_minutes}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:N.gas_active_minutes}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:N.avg_collector_temp.toFixed(1)}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:N.avg_outside_temp.toFixed(1)})]},N.id))})]})}),e.length===0&&g.jsxs("div",{className:"text-center py-12",children:[g.jsx(Sl,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),g.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:t("analytics.noEnergyData")}),g.jsx("p",{className:"text-gray-500",children:t("analytics.energyCalculationsWillAppear")})]})]})]})})};function CA(){const[t,e]=ie.useState("dashboard"),n=()=>{switch(t){case"dashboard":return g.jsx(Om,{});case"analytics":return g.jsx(PA,{});case"files":return g.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:g.jsxs("div",{className:"text-center",children:[g.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"File Management"}),g.jsx("p",{className:"text-gray-600",children:"Email integration and backup features coming soon"})]})});case"settings":return g.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:g.jsxs("div",{className:"text-center",children:[g.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Settings"}),g.jsx("p",{className:"text-gray-600",children:"System configuration options coming soon"})]})});default:return g.jsx(Om,{})}};return g.jsx(i1,{children:g.jsxs("div",{className:"min-h-screen bg-gray-50",children:[g.jsx(a1,{onSectionChange:e,activeSection:t}),n()]})})}Yy(document.getElementById("root")).render(g.jsx(ie.StrictMode,{children:g.jsx(CA,{})}));
